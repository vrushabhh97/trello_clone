{"version":3,"sources":["../src/index.tsx","../src/hooks/useRefineKbar/index.tsx","../src/definitions/capitalize/index.ts","../src/components/commandBar/index.tsx","../src/components/renderResults/index.tsx","../src/components/resultItem/index.tsx","../src/components/refineKbar/index.tsx"],"sourcesContent":["import React, { createContext } from \"react\";\nimport { KBarProvider, KBarProviderProps } from \"kbar\";\n\nimport { CommandBar } from \"./components/index.js\";\n\ninterface IKBarProviderProps extends KBarProviderProps {\n  commandBarProps?: React.ComponentProps<typeof CommandBar>;\n}\n\nexport const RefineKbarPropsContext = createContext<\n  IKBarProviderProps[\"commandBarProps\"]\n>({});\n\nexport const RefineKbarProvider: React.FunctionComponent<\n  IKBarProviderProps & { children: React.ReactNode }\n> = ({ children, commandBarProps }) => {\n  return (\n    <RefineKbarPropsContext.Provider value={commandBarProps ?? {}}>\n      <KBarProvider>{children}</KBarProvider>\n    </RefineKbarPropsContext.Provider>\n  );\n};\n\nexport type {\n  Action,\n  ActionGroup,\n  ActionId,\n  ActionImpl,\n  ActionInterface,\n  ActionSection,\n  ActionStore,\n  ActionTree,\n  History,\n  HistoryItem,\n  IKBarContext,\n  KBarOptions,\n  KBarProviderProps,\n  KBarQuery,\n  KBarState,\n} from \"kbar\";\n\nexport {\n  KBAR_LISTBOX,\n  KBarAnimator,\n  KBarContext,\n  KBarPortal,\n  KBarPositioner,\n  KBarProvider,\n  KBarResults,\n  KBarSearch,\n  NO_GROUP,\n  Priority,\n  VisualState,\n  createAction,\n  getListboxItemId,\n  useKBar,\n  useMatches,\n  useRegisterActions,\n} from \"kbar\";\n\nexport { useRefineKbar } from \"./hooks/index.js\";\nexport { RefineKbar } from \"./components/index.js\";\n","import { useEffect, useState, useContext } from \"react\";\nimport {\n  useNavigation,\n  useDelete,\n  useTranslate,\n  useResource,\n  IResourceItem,\n  useCanWithoutCache,\n  useUserFriendlyName,\n  useRouterType,\n  useGo,\n} from \"@refinedev/core\";\nimport {\n  useRegisterActions,\n  createAction,\n  Action,\n  KBarContext,\n  VisualState,\n} from \"kbar\";\n\nimport { capitalize } from \"@definitions\";\nimport { useGetToPath } from \"@refinedev/core\";\n\nenum RefineKbarActionType {\n  List = \"list\",\n  Create = \"create\",\n  Show = \"show\",\n  Edit = \"edit\",\n  Delete = \"delete\",\n}\n\nexport const useRefineKbar = (): void => {\n  const t = useTranslate();\n  const {\n    resource: resourceFromParams,\n    resources,\n    id: idFromParams,\n    action: actionFromParams,\n  } = useResource();\n  const routerType = useRouterType();\n  const getToPath = useGetToPath();\n  const go = useGo();\n  const { mutate } = useDelete();\n  const {\n    push,\n    list: goToList,\n    create: goToCreate,\n    show: goToShow,\n    edit: goToEdit,\n  } = useNavigation();\n  const getUserFriendlyName = useUserFriendlyName();\n\n  const kbarContext = useContext(KBarContext);\n\n  const { can } = useCanWithoutCache();\n\n  const [actions, setActions] = useState<Action[]>([]);\n\n  useEffect(() => {\n    const preaparedActions = async () => {\n      return await Promise.all(\n        moveActionToFirst().flatMap((resource) => {\n          return createActionWithResource(resource);\n        }),\n      );\n    };\n\n    preaparedActions().then((actions) => {\n      return setActions(actions.flatMap((action) => action));\n    });\n  }, [resources, idFromParams, resourceFromParams, actionFromParams]);\n\n  useEffect(() => {\n    if (actions.length === 0) {\n      kbarContext.query.setVisualState(VisualState.hidden);\n    }\n  }, [actions]);\n\n  const moveActionToFirst = (): IResourceItem[] => {\n    const orderedResources = [...resources];\n    const fromIndex = orderedResources?.findIndex(\n      (resource) =>\n        (resource.identifier ?? resource?.name) ===\n        (resourceFromParams?.identifier ?? resourceFromParams?.name),\n    );\n\n    if (fromIndex > 0) {\n      const element = orderedResources[fromIndex];\n      orderedResources.splice(fromIndex, 1);\n      orderedResources.splice(0, 0, element);\n    }\n\n    return orderedResources;\n  };\n\n  const createActionWithResource = async (resource: IResourceItem) => {\n    const {\n      name,\n      label: deprecatedLabel,\n      list,\n      create,\n      canCreate,\n      canEdit,\n      canShow,\n      icon: deprecatedIcon,\n      show,\n      canDelete: deprecatedCanDelete,\n      edit,\n      route,\n    } = resource;\n\n    const label =\n      resource?.meta?.label ?? resource?.options?.label ?? deprecatedLabel;\n\n    const icon =\n      resource?.meta?.icon ?? resource?.options?.icon ?? deprecatedIcon;\n\n    const canDelete =\n      resource?.meta?.canDelete ??\n      resource?.options?.canDelete ??\n      deprecatedCanDelete;\n\n    const section =\n      label ??\n      t(\n        `${resource.name}.${resource.name}`,\n        getUserFriendlyName(resource.name, \"plural\"),\n      );\n    const tempActions: Action[] = [];\n\n    if (\n      list &&\n      ((resourceFromParams !== undefined &&\n        resourceFromParams?.name !== name) ||\n        (actionFromParams !== undefined && resourceFromParams?.name === name))\n    ) {\n      const { can: canList } = (await can?.({\n        resource: name,\n        action: RefineKbarActionType.List,\n        params: { id: idFromParams, resource },\n      })) || { can: true };\n      if (canList) {\n        tempActions.push(\n          createAction({\n            name: t(\"actions.list\", capitalize(RefineKbarActionType.List)),\n            section,\n            icon,\n            perform: () => {\n              const p = getToPath({\n                resource,\n                action: \"list\",\n                legacy: routerType === \"legacy\",\n              });\n\n              if (p) {\n                if (routerType === \"legacy\") {\n                  push(p);\n                } else {\n                  go({ to: p });\n                }\n              }\n            },\n          }),\n        );\n      }\n    }\n    if (\n      (canCreate || !!create) &&\n      create &&\n      (RefineKbarActionType.Create !== actionFromParams ||\n        resourceFromParams?.name !== name)\n    ) {\n      const { can: canAccessCreate } = (await can?.({\n        resource: name,\n        action: RefineKbarActionType.Create,\n        params: { resource },\n      })) || { can: true };\n\n      if (canAccessCreate) {\n        tempActions.push(\n          createAction({\n            name: t(\"actions.create\", capitalize(RefineKbarActionType.Create)),\n            section,\n            icon,\n            keywords: \"new\",\n            perform: () => {\n              const p = getToPath({\n                resource,\n                action: \"create\",\n                legacy: routerType === \"legacy\",\n              });\n\n              if (p) {\n                if (routerType === \"legacy\") {\n                  push(p);\n                } else {\n                  go({ to: p });\n                }\n              }\n            },\n          }),\n        );\n      }\n    }\n\n    if (resourceFromParams?.name === name && idFromParams) {\n      if (\n        (canShow || !!show) &&\n        show &&\n        RefineKbarActionType.Show !== actionFromParams\n      ) {\n        const { can: canAccessShow } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Show,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n\n        if (canAccessShow) {\n          tempActions.push(\n            createAction({\n              name: t(\"actions.show\", capitalize(RefineKbarActionType.Show)),\n              section,\n              icon,\n              perform: () => {\n                const p = getToPath({\n                  resource,\n                  action: \"show\",\n                  legacy: routerType === \"legacy\",\n                  meta: {\n                    id: idFromParams,\n                  },\n                });\n\n                if (p) {\n                  if (routerType === \"legacy\") {\n                    push(p);\n                  } else {\n                    go({ to: p });\n                  }\n                }\n              },\n            }),\n          );\n        }\n      }\n      if (\n        (canEdit || !!edit) &&\n        edit &&\n        RefineKbarActionType.Edit !== actionFromParams\n      ) {\n        const { can: canAccessEdit } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Edit,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n        if (canAccessEdit) {\n          tempActions.push(\n            createAction({\n              name: t(\"actions.edit\", capitalize(RefineKbarActionType.Edit)),\n              section,\n              icon,\n              perform: () => {\n                const p = getToPath({\n                  resource,\n                  action: \"edit\",\n                  legacy: routerType === \"legacy\",\n                  meta: {\n                    id: idFromParams,\n                  },\n                });\n\n                if (p) {\n                  if (routerType === \"legacy\") {\n                    push(p);\n                  } else {\n                    go({ to: p });\n                  }\n                }\n              },\n            }),\n          );\n        }\n      }\n      if (canDelete) {\n        const { can: canAccessDelete } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Delete,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n        if (canAccessDelete) {\n          tempActions.push(\n            {\n              id: \"delete\",\n              name: t(\n                \"actions.delete\",\n                capitalize(RefineKbarActionType.Delete),\n              ),\n              section,\n              icon,\n            },\n            createAction({\n              name: t(\n                \"buttons.delete\",\n                capitalize(RefineKbarActionType.Delete),\n              ),\n              section: t(\"buttons.confirm\", \"Are you sure?\"),\n              parent: \"delete\",\n              perform: () => {\n                mutate(\n                  {\n                    resource: resource.name,\n                    id: idFromParams,\n                  },\n                  {\n                    onSuccess: () => {\n                      const p = getToPath({\n                        resource,\n                        action: \"list\",\n                        legacy: routerType === \"legacy\",\n                      });\n\n                      if (p) {\n                        if (routerType === \"legacy\") {\n                          push(p);\n                        } else {\n                          go({ to: p });\n                        }\n                      }\n                    },\n                  },\n                );\n              },\n            }),\n            createAction({\n              name: t(\"buttons.cancel\", \"Cancel\"),\n              parent: \"delete\",\n              perform: () => null,\n            }),\n          );\n        }\n      }\n    }\n    return tempActions;\n  };\n  useRegisterActions(actions, [actions]);\n};\n","// Capitalize first letter of each word\nexport const capitalize = (str: string): string =>\n  str.replace(\n    /\\w\\S*/g,\n    (txt) => txt.charAt(0).toUpperCase() + txt.slice(1).toLowerCase(),\n  );\n","import React from \"react\";\nimport { KBarPortal, KBarPositioner, KBarAnimator, KBarSearch } from \"kbar\";\n\nimport { RenderResults } from \"@components\";\n\nexport const CommandBar: React.FC = () => {\n  const searchStyle = {\n    padding: \"12px 16px\",\n    fontSize: \"16px\",\n    width: \"100%\",\n    boxSizing: \"border-box\" as React.CSSProperties[\"boxSizing\"],\n    outline: \"none\",\n    border: \"none\",\n    background: \"rgb(252 252 252)\",\n    color: \"black\",\n  };\n\n  const animatorStyle = {\n    maxWidth: \"600px\",\n    width: \"100%\",\n    background: \"white\",\n    color: \"black\",\n    borderRadius: \"8px\",\n    overflow: \"hidden\",\n    boxShadow: \"0px 4px 4px rgba(0, 0, 0, 0.25)\",\n  };\n\n  const positionerStyle = {\n    opacity: 1,\n    transition: \"background 0.35s cubic-bezier(0.4, 0, 0.2, 1) 0s\",\n    backdropFilter: \"saturate(180%) blur(1px)\",\n    background: \"rgba(0, 0, 0, 0.1)\",\n    zIndex: \"9999\",\n  };\n\n  return (\n    <KBarPortal>\n      <KBarPositioner style={positionerStyle}>\n        <KBarAnimator style={animatorStyle}>\n          <KBarSearch style={searchStyle} />\n          <RenderResults />\n        </KBarAnimator>\n      </KBarPositioner>\n    </KBarPortal>\n  );\n};\n","import React from \"react\";\nimport { ActionId, KBarResults, useMatches } from \"kbar\";\n\nimport { ResultItem } from \"@components\";\n\nconst groupNameStyle = {\n  padding: \"8px 16px\",\n  fontSize: \"14px\",\n  textTransform: \"uppercase\" as const,\n  fontWeight: \"bold\",\n  opacity: 0.5,\n};\nexport const RenderResults: React.FC = () => {\n  const { results, rootActionId } = useMatches();\n\n  return (\n    <KBarResults\n      items={results}\n      onRender={({ item, active }) => {\n        return typeof item === \"string\" ? (\n          <div style={groupNameStyle}>{item}</div>\n        ) : (\n          <ResultItem\n            action={item}\n            active={active}\n            currentRootActionId={rootActionId as ActionId}\n          />\n        );\n      }}\n    />\n  );\n};\n","import React from \"react\";\nimport { ActionImpl, ActionId } from \"kbar\";\n\ninterface IResultITemProps {\n  action: ActionImpl;\n  active: boolean;\n  currentRootActionId: ActionId;\n}\nexport const ResultItem = React.forwardRef<HTMLDivElement, IResultITemProps>(\n  ({ action, active, currentRootActionId }, ref) => {\n    const ancestors = React.useMemo(() => {\n      if (!currentRootActionId) return action.ancestors;\n      const index = action.ancestors.findIndex(\n        (ancestor) => ancestor.id === currentRootActionId,\n      );\n      return action.ancestors.slice(index + 1);\n    }, [action.ancestors, currentRootActionId]);\n\n    return (\n      <div\n        ref={ref}\n        style={{\n          padding: \"12px 16px\",\n          background: active ? \"rgba(0 0 0 / 0.05)\" : \"transparent\",\n          borderLeft: `2px solid ${active ? \"rgb(28 28 29)\" : \"transparent\"}`,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          cursor: \"pointer\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            gap: \"8px\",\n            alignItems: \"center\",\n            fontSize: 14,\n          }}\n        >\n          {action.icon && action.icon}\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <div>\n              {ancestors.length > 0 &&\n                ancestors.map((ancestor) => (\n                  <React.Fragment key={ancestor.id}>\n                    <span\n                      style={{\n                        opacity: 0.5,\n                        marginRight: 8,\n                      }}\n                    >\n                      {ancestor.name}\n                    </span>\n                    <span\n                      style={{\n                        marginRight: 8,\n                      }}\n                    >\n                      &rsaquo;\n                    </span>\n                  </React.Fragment>\n                ))}\n              <span\n                style={{\n                  color:\n                    action.name.toLocaleUpperCase() === \"DELETE\"\n                      ? \"red\"\n                      : \"black\",\n                }}\n              >\n                {action.name}\n              </span>\n            </div>\n            {action.subtitle && (\n              <span style={{ fontSize: 12 }}>{action.subtitle}</span>\n            )}\n          </div>\n        </div>\n        {action.shortcut?.length ? (\n          <div\n            aria-hidden\n            style={{\n              display: \"grid\",\n              gridAutoFlow: \"column\",\n              gap: \"4px\",\n            }}\n          >\n            {action.shortcut.map((sc) => (\n              <kbd\n                key={sc}\n                style={{\n                  padding: \"4px 6px\",\n                  background: \"rgba(0 0 0 / .1)\",\n                  borderRadius: \"4px\",\n                  fontSize: 14,\n                }}\n              >\n                {sc}\n              </kbd>\n            ))}\n          </div>\n        ) : null}\n      </div>\n    );\n  },\n);\n\nResultItem.displayName = \"ResultItem\";\n","import React, { useContext } from \"react\";\n\nimport { RefineKbarPropsContext } from \"./../../index\";\nimport { useRefineKbar } from \"@hooks\";\nimport { CommandBar } from \"@components\";\n\nexport const RefineKbar: React.FC<{\n  commandBarProps?: React.ComponentProps<typeof CommandBar>;\n}> = ({ commandBarProps }) => {\n  const context = useContext(RefineKbarPropsContext);\n  useRefineKbar();\n  const props = { ...context, ...commandBarProps };\n\n  return <CommandBar {...props} />;\n};\n"],"mappings":"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","names":["src_exports","__export","RefineKbar","RefineKbarPropsContext","RefineKbarProvider","useRefineKbar","__toCommonJS","import_react","import_kbar","import_react","import_core","import_kbar","capitalize","__name","str","txt","import_core","useRefineKbar","__name","resourceFromParams","resources","idFromParams","actionFromParams","routerType","getToPath","go","mutate","push","goToList","goToCreate","goToShow","goToEdit","getUserFriendlyName","kbarContext","can","actions","setActions","moveActionToFirst","resource","createActionWithResource","action","orderedResources","fromIndex","element","_a","_b","_c","_d","_e","_f","name","deprecatedLabel","list","create","canCreate","canEdit","canShow","deprecatedIcon","show","deprecatedCanDelete","edit","route","label","icon","canDelete","section","tempActions","canList","capitalize","p","canAccessCreate","canAccessShow","canAccessEdit","canAccessDelete","import_react","import_kbar","CommandBar","__name","React","RenderResults","import_react","import_kbar","groupNameStyle","RenderResults","__name","results","rootActionId","React","item","active","ResultItem","import_react","ResultItem","React","action","active","currentRootActionId","ref","_a","ancestors","index","ancestor","sc","import_react","RefineKbar","__name","commandBarProps","context","RefineKbarPropsContext","useRefineKbar","props","React","CommandBar","RefineKbarPropsContext","RefineKbarProvider","__name","children","commandBarProps","React"]}