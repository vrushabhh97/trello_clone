{"version":3,"sources":["../src/index.tsx","../src/hooks/useRefineKbar/index.tsx","../src/definitions/capitalize/index.ts","../src/components/commandBar/index.tsx","../src/components/renderResults/index.tsx","../src/components/resultItem/index.tsx","../src/components/refineKbar/index.tsx"],"sourcesContent":["import React, { createContext } from \"react\";\nimport { KBarProvider, KBarProviderProps } from \"kbar\";\n\nimport { CommandBar } from \"./components/index.js\";\n\ninterface IKBarProviderProps extends KBarProviderProps {\n  commandBarProps?: React.ComponentProps<typeof CommandBar>;\n}\n\nexport const RefineKbarPropsContext = createContext<\n  IKBarProviderProps[\"commandBarProps\"]\n>({});\n\nexport const RefineKbarProvider: React.FunctionComponent<\n  IKBarProviderProps & { children: React.ReactNode }\n> = ({ children, commandBarProps }) => {\n  return (\n    <RefineKbarPropsContext.Provider value={commandBarProps ?? {}}>\n      <KBarProvider>{children}</KBarProvider>\n    </RefineKbarPropsContext.Provider>\n  );\n};\n\nexport type {\n  Action,\n  ActionGroup,\n  ActionId,\n  ActionImpl,\n  ActionInterface,\n  ActionSection,\n  ActionStore,\n  ActionTree,\n  History,\n  HistoryItem,\n  IKBarContext,\n  KBarOptions,\n  KBarProviderProps,\n  KBarQuery,\n  KBarState,\n} from \"kbar\";\n\nexport {\n  KBAR_LISTBOX,\n  KBarAnimator,\n  KBarContext,\n  KBarPortal,\n  KBarPositioner,\n  KBarProvider,\n  KBarResults,\n  KBarSearch,\n  NO_GROUP,\n  Priority,\n  VisualState,\n  createAction,\n  getListboxItemId,\n  useKBar,\n  useMatches,\n  useRegisterActions,\n} from \"kbar\";\n\nexport { useRefineKbar } from \"./hooks/index.js\";\nexport { RefineKbar } from \"./components/index.js\";\n","import { useEffect, useState, useContext } from \"react\";\nimport {\n  useNavigation,\n  useDelete,\n  useTranslate,\n  useResource,\n  IResourceItem,\n  useCanWithoutCache,\n  useUserFriendlyName,\n  useRouterType,\n  useGo,\n} from \"@refinedev/core\";\nimport {\n  useRegisterActions,\n  createAction,\n  Action,\n  KBarContext,\n  VisualState,\n} from \"kbar\";\n\nimport { capitalize } from \"@definitions\";\nimport { useGetToPath } from \"@refinedev/core\";\n\nenum RefineKbarActionType {\n  List = \"list\",\n  Create = \"create\",\n  Show = \"show\",\n  Edit = \"edit\",\n  Delete = \"delete\",\n}\n\nexport const useRefineKbar = (): void => {\n  const t = useTranslate();\n  const {\n    resource: resourceFromParams,\n    resources,\n    id: idFromParams,\n    action: actionFromParams,\n  } = useResource();\n  const routerType = useRouterType();\n  const getToPath = useGetToPath();\n  const go = useGo();\n  const { mutate } = useDelete();\n  const {\n    push,\n    list: goToList,\n    create: goToCreate,\n    show: goToShow,\n    edit: goToEdit,\n  } = useNavigation();\n  const getUserFriendlyName = useUserFriendlyName();\n\n  const kbarContext = useContext(KBarContext);\n\n  const { can } = useCanWithoutCache();\n\n  const [actions, setActions] = useState<Action[]>([]);\n\n  useEffect(() => {\n    const preaparedActions = async () => {\n      return await Promise.all(\n        moveActionToFirst().flatMap((resource) => {\n          return createActionWithResource(resource);\n        }),\n      );\n    };\n\n    preaparedActions().then((actions) => {\n      return setActions(actions.flatMap((action) => action));\n    });\n  }, [resources, idFromParams, resourceFromParams, actionFromParams]);\n\n  useEffect(() => {\n    if (actions.length === 0) {\n      kbarContext.query.setVisualState(VisualState.hidden);\n    }\n  }, [actions]);\n\n  const moveActionToFirst = (): IResourceItem[] => {\n    const orderedResources = [...resources];\n    const fromIndex = orderedResources?.findIndex(\n      (resource) =>\n        (resource.identifier ?? resource?.name) ===\n        (resourceFromParams?.identifier ?? resourceFromParams?.name),\n    );\n\n    if (fromIndex > 0) {\n      const element = orderedResources[fromIndex];\n      orderedResources.splice(fromIndex, 1);\n      orderedResources.splice(0, 0, element);\n    }\n\n    return orderedResources;\n  };\n\n  const createActionWithResource = async (resource: IResourceItem) => {\n    const {\n      name,\n      label: deprecatedLabel,\n      list,\n      create,\n      canCreate,\n      canEdit,\n      canShow,\n      icon: deprecatedIcon,\n      show,\n      canDelete: deprecatedCanDelete,\n      edit,\n      route,\n    } = resource;\n\n    const label =\n      resource?.meta?.label ?? resource?.options?.label ?? deprecatedLabel;\n\n    const icon =\n      resource?.meta?.icon ?? resource?.options?.icon ?? deprecatedIcon;\n\n    const canDelete =\n      resource?.meta?.canDelete ??\n      resource?.options?.canDelete ??\n      deprecatedCanDelete;\n\n    const section =\n      label ??\n      t(\n        `${resource.name}.${resource.name}`,\n        getUserFriendlyName(resource.name, \"plural\"),\n      );\n    const tempActions: Action[] = [];\n\n    if (\n      list &&\n      ((resourceFromParams !== undefined &&\n        resourceFromParams?.name !== name) ||\n        (actionFromParams !== undefined && resourceFromParams?.name === name))\n    ) {\n      const { can: canList } = (await can?.({\n        resource: name,\n        action: RefineKbarActionType.List,\n        params: { id: idFromParams, resource },\n      })) || { can: true };\n      if (canList) {\n        tempActions.push(\n          createAction({\n            name: t(\"actions.list\", capitalize(RefineKbarActionType.List)),\n            section,\n            icon,\n            perform: () => {\n              const p = getToPath({\n                resource,\n                action: \"list\",\n                legacy: routerType === \"legacy\",\n              });\n\n              if (p) {\n                if (routerType === \"legacy\") {\n                  push(p);\n                } else {\n                  go({ to: p });\n                }\n              }\n            },\n          }),\n        );\n      }\n    }\n    if (\n      (canCreate || !!create) &&\n      create &&\n      (RefineKbarActionType.Create !== actionFromParams ||\n        resourceFromParams?.name !== name)\n    ) {\n      const { can: canAccessCreate } = (await can?.({\n        resource: name,\n        action: RefineKbarActionType.Create,\n        params: { resource },\n      })) || { can: true };\n\n      if (canAccessCreate) {\n        tempActions.push(\n          createAction({\n            name: t(\"actions.create\", capitalize(RefineKbarActionType.Create)),\n            section,\n            icon,\n            keywords: \"new\",\n            perform: () => {\n              const p = getToPath({\n                resource,\n                action: \"create\",\n                legacy: routerType === \"legacy\",\n              });\n\n              if (p) {\n                if (routerType === \"legacy\") {\n                  push(p);\n                } else {\n                  go({ to: p });\n                }\n              }\n            },\n          }),\n        );\n      }\n    }\n\n    if (resourceFromParams?.name === name && idFromParams) {\n      if (\n        (canShow || !!show) &&\n        show &&\n        RefineKbarActionType.Show !== actionFromParams\n      ) {\n        const { can: canAccessShow } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Show,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n\n        if (canAccessShow) {\n          tempActions.push(\n            createAction({\n              name: t(\"actions.show\", capitalize(RefineKbarActionType.Show)),\n              section,\n              icon,\n              perform: () => {\n                const p = getToPath({\n                  resource,\n                  action: \"show\",\n                  legacy: routerType === \"legacy\",\n                  meta: {\n                    id: idFromParams,\n                  },\n                });\n\n                if (p) {\n                  if (routerType === \"legacy\") {\n                    push(p);\n                  } else {\n                    go({ to: p });\n                  }\n                }\n              },\n            }),\n          );\n        }\n      }\n      if (\n        (canEdit || !!edit) &&\n        edit &&\n        RefineKbarActionType.Edit !== actionFromParams\n      ) {\n        const { can: canAccessEdit } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Edit,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n        if (canAccessEdit) {\n          tempActions.push(\n            createAction({\n              name: t(\"actions.edit\", capitalize(RefineKbarActionType.Edit)),\n              section,\n              icon,\n              perform: () => {\n                const p = getToPath({\n                  resource,\n                  action: \"edit\",\n                  legacy: routerType === \"legacy\",\n                  meta: {\n                    id: idFromParams,\n                  },\n                });\n\n                if (p) {\n                  if (routerType === \"legacy\") {\n                    push(p);\n                  } else {\n                    go({ to: p });\n                  }\n                }\n              },\n            }),\n          );\n        }\n      }\n      if (canDelete) {\n        const { can: canAccessDelete } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Delete,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n        if (canAccessDelete) {\n          tempActions.push(\n            {\n              id: \"delete\",\n              name: t(\n                \"actions.delete\",\n                capitalize(RefineKbarActionType.Delete),\n              ),\n              section,\n              icon,\n            },\n            createAction({\n              name: t(\n                \"buttons.delete\",\n                capitalize(RefineKbarActionType.Delete),\n              ),\n              section: t(\"buttons.confirm\", \"Are you sure?\"),\n              parent: \"delete\",\n              perform: () => {\n                mutate(\n                  {\n                    resource: resource.name,\n                    id: idFromParams,\n                  },\n                  {\n                    onSuccess: () => {\n                      const p = getToPath({\n                        resource,\n                        action: \"list\",\n                        legacy: routerType === \"legacy\",\n                      });\n\n                      if (p) {\n                        if (routerType === \"legacy\") {\n                          push(p);\n                        } else {\n                          go({ to: p });\n                        }\n                      }\n                    },\n                  },\n                );\n              },\n            }),\n            createAction({\n              name: t(\"buttons.cancel\", \"Cancel\"),\n              parent: \"delete\",\n              perform: () => null,\n            }),\n          );\n        }\n      }\n    }\n    return tempActions;\n  };\n  useRegisterActions(actions, [actions]);\n};\n","// Capitalize first letter of each word\nexport const capitalize = (str: string): string =>\n  str.replace(\n    /\\w\\S*/g,\n    (txt) => txt.charAt(0).toUpperCase() + txt.slice(1).toLowerCase(),\n  );\n","import React from \"react\";\nimport { KBarPortal, KBarPositioner, KBarAnimator, KBarSearch } from \"kbar\";\n\nimport { RenderResults } from \"@components\";\n\nexport const CommandBar: React.FC = () => {\n  const searchStyle = {\n    padding: \"12px 16px\",\n    fontSize: \"16px\",\n    width: \"100%\",\n    boxSizing: \"border-box\" as React.CSSProperties[\"boxSizing\"],\n    outline: \"none\",\n    border: \"none\",\n    background: \"rgb(252 252 252)\",\n    color: \"black\",\n  };\n\n  const animatorStyle = {\n    maxWidth: \"600px\",\n    width: \"100%\",\n    background: \"white\",\n    color: \"black\",\n    borderRadius: \"8px\",\n    overflow: \"hidden\",\n    boxShadow: \"0px 4px 4px rgba(0, 0, 0, 0.25)\",\n  };\n\n  const positionerStyle = {\n    opacity: 1,\n    transition: \"background 0.35s cubic-bezier(0.4, 0, 0.2, 1) 0s\",\n    backdropFilter: \"saturate(180%) blur(1px)\",\n    background: \"rgba(0, 0, 0, 0.1)\",\n    zIndex: \"9999\",\n  };\n\n  return (\n    <KBarPortal>\n      <KBarPositioner style={positionerStyle}>\n        <KBarAnimator style={animatorStyle}>\n          <KBarSearch style={searchStyle} />\n          <RenderResults />\n        </KBarAnimator>\n      </KBarPositioner>\n    </KBarPortal>\n  );\n};\n","import React from \"react\";\nimport { ActionId, KBarResults, useMatches } from \"kbar\";\n\nimport { ResultItem } from \"@components\";\n\nconst groupNameStyle = {\n  padding: \"8px 16px\",\n  fontSize: \"14px\",\n  textTransform: \"uppercase\" as const,\n  fontWeight: \"bold\",\n  opacity: 0.5,\n};\nexport const RenderResults: React.FC = () => {\n  const { results, rootActionId } = useMatches();\n\n  return (\n    <KBarResults\n      items={results}\n      onRender={({ item, active }) => {\n        return typeof item === \"string\" ? (\n          <div style={groupNameStyle}>{item}</div>\n        ) : (\n          <ResultItem\n            action={item}\n            active={active}\n            currentRootActionId={rootActionId as ActionId}\n          />\n        );\n      }}\n    />\n  );\n};\n","import React from \"react\";\nimport { ActionImpl, ActionId } from \"kbar\";\n\ninterface IResultITemProps {\n  action: ActionImpl;\n  active: boolean;\n  currentRootActionId: ActionId;\n}\nexport const ResultItem = React.forwardRef<HTMLDivElement, IResultITemProps>(\n  ({ action, active, currentRootActionId }, ref) => {\n    const ancestors = React.useMemo(() => {\n      if (!currentRootActionId) return action.ancestors;\n      const index = action.ancestors.findIndex(\n        (ancestor) => ancestor.id === currentRootActionId,\n      );\n      return action.ancestors.slice(index + 1);\n    }, [action.ancestors, currentRootActionId]);\n\n    return (\n      <div\n        ref={ref}\n        style={{\n          padding: \"12px 16px\",\n          background: active ? \"rgba(0 0 0 / 0.05)\" : \"transparent\",\n          borderLeft: `2px solid ${active ? \"rgb(28 28 29)\" : \"transparent\"}`,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          cursor: \"pointer\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            gap: \"8px\",\n            alignItems: \"center\",\n            fontSize: 14,\n          }}\n        >\n          {action.icon && action.icon}\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <div>\n              {ancestors.length > 0 &&\n                ancestors.map((ancestor) => (\n                  <React.Fragment key={ancestor.id}>\n                    <span\n                      style={{\n                        opacity: 0.5,\n                        marginRight: 8,\n                      }}\n                    >\n                      {ancestor.name}\n                    </span>\n                    <span\n                      style={{\n                        marginRight: 8,\n                      }}\n                    >\n                      &rsaquo;\n                    </span>\n                  </React.Fragment>\n                ))}\n              <span\n                style={{\n                  color:\n                    action.name.toLocaleUpperCase() === \"DELETE\"\n                      ? \"red\"\n                      : \"black\",\n                }}\n              >\n                {action.name}\n              </span>\n            </div>\n            {action.subtitle && (\n              <span style={{ fontSize: 12 }}>{action.subtitle}</span>\n            )}\n          </div>\n        </div>\n        {action.shortcut?.length ? (\n          <div\n            aria-hidden\n            style={{\n              display: \"grid\",\n              gridAutoFlow: \"column\",\n              gap: \"4px\",\n            }}\n          >\n            {action.shortcut.map((sc) => (\n              <kbd\n                key={sc}\n                style={{\n                  padding: \"4px 6px\",\n                  background: \"rgba(0 0 0 / .1)\",\n                  borderRadius: \"4px\",\n                  fontSize: 14,\n                }}\n              >\n                {sc}\n              </kbd>\n            ))}\n          </div>\n        ) : null}\n      </div>\n    );\n  },\n);\n\nResultItem.displayName = \"ResultItem\";\n","import React, { useContext } from \"react\";\n\nimport { RefineKbarPropsContext } from \"./../../index\";\nimport { useRefineKbar } from \"@hooks\";\nimport { CommandBar } from \"@components\";\n\nexport const RefineKbar: React.FC<{\n  commandBarProps?: React.ComponentProps<typeof CommandBar>;\n}> = ({ commandBarProps }) => {\n  const context = useContext(RefineKbarPropsContext);\n  useRefineKbar();\n  const props = { ...context, ...commandBarProps };\n\n  return <CommandBar {...props} />;\n};\n"],"mappings":"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","names":["React","createContext","KBarProvider","KBAR_LISTBOX","KBarAnimator","KBarContext","KBarPortal","KBarPositioner","KBarResults","KBarSearch","NO_GROUP","Priority","VisualState","createAction","getListboxItemId","useKBar","useMatches","useRegisterActions","useEffect","useState","useContext","useNavigation","useDelete","useTranslate","useResource","useCanWithoutCache","useUserFriendlyName","useRouterType","useGo","useRegisterActions","createAction","KBarContext","VisualState","capitalize","__name","str","txt","useGetToPath","useRefineKbar","__name","t","useTranslate","resourceFromParams","resources","idFromParams","actionFromParams","useResource","routerType","useRouterType","getToPath","useGetToPath","go","useGo","mutate","useDelete","push","goToList","goToCreate","goToShow","goToEdit","useNavigation","getUserFriendlyName","useUserFriendlyName","kbarContext","useContext","KBarContext","can","useCanWithoutCache","actions","setActions","useState","useEffect","moveActionToFirst","resource","createActionWithResource","action","VisualState","orderedResources","fromIndex","element","_a","_b","_c","_d","_e","_f","name","deprecatedLabel","list","create","canCreate","canEdit","canShow","deprecatedIcon","show","deprecatedCanDelete","edit","route","label","icon","canDelete","section","tempActions","canList","createAction","capitalize","p","canAccessCreate","canAccessShow","canAccessEdit","canAccessDelete","useRegisterActions","React","KBarPortal","KBarPositioner","KBarAnimator","KBarSearch","CommandBar","__name","React","KBarPortal","KBarPositioner","KBarAnimator","KBarSearch","RenderResults","React","KBarResults","useMatches","groupNameStyle","RenderResults","__name","results","rootActionId","useMatches","React","KBarResults","item","active","ResultItem","React","ResultItem","action","active","currentRootActionId","ref","_a","ancestors","index","ancestor","sc","React","useContext","RefineKbar","__name","commandBarProps","context","useContext","RefineKbarPropsContext","useRefineKbar","props","React","CommandBar","RefineKbarPropsContext","createContext","RefineKbarProvider","__name","children","commandBarProps","React","KBarProvider"]}