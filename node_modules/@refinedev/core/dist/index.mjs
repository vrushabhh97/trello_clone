"use client"
var Gs=Object.defineProperty;var o=(e,t)=>Gs(e,"name",{value:t,configurable:!0});import Gt,{useEffect as Eu,useState as Mu}from"react";import{getXRay as on}from"@refinedev/devtools-internal";import{useQuery as nn}from"@tanstack/react-query";import Tt from"react";var Mo=Tt.createContext({}),wo=o(({children:e,isProvided:t,...r})=>{let{replace:n}=ce(),s=o(async d=>{var u;try{return await((u=r.login)==null?void 0:u.call(r,d))}catch(p){return Promise.reject(p)}},"loginFunc"),a=o(async d=>{var u;try{return await((u=r.register)==null?void 0:u.call(r,d))}catch(p){return Promise.reject(p)}},"registerFunc"),i=o(async d=>{var u;try{return await((u=r.logout)==null?void 0:u.call(r,d))}catch(p){return Promise.reject(p)}},"logoutFunc"),c=o(async d=>{var u;try{return await((u=r.checkAuth)==null?void 0:u.call(r,d)),Promise.resolve()}catch(p){return p!=null&&p.redirectPath&&n(p.redirectPath),Promise.reject(p)}},"checkAuthFunc");return Tt.createElement(Mo.Provider,{value:{...r,login:s,logout:i,checkAuth:c,register:a,isProvided:t}},e)},"LegacyAuthContextProvider"),Io=Tt.createContext({}),So=o(({children:e,isProvided:t,...r})=>{let n=o(async u=>{var p;try{return await((p=r.login)==null?void 0:p.call(r,u))}catch(l){return console.warn("Unhandled Error in login: refine always expects a resolved promise.",l),Promise.reject(l)}},"handleLogin"),s=o(async u=>{var p;try{return await((p=r.register)==null?void 0:p.call(r,u))}catch(l){return console.warn("Unhandled Error in register: refine always expects a resolved promise.",l),Promise.reject(l)}},"handleRegister"),a=o(async u=>{var p;try{return await((p=r.logout)==null?void 0:p.call(r,u))}catch(l){return console.warn("Unhandled Error in logout: refine always expects a resolved promise.",l),Promise.reject(l)}},"handleLogout"),i=o(async u=>{var p;try{let l=await((p=r.check)==null?void 0:p.call(r,u));return Promise.resolve(l)}catch(l){return console.warn("Unhandled Error in check: refine always expects a resolved promise.",l),Promise.reject(l)}},"handleCheck"),c=o(async u=>{var p;try{let l=await((p=r.forgotPassword)==null?void 0:p.call(r,u));return Promise.resolve(l)}catch(l){return console.warn("Unhandled Error in forgotPassword: refine always expects a resolved promise.",l),Promise.reject(l)}},"handleForgotPassword"),d=o(async u=>{var p;try{let l=await((p=r.updatePassword)==null?void 0:p.call(r,u));return Promise.resolve(l)}catch(l){return console.warn("Unhandled Error in updatePassword: refine always expects a resolved promise.",l),Promise.reject(l)}},"handleUpdatePassword");return Tt.createElement(Io.Provider,{value:{...r,login:n,logout:a,check:i,register:s,forgotPassword:c,updatePassword:d,isProvided:t}},e)},"AuthBindingsContextProvider"),ue=o(()=>Tt.useContext(Mo),"useLegacyAuthContext"),fe=o(()=>Tt.useContext(Io),"useAuthBindingsContext");import qo from"lodash-es/differenceWith.js";import en from"lodash-es/unionWith.js";import Hr from"qs";import ra from"warn-once";var wt=o(e=>e/1e3,"userFriendlySecond");import Hs from"lodash-es/fromPairs.js";import $s from"lodash-es/zip.js";var $t=o((e,t=r=>r)=>{let[r,...n]=e;return n.map(s=>Hs($s(r,s))).map((s,a,i)=>t.call(void 0,s,a,i))},"importCSVMapper");import Fo from"pluralize";var Wt=o((e="",t)=>{let r=It(e);return t==="singular"?Fo.singular(r):Fo.plural(r)},"userFriendlyResourceName");var Ao=o((e={})=>e!=null&&e.id?{...e,id:decodeURIComponent(e.id)}:e,"handleUseParams");function Ye(e,t){return e.findIndex((r,n)=>n<=e.length-t.length&&t.every((s,a)=>e[n+a]===s))}o(Ye,"arrayFindIndex");function Ws(e){if(e[0]==="data"){let t=e.slice(1);if(t[2]==="many")t[2]="getMany";else if(t[2]==="infinite")t[2]="list";else if(t[2]==="one")t[2]="detail";else if(t[1]==="custom"){let r={...t[2]};return delete r.method,delete r.url,[t[0],t[1],t[2].method,t[2].url,r]}return t}if(e[0]==="audit"&&e[2]==="list")return["logList",e[1],e[3]];if(e[0]==="access"&&e.length===4)return["useCan",{resource:e[1],action:e[2],...e[3]}];if(e[0]==="auth"){if(Ye(e,["auth","login"])!==-1)return["useLogin"];if(Ye(e,["auth","logout"])!==-1)return["useLogout"];if(Ye(e,["auth","identity"])!==-1)return["getUserIdentity"];if(Ye(e,["auth","register"])!==-1)return["useRegister"];if(Ye(e,["auth","forgotPassword"])!==-1)return["useForgotPassword"];if(Ye(e,["auth","check"])!==-1)return["useAuthenticated",e[2]];if(Ye(e,["auth","onError"])!==-1)return["useCheckError"];if(Ye(e,["auth","permissions"])!==-1)return["usePermissions"];if(Ye(e,["auth","updatePassword"])!==-1)return["useUpdatePassword"]}return e}o(Ws,"convertToLegacy");var Ue=class{constructor(t=[]){this.segments=[];this.segments=t}key(){return this.segments}legacy(){return Ws(this.segments)}get(t){return t?this.legacy():this.segments}};o(Ue,"BaseKeyBuilder");var We=class extends Ue{params(t){return new Ue([...this.segments,t])}};o(We,"ParamsKeyBuilder");var Ot=class extends Ue{id(t){return new We([...this.segments,t?String(t):void 0])}};o(Ot,"DataIdRequiringKeyBuilder");var zt=class extends Ue{ids(...t){return new We([...this.segments,...t.length?[t.map(r=>String(r))]:[]])}};o(zt,"DataIdsRequiringKeyBuilder");var _t=class extends Ue{action(t){if(t==="one")return new Ot([...this.segments,t]);if(t==="many")return new zt([...this.segments,t]);if(["list","infinite"].includes(t))return new We([...this.segments,t]);throw new Error("Invalid action type")}};o(_t,"DataResourceKeyBuilder");var jt=class extends Ue{resource(t){return new _t([...this.segments,t])}mutation(t){return new We([...t==="custom"?this.segments:[this.segments[0]],t])}};o(jt,"DataKeyBuilder");var Xt=class extends Ue{action(t){return new We([...this.segments,t])}};o(Xt,"AuthKeyBuilder");var Zt=class extends Ue{action(t){return new We([...this.segments,t])}};o(Zt,"AccessResourceKeyBuilder");var Yt=class extends Ue{resource(t){return new Zt([...this.segments,t])}};o(Yt,"AccessKeyBuilder");var Jt=class extends Ue{action(t){return new We([...this.segments,t])}};o(Jt,"AuditActionKeyBuilder");var qt=class extends Ue{resource(t){return new Jt([...this.segments,t])}action(t){return new We([...this.segments,t])}};o(qt,"AuditKeyBuilder");var Pt=class extends Ue{data(t){return new jt(["data",t||"default"])}auth(){return new Xt(["auth"])}access(){return new Yt(["access"])}audit(){return new qt(["audit"])}};o(Pt,"KeyBuilder");var Oe=o(()=>new Pt([]),"keys");var S=o((...e)=>e.find(t=>typeof t<"u"),"pickNotDeprecated");var ko=o((e,t,r,n)=>{let s=t||"default",a={all:[s],resourceAll:[s,e||""],list:i=>[...a.resourceAll,"list",{...i,...S(r,n)||{}}],many:i=>[...a.resourceAll,"getMany",i==null?void 0:i.map(String),{...S(r,n)||{}}].filter(c=>c!==void 0),detail:i=>[...a.resourceAll,"detail",i==null?void 0:i.toString(),{...S(r,n)||{}}],logList:i=>["logList",e,i,n].filter(c=>c!==void 0)};return a},"queryKeys"),Je=o(e=>(t,r,n,s)=>{let a=r||"default";return{all:Oe().data(a).get(e),resourceAll:Oe().data(r).resource(t??"").get(e),list:c=>Oe().data(r).resource(t??"").action("list").params({...c,...S(n,s)||{}}).get(e),many:c=>Oe().data(r).resource(t??"").action("many").ids(...c??[]).params({...S(n,s)||{}}).get(e),detail:c=>Oe().data(r).resource(t??"").action("one").id(c??"").params({...S(n,s)||{}}).get(e),logList:c=>[...Oe().audit().resource(t).action("list").params(c).get(e),s].filter(d=>d!==void 0)}},"queryKeysReplacement");var Fr=o((e,t)=>!e||!t?!1:!!e.find(r=>r===t),"hasPermission");var xt=o(e=>e.startsWith(":"),"isParameter");var _e=o(e=>e.split("/").filter(r=>r!==""),"splitToSegments");var Qo=o((e,t)=>{let r=_e(e),n=_e(t);return r.length===n.length},"isSegmentCountsSame");var be=o(e=>e.replace(/^\/|\/$/g,""),"removeLeadingTrailingSlashes");var Vo=o((e,t)=>{let r=be(e),n=be(t);if(!Qo(r,n))return!1;let s=_e(r);return _e(n).every((i,c)=>xt(i)||i===s[c])},"checkBySegments");var Bo=o((e,t,r)=>{let n=be(r||""),s=`${n}${n?"/":""}${e}`;return t==="list"?s=`${s}`:t==="create"?s=`${s}/create`:t==="edit"?s=`${s}/edit/:id`:t==="show"?s=`${s}/show/:id`:t==="clone"&&(s=`${s}/clone/:id`),`/${s.replace(/^\//,"")}`},"getDefaultActionPath");var Fe=o((e,t)=>{var s,a;let r=S((s=e.meta)==null?void 0:s.parent,(a=e.options)==null?void 0:a.parent,e.parentName);return r?t.find(i=>(i.identifier??i.name)===r)??{name:r}:void 0},"getParentResource");var St=o((e,t,r)=>{let n=[],s=Fe(e,t);for(;s;)n.push(s),s=Fe(s,t);if(n.length!==0)return`/${n.reverse().map(a=>{var c;let i=r?((c=a.options)==null?void 0:c.route)??a.name:a.name;return be(i)}).join("/")}`},"getParentPrefixForResource");var he=o((e,t,r)=>{let n=[],s=["list","show","edit","create","clone"],a=St(e,t,r);return s.forEach(i=>{var u,p;let c=r&&i==="clone"?e.create:e[i],d;typeof c=="function"||r?d=Bo(r?((u=e.meta)==null?void 0:u.route)??((p=e.options)==null?void 0:p.route)??e.name:e.name,i,r?a:void 0):typeof c=="string"?d=c:typeof c=="object"&&(d=c.path),d&&n.push({action:i,resource:e,route:`/${d.replace(/^\//,"")}`})}),n},"getActionRoutesFromResource");var No=o(e=>{var s;if(e.length===0)return;if(e.length===1)return e[0];let t=e.map(a=>({...a,splitted:_e(be(a.route))})),r=((s=t[0])==null?void 0:s.splitted.length)??0,n=[...t];for(let a=0;a<r;a++){let i=n.filter(c=>!xt(c.splitted[a]));if(i.length!==0){if(i.length===1){n=i;break}n=i}}return n[0]},"pickMatchedRoute");var Ko=o((e,t)=>{let n=t.flatMap(a=>he(a,t)).filter(a=>Vo(e,a.route)),s=No(n);return{found:!!s,resource:s==null?void 0:s.resource,action:s==null?void 0:s.action,matchedRoute:s==null?void 0:s.route}},"matchResourceFromRoute");var er=o((e,t)=>{var s;let r,n=St(e,t,!0);if(n){let a=S(e.meta,e.options);r=`${n}/${(a==null?void 0:a.route)??e.name}`}else r=((s=e.options)==null?void 0:s.route)??e.name;return`/${r.replace(/^\//,"")}`},"routeGenerator");var Go=o(e=>{var i;let t=[],r={},n={},s,a;for(let c=0;c<e.length;c++){s=e[c];let d=s.route??((i=S(s==null?void 0:s.meta,s.options))==null?void 0:i.route)??"";r[d]=s,r[d].children=[],n[s.name]=s,n[s.name].children=[]}for(let c in r)Object.hasOwn(r,c)&&(a=r[c],a.parentName&&n[a.parentName]?n[a.parentName].children.push(a):t.push(a));return t},"createTreeView");var It=o(e=>(e=e.replace(/([a-z]{1})([A-Z]{1})/g,"$1-$2"),e=e.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g,"$1-$2$3"),e=e.toLowerCase().replace(/[_-]+/g," ").replace(/\s{2,}/g," ").trim(),e=e.charAt(0).toUpperCase()+e.slice(1),e),"humanizeString");import $o from"react";import Ho from"pluralize";import Os from"react";var Ar=o(({children:e})=>Os.createElement("div",null,e),"DefaultLayout");var Ee={mutationMode:"pessimistic",syncWithLocation:!1,undoableTimeout:5e3,warnWhenUnsavedChanges:!1,liveMode:"off",redirect:{afterCreate:"list",afterClone:"list",afterEdit:"list"},overtime:{interval:1e3},textTransformers:{humanize:It,plural:Ho.plural,singular:Ho.singular},disableServerSideValidation:!1},ve=$o.createContext({hasDashboard:!1,mutationMode:"pessimistic",warnWhenUnsavedChanges:!1,syncWithLocation:!1,undoableTimeout:5e3,Title:void 0,Sider:void 0,Header:void 0,Footer:void 0,Layout:Ar,OffLayoutArea:void 0,liveMode:"off",onLiveEvent:void 0,options:Ee}),Wo=o(({hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,undoableTimeout:s,children:a,DashboardPage:i,Title:c,Layout:d=Ar,Header:u,Sider:p,Footer:l,OffLayoutArea:y,LoginPage:m=kr,catchAll:T,liveMode:L="off",onLiveEvent:v,options:g})=>$o.createElement(ve.Provider,{value:{__initialized:!0,hasDashboard:e,mutationMode:t,warnWhenUnsavedChanges:r,syncWithLocation:n,Title:c,undoableTimeout:s,Layout:d,Header:u,Sider:p,Footer:l,OffLayoutArea:y,DashboardPage:i,LoginPage:m,catchAll:T,liveMode:L,onLiveEvent:v,options:g}},a),"RefineContextProvider");var Qr=o(({options:e,disableTelemetry:t,liveMode:r,mutationMode:n,reactQueryClientConfig:s,reactQueryDevtoolConfig:a,syncWithLocation:i,undoableTimeout:c,warnWhenUnsavedChanges:d}={})=>{var y,m,T,L,v,g,R,M;let u={breadcrumb:e==null?void 0:e.breadcrumb,mutationMode:(e==null?void 0:e.mutationMode)??n??Ee.mutationMode,undoableTimeout:(e==null?void 0:e.undoableTimeout)??c??Ee.undoableTimeout,syncWithLocation:(e==null?void 0:e.syncWithLocation)??i??Ee.syncWithLocation,warnWhenUnsavedChanges:(e==null?void 0:e.warnWhenUnsavedChanges)??d??Ee.warnWhenUnsavedChanges,liveMode:(e==null?void 0:e.liveMode)??r??Ee.liveMode,redirect:{afterCreate:((y=e==null?void 0:e.redirect)==null?void 0:y.afterCreate)??Ee.redirect.afterCreate,afterClone:((m=e==null?void 0:e.redirect)==null?void 0:m.afterClone)??Ee.redirect.afterClone,afterEdit:((T=e==null?void 0:e.redirect)==null?void 0:T.afterEdit)??Ee.redirect.afterEdit},overtime:(e==null?void 0:e.overtime)??Ee.overtime,textTransformers:{humanize:((L=e==null?void 0:e.textTransformers)==null?void 0:L.humanize)??Ee.textTransformers.humanize,plural:((v=e==null?void 0:e.textTransformers)==null?void 0:v.plural)??Ee.textTransformers.plural,singular:((g=e==null?void 0:e.textTransformers)==null?void 0:g.singular)??Ee.textTransformers.singular},disableServerSideValidation:(e==null?void 0:e.disableServerSideValidation)??Ee.disableServerSideValidation,projectId:e==null?void 0:e.projectId,useNewQueryKeys:e==null?void 0:e.useNewQueryKeys},p=(e==null?void 0:e.disableTelemetry)??t??!1,l={clientConfig:((R=e==null?void 0:e.reactQuery)==null?void 0:R.clientConfig)??s??{},devtoolConfig:((M=e==null?void 0:e.reactQuery)==null?void 0:M.devtoolConfig)??a??{}};return{optionsWithDefaults:u,disableTelemetryWithDefault:p,reactQueryWithDefaults:l}},"handleRefineOptions");var Vr=o(({redirectFromProps:e,action:t,redirectOptions:r})=>{if(e||e===!1)return e;switch(t){case"clone":return r.afterClone;case"create":return r.afterCreate;case"edit":return r.afterEdit;default:return!1}},"redirectPage");var tr=o(async(e,t,r)=>{let n=[];for(let[s,a]of e.entries())try{let i=await a();n.push(t(i,s))}catch(i){n.push(r(i,s))}return n},"sequentialPromises");var ye=o((e,t=[],r=!1)=>{if(!e)return;if(r){let s=t.find(i=>be(i.route??"")===be(e));return s||t.find(i=>i.name===e)}let n=t.find(s=>s.identifier===e);return n||(n=t.find(s=>s.name===e)),n},"pickResource");var _=o((e,t,r)=>{if(t)return t;let n=ye(e,r),s=S(n==null?void 0:n.meta,n==null?void 0:n.options);return s!=null&&s.dataProviderName?s.dataProviderName:"default"},"pickDataProvider");var qe=o(async e=>({data:(await Promise.all(e)).map(t=>t.data)}),"handleMultiple");var rr=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.next)return r.next;let n=(t==null?void 0:t.current)||1,s=(t==null?void 0:t.pageSize)||10,a=Math.ceil((e.total||0)/s);return n<a?Number(n)+1:void 0},"getNextPageParam"),or=o(e=>{let{pagination:t,cursor:r}=e;if(r!=null&&r.prev)return r.prev;let n=(t==null?void 0:t.current)||1;return n===1?void 0:n-1},"getPreviousPageParam");var nr=o(e=>{let t=[];return e.forEach(r=>{var n,s;t.push({...r,label:((n=r.meta)==null?void 0:n.label)??((s=r.options)==null?void 0:s.label),route:er(r,e),canCreate:!!r.create,canEdit:!!r.edit,canShow:!!r.show,canDelete:r.canDelete})}),t},"legacyResourceTransform");var Oo=o(e=>_e(be(e)).flatMap(r=>xt(r)?[r.slice(1)]:[]),"pickRouteParams");var zo=o((e,t={})=>e.reduce((r,n)=>{let s=t[n];return typeof s<"u"&&(r[n]=s),r},{}),"prepareRouteParams");var Me=o((e,t={},r={},n={})=>{let s=Oo(e),a=zo(s,{...t,...typeof(r==null?void 0:r.id)<"u"?{id:r.id}:{},...typeof(r==null?void 0:r.action)<"u"?{action:r.action}:{},...typeof(r==null?void 0:r.resource)<"u"?{resource:r.resource}:{},...r==null?void 0:r.params,...n});return e.replace(/:([^\/]+)/g,(i,c)=>{let d=a[c];return typeof d<"u"?`${d}`:i})},"composeRoute");var J=o(()=>{let e=ue(),t=fe();return t.isProvided?{isLegacy:!1,...t}:e.isProvided?{isLegacy:!0,...e,check:e.checkAuth,onError:e.checkError,getIdentity:e.getUserIdentity}:null},"useActiveAuthProvider");var Ft=o(({hasPagination:e,pagination:t,configPagination:r}={})=>{let n=e===!1?"off":"server",s=(t==null?void 0:t.mode)??n,a=S(t==null?void 0:t.current,r==null?void 0:r.current)??1,i=S(t==null?void 0:t.pageSize,r==null?void 0:r.pageSize)??10;return{current:a,pageSize:i,mode:s}},"handlePaginationParams");import{useState as zs,useEffect as _s}from"react";var sr=o(e=>{let[t,r]=zs(!1);return _s(()=>{let n=window.matchMedia(e);n.matches!==t&&r(n.matches);let s=o(()=>r(n.matches),"listener");return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[t,e]),t},"useMediaQuery");var ar=o((e,t,r,n)=>{let s=n?e(t,n,r):e(t,r),a=r??t;return s===t||typeof s>"u"?a:s},"safeTranslate");function _o(e,t,r,n,s){var y;let a={create:"Create new ",clone:`#${n??""} Clone `,edit:`#${n??""} Edit `,show:`#${n??""} Show `,list:""},i=(t==null?void 0:t.identifier)??(t==null?void 0:t.name),c=(t==null?void 0:t.label)??((y=t==null?void 0:t.meta)==null?void 0:y.label)??Wt(i,r==="list"?"plural":"singular"),d=s??c,u=ar(e,"documentTitle.default","refine"),p=ar(e,"documentTitle.suffix"," | refine"),l=u;return r&&i&&(l=ar(e,`documentTitle.${i}.${r}`,`${a[r]??""}${d}${p}`,{id:n})),l}o(_o,"generateDefaultDocumentTitle");import{useContext as js}from"react";var Ae=o((e,t)=>{let{mutationMode:r,undoableTimeout:n}=js(ve);return{mutationMode:e??r,undoableTimeout:t??n}},"useMutationMode");import{useContext as Zo}from"react";import jo,{useState as Xs}from"react";var Br=jo.createContext({}),Xo=o(({children:e})=>{let[t,r]=Xs(!1);return jo.createElement(Br.Provider,{value:{warnWhen:t,setWarnWhen:r}},e)},"UnsavedWarnContextProvider");var pt=o(()=>{let{warnWhenUnsavedChanges:e}=Zo(ve),{warnWhen:t,setWarnWhen:r}=Zo(Br);return{warnWhenUnsavedChanges:e,warnWhen:!!t,setWarnWhen:r??(()=>{})}},"useWarnAboutChange");import{useContext as Zs}from"react";var Nr=o(()=>{let{syncWithLocation:e}=Zs(ve);return{syncWithLocation:e}},"useSyncWithLocation");import{useContext as Ys}from"react";var Js=o(()=>{let{Title:e}=Ys(ve);return e},"useTitle");import{useContext as qs}from"react";var se=o(()=>{let{Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:s,Title:a,hasDashboard:i,mutationMode:c,syncWithLocation:d,undoableTimeout:u,warnWhenUnsavedChanges:p,DashboardPage:l,LoginPage:y,catchAll:m,options:T,__initialized:L}=qs(ve);return{__initialized:L,Footer:e,Header:t,Layout:r,OffLayoutArea:n,Sider:s,Title:a,hasDashboard:i,mutationMode:c,syncWithLocation:d,undoableTimeout:u,warnWhenUnsavedChanges:p,DashboardPage:l,LoginPage:y,catchAll:m,options:T}},"useRefineContext");var st=o(()=>{let{options:{textTransformers:e}}=se();return o((r="",n)=>{let s=e.humanize(r);return n==="singular"?e.singular(s):e.plural(s)},"getFriendlyName")},"useUserFriendlyName");var Yo=o(e=>typeof e=="object"&&e!==null,"isNested"),ea=o(e=>Array.isArray(e),"isArray"),ir=o((e,t="")=>Yo(e)?Object.keys(e).reduce((r,n)=>{let s=t.length?`${t}.`:"";return Yo(e[n])&&Object.keys(e[n]).length&&(ea(e[n])&&e[n].length?e[n].forEach((a,i)=>{Object.assign(r,ir(a,`${s+n}.${i}`))}):Object.assign(r,ir(e[n],s+n))),r[s+n]=e[n],r},{}):{[t]:e},"flattenObjectKeys");var Jo=o(e=>e.split(".").map(t=>Number.isNaN(Number(t))?t:Number(t)),"propertyPathToArray");var Kr=o((e,t,r)=>{if(typeof window>"u")return;let n=new Blob([t],{type:r}),s=document.createElement("a");s.setAttribute("visibility","hidden"),s.download=e;let a=URL.createObjectURL(n);s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),setTimeout(()=>{URL.revokeObjectURL(a)})},"downloadInBrowser");var ur=o(e=>{setTimeout(e,0)},"deferExecution");import ta from"lodash-es/debounce.js";var Gr=o((e,t=1e3,r)=>{let n=[],s=o(()=>{n.forEach(c=>{var d;return(d=c.reject)==null?void 0:d.call(c,r)}),n=[]},"cancelPrevious"),a=ta((...c)=>{let{resolve:d,reject:u}=n.pop()||{};Promise.resolve(e(...c)).then(d).catch(u)},t),i=o((...c)=>new Promise((d,u)=>{s(),n.push({resolve:d,reject:u}),a(...c)}),"runner");return i.flush=()=>a.flush(),i.cancel=()=>{a.cancel(),s()},i},"asyncDebounce");var ke=o(e=>{let t={queryKey:e.queryKey,pageParam:e.pageParam};return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>e.signal}),t},"prepareQueryContext");var cr=o(e=>{let{current:t,pageSize:r,sorter:n,sorters:s,filters:a}=Hr.parse(e.substring(1));return{parsedCurrent:t&&Number(t),parsedPageSize:r&&Number(r),parsedSorter:S(s,n)??[],parsedFilters:a??[]}},"parseTableParams"),oa=o(e=>{let t=Hr.stringify(e);return cr(`/${t}`)},"parseTableParamsFromQuery"),dr=o(e=>{let t={skipNulls:!0,arrayFormat:"indices",encode:!1},{pagination:r,sorter:n,sorters:s,filters:a,...i}=e;return Hr.stringify({...i,...r||{},sorters:S(s,n),filters:a},t)},"stringifyTableParams"),tn=o((e,t)=>e.operator!=="and"&&e.operator!=="or"&&t.operator!=="and"&&t.operator!=="or"?("field"in e?e.field:void 0)===("field"in t?t.field:void 0)&&e.operator===t.operator:("key"in e?e.key:void 0)===("key"in t?t.key:void 0)&&e.operator===t.operator,"compareFilters"),rn=o((e,t)=>e.field===t.field,"compareSorters"),Rt=o((e,t,r=[])=>(t.filter(s=>(s.operator==="or"||s.operator==="and")&&!s.key).length>1&&ra(!0,`[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. 
For more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage`),en(e,t,r,tn).filter(s=>s.value!==void 0&&s.value!==null&&(s.operator!=="or"||s.operator==="or"&&s.value.length!==0)&&(s.operator!=="and"||s.operator==="and"&&s.value.length!==0))),"unionFilters"),pr=o((e,t)=>en(e,t,rn).filter(r=>r.order!==void 0&&r.order!==null),"unionSorters"),lr=o((e,t)=>[...qo(t,e,tn),...e],"setInitialFilters"),mr=o((e,t)=>[...qo(t,e,rn),...e],"setInitialSorters"),na=o((e,t)=>{if(!t)return;let r=t.find(n=>n.field===e);if(r)return r.order},"getDefaultSortOrder"),sa=o((e,t,r="eq")=>{let n=t==null?void 0:t.find(s=>{if(s.operator!=="or"&&s.operator!=="and"&&"field"in s){let{operator:a,field:i}=s;return i===e&&a===r}});if(n)return n.value||[]},"getDefaultFilter");var aa=o(e=>new Promise((t,r)=>{let n=new FileReader,s=o(()=>{n.result&&(n.removeEventListener("load",s,!1),t(n.result))},"resultHandler");n.addEventListener("load",s,!1),n.readAsDataURL(e.originFileObj),n.onerror=a=>(n.removeEventListener("load",s,!1),r(a))}),"file2Base64");var O=o(()=>{let{options:{useNewQueryKeys:e}}=se();return{keys:Oe,preferLegacyKeys:!e}},"useKeys");function ia({v3LegacyAuthProviderCompatible:e=!1,options:t,params:r}={}){let{getPermissions:n}=ue(),{getPermissions:s}=fe(),{keys:a,preferLegacyKeys:i}=O(),c=nn({queryKey:a().auth().action("permissions").get(i),queryFn:s?()=>s(r):()=>Promise.resolve(void 0),enabled:!e&&!!s,...e?{}:t,meta:{...e?{}:t==null?void 0:t.meta,...on("usePermissions",i)}}),d=nn({queryKey:[...a().auth().action("permissions").get(i),"v3LegacyAuthProviderCompatible"],queryFn:n?()=>n(r):()=>Promise.resolve(void 0),enabled:e&&!!n,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...on("usePermissions",i)}});return e?d:c}o(ia,"usePermissions");import{getXRay as sn}from"@refinedev/devtools-internal";import{useQuery as an}from"@tanstack/react-query";function $r({v3LegacyAuthProviderCompatible:e=!1,queryOptions:t}={}){let{getUserIdentity:r}=ue(),{getIdentity:n}=fe(),{keys:s,preferLegacyKeys:a}=O(),i=an({queryKey:s().auth().action("identity").get(a),queryFn:n??(()=>Promise.resolve({})),enabled:!e&&!!n,retry:!1,...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...sn("useGetIdentity",a)}}),c=an({queryKey:[...s().auth().action("identity").get(a),"v3LegacyAuthProviderCompatible"],queryFn:r??(()=>Promise.resolve({})),enabled:e&&!!r,retry:!1,...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...sn("useGetIdentity",a)}});return e?c:i}o($r,"useGetIdentity");import{getXRay as un}from"@refinedev/devtools-internal";import{useMutation as cn}from"@tanstack/react-query";import{useQueryClient as ua}from"@tanstack/react-query";var ht=o(()=>{let e=ua(),{keys:t,preferLegacyKeys:r}=O();return o(async()=>{await Promise.all(["check","identity","permissions"].map(s=>e.invalidateQueries(t().auth().action(s).get(r))))},"invalidate")},"useInvalidateAuthStore");function fr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ht(),n=Z(),s=ge(),{push:a}=ce(),{open:i,close:c}=we(),{logout:d}=ue(),{logout:u}=fe(),{keys:p,preferLegacyKeys:l}=O(),y=cn({mutationKey:p().auth().action("logout").get(l),mutationFn:u,onSuccess:async(T,L)=>{let{success:v,error:g,redirectTo:R,successNotification:M}=T,{redirectPath:I}=L??{},x=I??R;v&&(c==null||c("useLogout-error"),M&&(i==null||i(ca(M)))),(g||!v)&&(i==null||i(Wr(g))),x!==!1&&(n==="legacy"?a(x??"/login"):x&&s({to:x})),await r()},onError:T=>{i==null||i(Wr(T))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...un("useLogout",l)}}),m=cn({mutationKey:[...p().auth().action("logout").get(l),"v3LegacyAuthProviderCompatible"],mutationFn:d,onSuccess:async(T,L)=>{let v=(L==null?void 0:L.redirectPath)??T;if(v!==!1){if(v){n==="legacy"?a(v):s({to:v});return}n==="legacy"?a("/login"):s({to:"/login"}),await r()}},onError:T=>{i==null||i(Wr(T))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...un("useLogout",l)}});return e?m:y}o(fr,"useLogout");var Wr=o(e=>({key:"useLogout-error",type:"error",message:(e==null?void 0:e.name)||"Logout Error",description:(e==null?void 0:e.message)||"Something went wrong during logout"}),"buildNotification"),ca=o(e=>({message:e.message,description:e.description,key:"logout-success",type:"success"}),"buildSuccessNotification");import da from"react";import{getXRay as dn}from"@refinedev/devtools-internal";import{useMutation as pn}from"@tanstack/react-query";import pa from"qs";function At({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ht(),n=Z(),s=ge(),{replace:a}=ce(),i=ae(),{useLocation:c}=te(),{search:d}=c(),{close:u,open:p}=we(),{login:l}=ue(),{login:y}=fe(),{keys:m,preferLegacyKeys:T}=O(),L=da.useMemo(()=>{var R;return n==="legacy"?pa.parse(d,{ignoreQueryPrefix:!0}).to:(R=i.params)==null?void 0:R.to},[n,i.params,d]),v=pn({mutationKey:m().auth().action("login").get(T),mutationFn:y,onSuccess:async({success:R,redirectTo:M,error:I,successNotification:x})=>{R&&(u==null||u("login-error"),x&&(p==null||p(la(x)))),(I||!R)&&(p==null||p(Or(I))),L&&R?n==="legacy"?a(L):s({to:L,type:"replace"}):M?n==="legacy"?a(M):s({to:M,type:"replace"}):n==="legacy"&&a("/"),await r()},onError:R=>{p==null||p(Or(R))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...dn("useLogin",T)}}),g=pn({mutationKey:[...m().auth().action("login").get(T),"v3LegacyAuthProviderCompatible"],mutationFn:l,onSuccess:async R=>{L&&a(L),R!==!1&&!L&&(typeof R=="string"?n==="legacy"?a(R):s({to:R,type:"replace"}):n==="legacy"?a("/"):s({to:"/",type:"replace"})),await r(),u==null||u("login-error")},onError:R=>{p==null||p(Or(R))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...dn("useLogin",T)}});return e?g:v}o(At,"useLogin");var Or=o(e=>({message:(e==null?void 0:e.name)||"Login Error",description:(e==null?void 0:e.message)||"Invalid credentials",key:"login-error",type:"error"}),"buildNotification"),la=o(e=>({message:e.message,description:e.description,key:"login-success",type:"success"}),"buildSuccessNotification");import{getXRay as ln}from"@refinedev/devtools-internal";import{useMutation as mn}from"@tanstack/react-query";function _r({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=ht(),n=Z(),s=ge(),{replace:a}=ce(),{register:i}=ue(),{register:c}=fe(),{close:d,open:u}=we(),{keys:p,preferLegacyKeys:l}=O(),y=mn({mutationKey:p().auth().action("register").get(l),mutationFn:c,onSuccess:async({success:T,redirectTo:L,error:v,successNotification:g})=>{T&&(d==null||d("register-error"),g&&(u==null||u(ma(g)))),(v||!T)&&(u==null||u(zr(v))),L?n==="legacy"?a(L):s({to:L,type:"replace"}):n==="legacy"&&a("/"),await r()},onError:T=>{u==null||u(zr(T))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...ln("useRegister",l)}}),m=mn({mutationKey:[...p().auth().action("register").get(l),"v3LegacyAuthProviderCompatible"],mutationFn:i,onSuccess:async T=>{T!==!1&&(T?n==="legacy"?a(T):s({to:T,type:"replace"}):n==="legacy"?a("/"):s({to:"/",type:"replace"}),await r(),d==null||d("register-error"))},onError:T=>{u==null||u(zr(T))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...ln("useRegister",l)}});return e?m:y}o(_r,"useRegister");var zr=o(e=>({message:(e==null?void 0:e.name)||"Register Error",description:(e==null?void 0:e.message)||"Error while registering",key:"register-error",type:"error"}),"buildNotification"),ma=o(e=>({message:e.message,description:e.description,key:"register-success",type:"success"}),"buildSuccessNotification");import{getXRay as fn}from"@refinedev/devtools-internal";import{useMutation as yn}from"@tanstack/react-query";function Xr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Z(),n=ge(),{replace:s}=ce(),{forgotPassword:a}=ue(),{forgotPassword:i}=fe(),{close:c,open:d}=we(),{keys:u,preferLegacyKeys:p}=O(),l=yn({mutationKey:u().auth().action("forgotPassword").get(p),mutationFn:i,onSuccess:({success:m,redirectTo:T,error:L,successNotification:v})=>{m&&(c==null||c("forgot-password-error"),v&&(d==null||d(fa(v)))),(L||!m)&&(d==null||d(jr(L))),T&&(r==="legacy"?s(T):n({to:T,type:"replace"}))},onError:m=>{d==null||d(jr(m))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...fn("useForgotPassword",p)}}),y=yn({mutationKey:[...u().auth().action("forgotPassword").get(p),"v3LegacyAuthProviderCompatible"],mutationFn:a,onSuccess:m=>{m!==!1&&m&&(r==="legacy"?s(m):n({to:m,type:"replace"})),c==null||c("forgot-password-error")},onError:m=>{d==null||d(jr(m))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...fn("useForgotPassword",p)}});return e?y:l}o(Xr,"useForgotPassword");var jr=o(e=>({message:(e==null?void 0:e.name)||"Forgot Password Error",description:(e==null?void 0:e.message)||"Error while resetting password",key:"forgot-password-error",type:"error"}),"buildNotification"),fa=o(e=>({message:e.message,description:e.description,key:"forgot-password-success",type:"success"}),"buildSuccessNotification");import ya from"react";import{getXRay as gn}from"@refinedev/devtools-internal";import{useMutation as Tn}from"@tanstack/react-query";import ga from"qs";function Yr({v3LegacyAuthProviderCompatible:e,mutationOptions:t}={}){let r=Z(),n=ge(),{replace:s}=ce(),{updatePassword:a}=ue(),{updatePassword:i}=fe(),{close:c,open:d}=we(),{keys:u,preferLegacyKeys:p}=O(),l=ae(),{useLocation:y}=te(),{search:m}=y(),T=ya.useMemo(()=>r==="legacy"?ga.parse(m,{ignoreQueryPrefix:!0})??{}:l.params??{},[m,l,r]),L=Tn({mutationKey:u().auth().action("updatePassword").get(p),mutationFn:async g=>i==null?void 0:i({...T,...g}),onSuccess:({success:g,redirectTo:R,error:M,successNotification:I})=>{g&&(c==null||c("update-password-error"),I&&(d==null||d(Ta(I)))),(M||!g)&&(d==null||d(Zr(M))),R&&(r==="legacy"?s(R):n({to:R,type:"replace"}))},onError:g=>{d==null||d(Zr(g))},...e===!0?{}:t,meta:{...e===!0?{}:t==null?void 0:t.meta,...gn("useUpdatePassword",p)}}),v=Tn({mutationKey:[...u().auth().action("updatePassword").get(p),"v3LegacyAuthProviderCompatible"],mutationFn:async g=>a==null?void 0:a({...T,...g}),onSuccess:g=>{g!==!1&&g&&(r==="legacy"?s(g):n({to:g,type:"replace"})),c==null||c("update-password-error")},onError:g=>{d==null||d(Zr(g))},...e?t:{},meta:{...e?t==null?void 0:t.meta:{},...gn("useUpdatePassword",p)}});return e?v:L}o(Yr,"useUpdatePassword");var Zr=o(e=>({message:(e==null?void 0:e.name)||"Update Password Error",description:(e==null?void 0:e.message)||"Error while updating password",key:"update-password-error",type:"error"}),"buildNotification"),Ta=o(e=>({message:e.message,description:e.description,key:"update-password-success",type:"success"}),"buildSuccessNotification");import{getXRay as Pn}from"@refinedev/devtools-internal";import{useQuery as xn}from"@tanstack/react-query";function yr({v3LegacyAuthProviderCompatible:e=!1,params:t}={}){let{checkAuth:r}=ue(),{check:n}=fe(),{keys:s,preferLegacyKeys:a}=O(),i=xn({queryKey:s().auth().action("check").params(t).get(a),queryFn:async()=>await(n==null?void 0:n(t))??{},retry:!1,enabled:!e,meta:{...Pn("useIsAuthenticated",a)}}),c=xn({queryKey:[...s().auth().action("check").params(t).get(a),"v3LegacyAuthProviderCompatible"],queryFn:async()=>await(r==null?void 0:r(t))??{},retry:!1,enabled:e,meta:{...Pn("useIsAuthenticated",a)}});return e?c:i}o(yr,"useIsAuthenticated");var Pa=yr;import{getXRay as Rn}from"@refinedev/devtools-internal";import{useMutation as hn}from"@tanstack/react-query";function de({v3LegacyAuthProviderCompatible:e=!1}={}){let t=Z(),r=ge(),{replace:n}=ce(),{checkError:s}=ue(),{onError:a}=fe(),{keys:i,preferLegacyKeys:c}=O(),{mutate:d}=fr({v3LegacyAuthProviderCompatible:!!e}),{mutate:u}=fr({v3LegacyAuthProviderCompatible:!!e}),p=hn({mutationKey:i().auth().action("onError").get(c),...a?{mutationFn:a,onSuccess:({logout:y,redirectTo:m})=>{if(y){u({redirectPath:m});return}if(m){t==="legacy"?n(m):r({to:m,type:"replace"});return}}}:{mutationFn:()=>({})},meta:{...Rn("useOnError",c)}}),l=hn({mutationKey:[...i().auth().action("onError").get(c),"v3LegacyAuthProviderCompatible"],mutationFn:s,onError:y=>{d({redirectPath:y})},meta:{...Rn("useOnError",c)}});return e?l:p}o(de,"useOnError");var xa=de;var Jr=o(()=>{let{isProvided:e}=ue(),{isProvided:t}=fe();return!!(t||e)},"useIsExistAuthentication");import{getXRay as ha}from"@refinedev/devtools-internal";import{useQuery as Ca}from"@tanstack/react-query";import{useEffect as Cn,useState as Ra}from"react";var ee=o(({isLoading:e,interval:t,onInterval:r})=>{let[n,s]=Ra(void 0),{options:a}=se(),{overtime:i}=a,c=t??i.interval,d=r??(i==null?void 0:i.onInterval);return Cn(()=>{let u;return e&&(u=setInterval(()=>{s(p=>p===void 0?c:p+c)},c)),()=>{clearInterval(u),s(void 0)}},[e,c]),Cn(()=>{d&&n&&d(n)},[n]),{elapsedTime:n}},"useLoadingOvertime");var kt=o(({resource:e,config:t,filters:r,hasPagination:n,pagination:s,sorters:a,queryOptions:i,successNotification:c,errorNotification:d,meta:u,metaData:p,liveMode:l,onLiveEvent:y,liveParams:m,dataProviderName:T,overtimeOptions:L}={})=>{let{resources:v,resource:g,identifier:R}=z(e),M=ne(),I=G(),x=J(),{mutate:P}=de({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),f=pe(),U=q(),{keys:b,preferLegacyKeys:h}=O(),E=_(R,T,v),C=S(u,p),D=S(r,t==null?void 0:t.filters),k=S(a,t==null?void 0:t.sort),w=S(n,t==null?void 0:t.hasPagination),Q=Ft({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:w}),F=Q.mode==="server",H=U({resource:g,meta:C}),$={meta:H,metaData:H,filters:D,hasPagination:F,pagination:Q,sorters:k,config:{...t,sort:k}},K=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,{getList:j}=M(E);at({resource:R,types:["*"],params:{meta:H,metaData:H,pagination:Q,hasPagination:F,sort:k,sorters:k,filters:D,subscriptionType:"useList",...m},channel:`resources/${g==null?void 0:g.name}`,enabled:K,liveMode:l,onLiveEvent:y,dataProviderName:E,meta:{...u,dataProviderName:T}});let B=Ca({queryKey:b().data(E).resource(R??"").action("list").params({...C||{},filters:D,hasPagination:F,...F&&{pagination:Q},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(h),queryFn:V=>{let N={...H,queryContext:ke(V)};return j({resource:(g==null?void 0:g.name)??"",pagination:Q,hasPagination:F,filters:D,sort:k,sorters:k,meta:N,metaData:N})},...i,enabled:typeof(i==null?void 0:i.enabled)<"u"?i==null?void 0:i.enabled:!!(g!=null&&g.name),select:V=>{var De;let N=V,{current:X,mode:oe,pageSize:ie}=Q;return oe==="client"&&(N={...N,data:N.data.slice((X-1)*ie,X*ie),total:N.total}),i!=null&&i.select?(De=i==null?void 0:i.select)==null?void 0:De.call(i,N):N},onSuccess:V=>{var X;(X=i==null?void 0:i.onSuccess)==null||X.call(i,V);let N=typeof c=="function"?c(V,$,R):c;f(N)},onError:V=>{var X;P(V),(X=i==null?void 0:i.onError)==null||X.call(i,V);let N=typeof d=="function"?d(V,$,R):d;f(N,{key:`${R}-useList-notification`,message:I("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...i==null?void 0:i.meta,...ha("useList",h,g==null?void 0:g.name)}}),{elapsedTime:W}=ee({isLoading:B.isFetching,interval:L==null?void 0:L.interval,onInterval:L==null?void 0:L.onInterval});return{...B,overtime:{elapsedTime:W}}},"useList");import{getXRay as ba}from"@refinedev/devtools-internal";import{useQuery as va}from"@tanstack/react-query";var Qt=o(({resource:e,id:t,queryOptions:r,successNotification:n,errorNotification:s,meta:a,metaData:i,liveMode:c,onLiveEvent:d,liveParams:u,dataProviderName:p,overtimeOptions:l})=>{let{resources:y,resource:m,identifier:T}=z(e),L=ne(),v=G(),g=J(),{mutate:R}=de({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),M=pe(),I=q(),{keys:x,preferLegacyKeys:P}=O(),f=S(a,i),U=_(T,p,y),{getOne:b}=L(U),h=I({resource:m,meta:f});at({resource:T,types:["*"],channel:`resources/${m==null?void 0:m.name}`,params:{ids:t?[t]:[],id:t,meta:h,metaData:h,subscriptionType:"useOne",...u},enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof(m==null?void 0:m.name)<"u"&&typeof t<"u",liveMode:c,onLiveEvent:d,dataProviderName:U,meta:{...a,dataProviderName:p}});let E=va({queryKey:x().data(U).resource(T??"").action("one").id(t??"").params({...f||{}}).get(P),queryFn:D=>b({resource:(m==null?void 0:m.name)??"",id:t,meta:{...h,queryContext:ke(D)},metaData:{...h,queryContext:ke(D)}}),...r,enabled:typeof(r==null?void 0:r.enabled)<"u"?r==null?void 0:r.enabled:typeof t<"u",onSuccess:D=>{var w;(w=r==null?void 0:r.onSuccess)==null||w.call(r,D);let k=typeof n=="function"?n(D,{id:t,...h},T):n;M(k)},onError:D=>{var w;R(D),(w=r==null?void 0:r.onError)==null||w.call(r,D);let k=typeof s=="function"?s(D,{id:t,...h},T):s;M(k,{key:`${t}-${T}-getOne-notification`,message:v("notifications.error",{statusCode:D.statusCode},`Error (status code: ${D.statusCode})`),description:D.message,type:"error"})},meta:{...r==null?void 0:r.meta,...ba("useOne",P,m==null?void 0:m.name)}}),{elapsedTime:C}=ee({isLoading:E.isFetching,interval:l==null?void 0:l.interval,onInterval:l==null?void 0:l.onInterval});return{...E,overtime:{elapsedTime:C}}},"useOne");import{getXRay as Da}from"@refinedev/devtools-internal";import{useQuery as La}from"@tanstack/react-query";var qr=o(({resource:e,ids:t,queryOptions:r,successNotification:n,errorNotification:s,meta:a,metaData:i,liveMode:c,onLiveEvent:d,liveParams:u,dataProviderName:p,overtimeOptions:l})=>{let{resources:y,resource:m,identifier:T}=z(e),L=ne(),v=G(),g=J(),{mutate:R}=de({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),M=pe(),I=q(),{keys:x,preferLegacyKeys:P}=O(),f=S(a,i),U=_(T,p,y),b=(r==null?void 0:r.enabled)===void 0||(r==null?void 0:r.enabled)===!0,{getMany:h,getOne:E}=L(U),C=I({resource:m,meta:f});at({resource:T,types:["*"],params:{ids:t,meta:C,metaData:C,subscriptionType:"useMany",...u},channel:`resources/${m.name}`,enabled:b,liveMode:c,onLiveEvent:d,dataProviderName:U,meta:{...a,dataProviderName:p}});let D=La({queryKey:x().data(U).resource(T).action("many").ids(...t).params({...f||{}}).get(P),queryFn:w=>{let Q={...C,queryContext:ke(w)};return h?h({resource:m==null?void 0:m.name,ids:t,meta:Q,metaData:Q}):qe(t.map(F=>E({resource:m==null?void 0:m.name,id:F,meta:Q,metaData:Q})))},...r,onSuccess:w=>{var F;(F=r==null?void 0:r.onSuccess)==null||F.call(r,w);let Q=typeof n=="function"?n(w,t,T):n;M(Q)},onError:w=>{var F;R(w),(F=r==null?void 0:r.onError)==null||F.call(r,w);let Q=typeof s=="function"?s(w,t,T):s;M(Q,{key:`${t[0]}-${T}-getMany-notification`,message:v("notifications.error",{statusCode:w.statusCode},`Error (status code: ${w.statusCode})`),description:w.message,type:"error"})},meta:{...r==null?void 0:r.meta,...Da("useMany",P,m==null?void 0:m.name)}}),{elapsedTime:k}=ee({isLoading:D.isFetching,interval:l==null?void 0:l.interval,onInterval:l==null?void 0:l.onInterval});return{...D,overtime:{elapsedTime:k}}},"useMany");import{getXRay as Ua}from"@refinedev/devtools-internal";import{useMutation as Ea,useQueryClient as Ma}from"@tanstack/react-query";var eo=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:n}=z(),s=Ma(),a=ne(),{mutationMode:i,undoableTimeout:c}=Ae(),d=G(),u=J(),{mutate:p}=de({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),l=Be(),{log:y}=Ne(),{notificationDispatch:m}=je(),T=pe(),L=Ce(),v=q(),{options:{textTransformers:g}}=se(),{keys:R,preferLegacyKeys:M}=O(),I=Ea({mutationFn:({id:P,values:f,resource:U,mutationMode:b,undoableTimeout:h,onCancel:E,meta:C,metaData:D,dataProviderName:k})=>{let{resource:w,identifier:Q}=n(U),F=v({resource:w,meta:S(C,D)}),H=b??i,$=h??c;return H!=="undoable"?a(_(Q,k,r)).update({resource:w.name,id:P,variables:f,meta:F,metaData:F}):new Promise((j,B)=>{let W=o(()=>{a(_(Q,k,r)).update({resource:w.name,id:P,variables:f,meta:F,metaData:F}).then(N=>j(N)).catch(N=>B(N))},"doMutation"),V=o(()=>{B({message:"mutationCancelled"})},"cancelMutation");E&&E(V),m({type:"ADD",payload:{id:P,resource:Q,cancelMutation:V,doMutation:W,seconds:$,isSilent:!!E}})})},onMutate:async({resource:P,id:f,mutationMode:U,values:b,dataProviderName:h,meta:E,metaData:C,optimisticUpdateMap:D={list:!0,many:!0,detail:!0}})=>{let{identifier:k}=n(P),{gqlMutation:w,gqlQuery:Q,...F}=S(E,C)??{},H=Je(M)(k,_(k,h,r),F),$=R().data(_(k,h,r)).resource(k),K=s.getQueriesData($.get(M)),j=U??i;return await s.cancelQueries($.get(M),void 0,{silent:!0}),j!=="pessimistic"&&(D.list&&s.setQueriesData($.action("list").params(F??{}).get(M),B=>{if(typeof D.list=="function")return D.list(B,b,f);if(!B)return null;let W=B.data.map(V=>{var N;return((N=V.id)==null?void 0:N.toString())===(f==null?void 0:f.toString())?{id:f,...V,...b}:V});return{...B,data:W}}),D.many&&s.setQueriesData($.action("many").get(M),B=>{if(typeof D.many=="function")return D.many(B,b,f);if(!B)return null;let W=B.data.map(V=>{var N;return((N=V.id)==null?void 0:N.toString())===(f==null?void 0:f.toString())&&(V={id:f,...V,...b}),V});return{...B,data:W}}),D.detail&&s.setQueriesData($.action("one").id(f).params(F??{}).get(M),B=>typeof D.detail=="function"?D.detail(B,b,f):B?{...B,data:{...B.data,...b}}:null)),{previousQueries:K,queryKey:H}},onSettled:(P,f,{id:U,resource:b,dataProviderName:h,invalidates:E=["list","many","detail"]})=>{let{identifier:C}=n(b);L({resource:C,dataProviderName:_(C,h,r),invalidates:E,id:U}),m({type:"REMOVE",payload:{id:U,resource:C}})},onSuccess:(P,{id:f,resource:U,successNotification:b,dataProviderName:h,values:E,meta:C,metaData:D},k)=>{var X;let{resource:w,identifier:Q}=n(U),F=g.singular(Q),H=_(Q,h,r),$=v({resource:w,meta:S(C,D)}),K=typeof b=="function"?b(P,{id:f,values:E},Q):b;T(K,{key:`${f}-${Q}-notification`,description:d("notifications.success","Successful"),message:d("notifications.editSuccess",{resource:d(`${Q}.${Q}`,F)},`Successfully updated ${F}`),type:"success"}),l==null||l({channel:`resources/${w.name}`,type:"updated",payload:{ids:(X=P.data)!=null&&X.id?[P.data.id]:void 0},date:new Date,meta:{...$,dataProviderName:H}});let j;if(k){let oe=s.getQueryData(k.queryKey.detail(f));j=Object.keys(E||{}).reduce((ie,De)=>{var Y;return ie[De]=(Y=oe==null?void 0:oe.data)==null?void 0:Y[De],ie},{})}let{fields:B,operation:W,variables:V,...N}=$||{};y==null||y.mutate({action:"update",resource:w.name,data:E,previousData:j,meta:{id:f,dataProviderName:H,...N}})},onError:(P,{id:f,resource:U,errorNotification:b,values:h},E)=>{let{identifier:C}=n(U);if(E)for(let D of E.previousQueries)s.setQueryData(D[0],D[1]);if(P.message!=="mutationCancelled"){p==null||p(P);let D=g.singular(C),k=typeof b=="function"?b(P,{id:f,values:h},C):b;T(k,{key:`${f}-${C}-notification`,message:d("notifications.editError",{resource:d(`${C}.${C}`,D),statusCode:P.statusCode},`Error when updating ${D} (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:R().data().mutation("update").get(M),...e,meta:{...e==null?void 0:e.meta,...Ua("useUpdate",M)}}),{elapsedTime:x}=ee({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:x}}},"useUpdate");import{getXRay as wa}from"@refinedev/devtools-internal";import{useMutation as Ia}from"@tanstack/react-query";var Vt=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:n}=de({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),s=ne(),a=Ce(),{resources:i,select:c}=z(),d=G(),u=Be(),{log:p}=Ne(),l=pe(),y=q(),{options:{textTransformers:m}}=se(),{keys:T,preferLegacyKeys:L}=O(),v=Ia({mutationFn:({resource:R,values:M,meta:I,metaData:x,dataProviderName:P})=>{let{resource:f,identifier:U}=c(R),b=y({resource:f,meta:S(I,x)});return s(_(U,P,i)).create({resource:f.name,variables:M,meta:b,metaData:b})},onSuccess:(R,{resource:M,successNotification:I,dataProviderName:x,invalidates:P=["list","many"],values:f,meta:U,metaData:b})=>{var K,j;let{resource:h,identifier:E}=c(M),C=m.singular(E),D=_(E,x,i),k=y({resource:h,meta:S(U,b)}),w=typeof I=="function"?I(R,f,E):I;l(w,{key:`create-${E}-notification`,message:d("notifications.createSuccess",{resource:d(`${E}.${E}`,C)},`Successfully created ${C}`),description:d("notifications.success","Success"),type:"success"}),a({resource:E,dataProviderName:D,invalidates:P}),u==null||u({channel:`resources/${h.name}`,type:"created",payload:{ids:(K=R==null?void 0:R.data)!=null&&K.id?[R.data.id]:void 0},date:new Date,meta:{...k,dataProviderName:D}});let{fields:Q,operation:F,variables:H,...$}=k||{};p==null||p.mutate({action:"create",resource:h.name,data:f,meta:{dataProviderName:D,id:((j=R==null?void 0:R.data)==null?void 0:j.id)??void 0,...$}})},onError:(R,{resource:M,errorNotification:I,values:x})=>{n(R);let{identifier:P}=c(M),f=m.singular(P),U=typeof I=="function"?I(R,x,P):I;l(U,{key:`create-${P}-notification`,description:R.message,message:d("notifications.createError",{resource:d(`${P}.${P}`,f),statusCode:R.statusCode},`There was an error creating ${f} (status code: ${R.statusCode})`),type:"error"})},mutationKey:T().data().mutation("create").get(L),...e,meta:{...e==null?void 0:e.meta,...wa("useCreate",L)}}),{elapsedTime:g}=ee({isLoading:v.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...v,overtime:{elapsedTime:g}}},"useCreate");import{getXRay as Sa}from"@refinedev/devtools-internal";import{useMutation as Fa,useQueryClient as Aa}from"@tanstack/react-query";var to=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:n}=de({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),s=ne(),{resources:a,select:i}=z(),c=Aa(),{mutationMode:d,undoableTimeout:u}=Ae(),{notificationDispatch:p}=je(),l=G(),y=Be(),{log:m}=Ne(),T=pe(),L=Ce(),v=q(),{options:{textTransformers:g}}=se(),{keys:R,preferLegacyKeys:M}=O(),I=Fa({mutationFn:({id:P,mutationMode:f,undoableTimeout:U,resource:b,onCancel:h,meta:E,metaData:C,dataProviderName:D,values:k})=>{let{resource:w,identifier:Q}=i(b),F=v({resource:w,meta:S(E,C)}),H=f??d,$=U??u;return H!=="undoable"?s(_(Q,D,a)).deleteOne({resource:w.name,id:P,meta:F,metaData:F,variables:k}):new Promise((j,B)=>{let W=o(()=>{s(_(Q,D,a)).deleteOne({resource:w.name,id:P,meta:F,metaData:F,variables:k}).then(N=>j(N)).catch(N=>B(N))},"doMutation"),V=o(()=>{B({message:"mutationCancelled"})},"cancelMutation");h&&h(V),p({type:"ADD",payload:{id:P,resource:Q,cancelMutation:V,doMutation:W,seconds:$,isSilent:!!h}})})},onMutate:async({id:P,resource:f,mutationMode:U,dataProviderName:b,meta:h,metaData:E})=>{let{identifier:C}=i(f),{gqlMutation:D,gqlQuery:k,...w}=S(h,E)??{},Q=Je(M)(C,_(C,b,a),w),F=R().data(_(C,b,a)).resource(C),H=U??d;await c.cancelQueries(F.get(M),void 0,{silent:!0});let $=c.getQueriesData(F.get(M));return H!=="pessimistic"&&(c.setQueriesData(F.action("list").params(w??{}).get(M),K=>K?{data:K.data.filter(B=>{var W;return((W=B.id)==null?void 0:W.toString())!==P.toString()}),total:K.total-1}:null),c.setQueriesData(F.action("many").get(M),K=>{if(!K)return null;let j=K.data.filter(B=>{var W;return((W=B.id)==null?void 0:W.toString())!==(P==null?void 0:P.toString())});return{...K,data:j}})),{previousQueries:$,queryKey:Q}},onSettled:(P,f,{id:U,resource:b,dataProviderName:h,invalidates:E=["list","many"]})=>{let{identifier:C}=i(b);L({resource:C,dataProviderName:_(C,h,a),invalidates:E}),p({type:"REMOVE",payload:{id:U,resource:C}})},onSuccess:(P,{id:f,resource:U,successNotification:b,dataProviderName:h,meta:E,metaData:C},D)=>{let{resource:k,identifier:w}=i(U),Q=g.singular(w),F=_(w,h,a),H=v({resource:k,meta:S(E,C)});c.removeQueries(D==null?void 0:D.queryKey.detail(f));let $=typeof b=="function"?b(P,f,w):b;T($,{key:`${f}-${w}-notification`,description:l("notifications.success","Success"),message:l("notifications.deleteSuccess",{resource:l(`${w}.${w}`,Q)},`Successfully deleted a ${Q}`),type:"success"}),y==null||y({channel:`resources/${k.name}`,type:"deleted",payload:{ids:[f]},date:new Date,meta:{...H,dataProviderName:F}});let{fields:K,operation:j,variables:B,...W}=H||{};m==null||m.mutate({action:"delete",resource:k.name,meta:{id:f,dataProviderName:F,...W}}),c.removeQueries(D==null?void 0:D.queryKey.detail(f))},onError:(P,{id:f,resource:U,errorNotification:b},h)=>{let{identifier:E}=i(U);if(h)for(let C of h.previousQueries)c.setQueryData(C[0],C[1]);if(P.message!=="mutationCancelled"){n(P);let C=g.singular(E),D=typeof b=="function"?b(P,f,E):b;T(D,{key:`${f}-${E}-notification`,message:l("notifications.deleteError",{resource:C,statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:R().data().mutation("delete").get(M),...e,meta:{...e==null?void 0:e.meta,...Sa("useDelete",M)}}),{elapsedTime:x}=ee({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:x}}},"useDelete");import{getXRay as ka}from"@refinedev/devtools-internal";import{useMutation as Qa}from"@tanstack/react-query";var ro=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=ne(),{resources:n,select:s}=z(),a=G(),i=Be(),c=pe(),d=Ce(),{log:u}=Ne(),p=q(),{options:{textTransformers:l}}=se(),{keys:y,preferLegacyKeys:m}=O(),T=Qa({mutationFn:({resource:v,values:g,meta:R,metaData:M,dataProviderName:I})=>{let{resource:x,identifier:P}=s(v),f=p({resource:x,meta:S(R,M)}),U=r(_(P,I,n));return U.createMany?U.createMany({resource:x.name,variables:g,meta:f,metaData:f}):qe(g.map(b=>U.create({resource:x.name,variables:b,meta:f,metaData:f})))},onSuccess:(v,{resource:g,successNotification:R,dataProviderName:M,invalidates:I=["list","many"],values:x,meta:P,metaData:f})=>{let{resource:U,identifier:b}=s(g),h=l.plural(b),E=_(b,M,n),C=p({resource:U,meta:S(P,f)}),D=typeof R=="function"?R(v,x,b):R;c(D,{key:`createMany-${b}-notification`,message:a("notifications.createSuccess",{resource:a(`${b}.${b}`,b)},`Successfully created ${h}`),description:a("notifications.success","Success"),type:"success"}),d({resource:b,dataProviderName:E,invalidates:I});let k=v==null?void 0:v.data.filter($=>($==null?void 0:$.id)!==void 0).map($=>$.id);i==null||i({channel:`resources/${U.name}`,type:"created",payload:{ids:k},date:new Date,meta:{...C,dataProviderName:E}});let{fields:w,operation:Q,variables:F,...H}=C||{};u==null||u.mutate({action:"createMany",resource:U.name,data:x,meta:{dataProviderName:E,ids:k,...H}})},onError:(v,{resource:g,errorNotification:R,values:M})=>{let{identifier:I}=s(g),x=typeof R=="function"?R(v,M,I):R;c(x,{key:`createMany-${I}-notification`,description:v.message,message:a("notifications.createError",{resource:a(`${I}.${I}`,I),statusCode:v.statusCode},`There was an error creating ${I} (status code: ${v.statusCode}`),type:"error"})},mutationKey:y().data().mutation("createMany").get(m),...e,meta:{...e==null?void 0:e.meta,...ka("useCreateMany",m)}}),{elapsedTime:L}=ee({isLoading:T.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...T,overtime:{elapsedTime:L}}},"useCreateMany");import{getXRay as Va}from"@refinedev/devtools-internal";import{useMutation as Ba,useQueryClient as Na}from"@tanstack/react-query";var Ka=o(({mutationOptions:e,overtimeOptions:t}={})=>{let{resources:r,select:n}=z(),s=Na(),a=ne(),i=G(),{mutationMode:c,undoableTimeout:d}=Ae(),u=J(),{mutate:p}=de({v3LegacyAuthProviderCompatible:!!(u!=null&&u.isLegacy)}),{notificationDispatch:l}=je(),y=Be(),m=pe(),T=Ce(),{log:L}=Ne(),v=q(),{options:{textTransformers:g}}=se(),{keys:R,preferLegacyKeys:M}=O(),I=Ba({mutationFn:({ids:P,values:f,resource:U,onCancel:b,mutationMode:h,undoableTimeout:E,meta:C,metaData:D,dataProviderName:k})=>{let{resource:w,identifier:Q}=n(U),F=v({resource:w,meta:S(C,D)}),H=h??c,$=E??d,K=a(_(Q,k,r)),j=o(()=>K.updateMany?K.updateMany({resource:w.name,ids:P,variables:f,meta:F,metaData:F}):qe(P.map(W=>K.update({resource:w.name,id:W,variables:f,meta:F,metaData:F}))),"mutationFn");return H!=="undoable"?j():new Promise((W,V)=>{let N=o(()=>{j().then(oe=>W(oe)).catch(oe=>V(oe))},"doMutation"),X=o(()=>{V({message:"mutationCancelled"})},"cancelMutation");b&&b(X),l({type:"ADD",payload:{id:P,resource:Q,cancelMutation:X,doMutation:N,seconds:$,isSilent:!!b}})})},onMutate:async({resource:P,ids:f,values:U,mutationMode:b,dataProviderName:h,meta:E,metaData:C,optimisticUpdateMap:D={list:!0,many:!0,detail:!0}})=>{let{identifier:k}=n(P),{gqlMutation:w,gqlQuery:Q,...F}=S(E,C)??{},H=Je(M)(k,_(k,h,r),F),$=R().data(_(k,h,r)).resource(k),K=b??c;await s.cancelQueries($.get(M),void 0,{silent:!0});let j=s.getQueriesData($.get(M));if(K!=="pessimistic"&&(D.list&&s.setQueriesData($.action("list").params(F??{}).get(M),B=>{if(typeof D.list=="function")return D.list(B,U,f);if(!B)return null;let W=B.data.map(V=>V.id!==void 0&&f.filter(N=>N!==void 0).map(String).includes(V.id.toString())?{...V,...U}:V);return{...B,data:W}}),D.many&&s.setQueriesData($.action("many").get(M),B=>{if(typeof D.many=="function")return D.many(B,U,f);if(!B)return null;let W=B.data.map(V=>V.id!==void 0&&f.filter(N=>N!==void 0).map(String).includes(V.id.toString())?{...V,...U}:V);return{...B,data:W}}),D.detail))for(let B of f)s.setQueriesData($.action("one").id(B).params(F??{}).get(M),W=>{if(typeof D.detail=="function")return D.detail(W,U,B);if(!W)return null;let V={...W.data,...U};return{...W,data:V}});return{previousQueries:j,queryKey:H}},onSettled:(P,f,{ids:U,resource:b,dataProviderName:h})=>{let{identifier:E}=n(b);T({resource:E,invalidates:["list","many"],dataProviderName:_(E,h,r)}),U.forEach(C=>T({resource:E,invalidates:["detail"],dataProviderName:_(E,h,r),id:C})),l({type:"REMOVE",payload:{id:U,resource:E}})},onSuccess:(P,{ids:f,resource:U,meta:b,metaData:h,dataProviderName:E,successNotification:C,values:D},k)=>{let{resource:w,identifier:Q}=n(U),F=g.singular(Q),H=_(Q,E,r),$=v({resource:w,meta:S(b,h)}),K=typeof C=="function"?C(P,{ids:f,values:D},Q):C;m(K,{key:`${f}-${Q}-notification`,description:i("notifications.success","Successful"),message:i("notifications.editSuccess",{resource:i(`${Q}.${Q}`,Q)},`Successfully updated ${F}`),type:"success"}),y==null||y({channel:`resources/${w.name}`,type:"updated",payload:{ids:f.map(String)},date:new Date,meta:{...$,dataProviderName:H}});let j=[];k&&f.forEach(X=>{let oe=s.getQueryData(k.queryKey.detail(X));j.push(Object.keys(D||{}).reduce((ie,De)=>{var Y;return ie[De]=(Y=oe==null?void 0:oe.data)==null?void 0:Y[De],ie},{}))});let{fields:B,operation:W,variables:V,...N}=$||{};L==null||L.mutate({action:"updateMany",resource:w.name,data:D,previousData:j,meta:{ids:f,dataProviderName:H,...N}})},onError:(P,{ids:f,resource:U,errorNotification:b,values:h},E)=>{let{identifier:C}=n(U);if(E)for(let D of E.previousQueries)s.setQueryData(D[0],D[1]);if(P.message!=="mutationCancelled"){p==null||p(P);let D=g.singular(C),k=typeof b=="function"?b(P,{ids:f,values:h},C):b;m(k,{key:`${f}-${C}-updateMany-error-notification`,message:i("notifications.editError",{resource:D,statusCode:P.statusCode},`Error when updating ${D} (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:R().data().mutation("updateMany").get(M),...e,meta:{...e==null?void 0:e.meta,...Va("useUpdateMany",M)}}),{elapsedTime:x}=ee({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:x}}},"useUpdateMany");import{getXRay as Ga}from"@refinedev/devtools-internal";import{useMutation as Ha,useQueryClient as $a}from"@tanstack/react-query";var Wa=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:n}=de({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),{mutationMode:s,undoableTimeout:a}=Ae(),i=ne(),{notificationDispatch:c}=je(),d=G(),u=Be(),p=pe(),l=Ce(),{log:y}=Ne(),{resources:m,select:T}=z(),L=$a(),v=q(),{options:{textTransformers:g}}=se(),{keys:R,preferLegacyKeys:M}=O(),I=Ha({mutationFn:({resource:P,ids:f,mutationMode:U,undoableTimeout:b,onCancel:h,meta:E,metaData:C,dataProviderName:D,values:k})=>{let{resource:w,identifier:Q}=T(P),F=v({resource:w,meta:S(E,C)}),H=U??s,$=b??a,K=i(_(Q,D,m)),j=o(()=>K.deleteMany?K.deleteMany({resource:w.name,ids:f,meta:F,metaData:F,variables:k}):qe(f.map(W=>K.deleteOne({resource:w.name,id:W,meta:F,metaData:F,variables:k}))),"mutationFn");return H!=="undoable"?j():new Promise((W,V)=>{let N=o(()=>{j().then(oe=>W(oe)).catch(oe=>V(oe))},"doMutation"),X=o(()=>{V({message:"mutationCancelled"})},"cancelMutation");h&&h(X),c({type:"ADD",payload:{id:f,resource:Q,cancelMutation:X,doMutation:N,seconds:$,isSilent:!!h}})})},onMutate:async({ids:P,resource:f,mutationMode:U,dataProviderName:b,meta:h,metaData:E})=>{let{identifier:C}=T(f),{gqlMutation:D,gqlQuery:k,...w}=S(h,E)??{},Q=Je(M)(C,_(C,b,m),w),F=R().data(_(C,b,m)).resource(C),H=U??s;await L.cancelQueries(F.get(M),void 0,{silent:!0});let $=L.getQueriesData(F.get(M));if(H!=="pessimistic"){L.setQueriesData(F.action("list").params(w??{}).get(M),K=>K?{data:K.data.filter(B=>B.id&&!P.map(String).includes(B.id.toString())),total:K.total-1}:null),L.setQueriesData(F.action("many").get(M),K=>{if(!K)return null;let j=K.data.filter(B=>B.id?!P.map(String).includes(B.id.toString()):!1);return{...K,data:j}});for(let K of P)L.setQueriesData(F.action("one").id(K).params(w).get(M),j=>!j||j.data.id===K?null:{...j})}return{previousQueries:$,queryKey:Q}},onSettled:(P,f,{resource:U,ids:b,dataProviderName:h,invalidates:E=["list","many"]})=>{let{identifier:C}=T(U);l({resource:C,dataProviderName:_(C,h,m),invalidates:E}),c({type:"REMOVE",payload:{id:b,resource:C}})},onSuccess:(P,{ids:f,resource:U,meta:b,metaData:h,dataProviderName:E,successNotification:C},D)=>{let{resource:k,identifier:w}=T(U),Q=_(w,E,m),F=v({resource:k,meta:S(b,h)});f.forEach(W=>L.removeQueries(D==null?void 0:D.queryKey.detail(W)));let H=typeof C=="function"?C(P,f,w):C;p(H,{key:`${f}-${w}-notification`,description:d("notifications.success","Success"),message:d("notifications.deleteSuccess",{resource:d(`${w}.${w}`,w)},`Successfully deleted ${w}`),type:"success"}),u==null||u({channel:`resources/${k.name}`,type:"deleted",payload:{ids:f},date:new Date,meta:{...F,dataProviderName:Q}});let{fields:$,operation:K,variables:j,...B}=F||{};y==null||y.mutate({action:"deleteMany",resource:k.name,meta:{ids:f,dataProviderName:Q,...B}}),f.forEach(W=>L.removeQueries(D==null?void 0:D.queryKey.detail(W)))},onError:(P,{ids:f,resource:U,errorNotification:b},h)=>{let{identifier:E}=T(U);if(h)for(let C of h.previousQueries)L.setQueryData(C[0],C[1]);if(P.message!=="mutationCancelled"){n(P);let C=g.singular(E),D=typeof b=="function"?b(P,f,E):b;p(D,{key:`${f}-${E}-notification`,message:d("notifications.deleteError",{resource:C,statusCode:P.statusCode},`Error (status code: ${P.statusCode})`),description:P.message,type:"error"})}},mutationKey:R().data().mutation("deleteMany").get(M),...e,meta:{...e==null?void 0:e.meta,...Ga("useDeleteMany",M)}}),{elapsedTime:x}=ee({isLoading:I.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...I,overtime:{elapsedTime:x}}},"useDeleteMany");var Oa=o(e=>{var s;let t=ne(),{resource:r}=z(),{getApiUrl:n}=t(e??((s=S(r==null?void 0:r.meta,r==null?void 0:r.options))==null?void 0:s.dataProviderName));return n()},"useApiUrl");import{getXRay as za}from"@refinedev/devtools-internal";import{useQuery as _a}from"@tanstack/react-query";var ja=o(({url:e,method:t,config:r,queryOptions:n,successNotification:s,errorNotification:a,meta:i,metaData:c,dataProviderName:d,overtimeOptions:u})=>{let p=ne(),l=J(),{mutate:y}=de({v3LegacyAuthProviderCompatible:!!(l!=null&&l.isLegacy)}),m=G(),T=pe(),L=q(),{keys:v,preferLegacyKeys:g}=O(),R=S(i,c),{custom:M}=p(d),I=L({meta:R});if(M){let x=_a({queryKey:v().data(d).mutation("custom").params({method:t,url:e,...r,...R||{}}).get(g),queryFn:f=>M({url:e,method:t,...r,meta:{...I,queryContext:ke(f)},metaData:{...I,queryContext:ke(f)}}),...n,onSuccess:f=>{var b;(b=n==null?void 0:n.onSuccess)==null||b.call(n,f);let U=typeof s=="function"?s(f,{...r,...I}):s;T(U)},onError:f=>{var b;y(f),(b=n==null?void 0:n.onError)==null||b.call(n,f);let U=typeof a=="function"?a(f,{...r,...I}):a;T(U,{key:`${t}-notification`,message:m("notifications.error",{statusCode:f.statusCode},`Error (status code: ${f.statusCode})`),description:f.message,type:"error"})},meta:{...n==null?void 0:n.meta,...za("useCustom",g)}}),{elapsedTime:P}=ee({isLoading:x.isFetching,interval:u==null?void 0:u.interval,onInterval:u==null?void 0:u.onInterval});return{...x,overtime:{elapsedTime:P}}}throw Error("Not implemented custom on data provider.")},"useCustom");import{getXRay as Xa}from"@refinedev/devtools-internal";import{useMutation as Za}from"@tanstack/react-query";var Ya=o(({mutationOptions:e,overtimeOptions:t}={})=>{let r=J(),{mutate:n}=de({v3LegacyAuthProviderCompatible:!!(r!=null&&r.isLegacy)}),s=pe(),a=ne(),i=G(),c=q(),{keys:d,preferLegacyKeys:u}=O(),p=Za(({url:y,method:m,values:T,meta:L,metaData:v,dataProviderName:g,config:R})=>{let M=c({meta:S(L,v)}),{custom:I}=a(g);if(I)return I({url:y,method:m,payload:T,meta:M,metaData:M,headers:{...R==null?void 0:R.headers}});throw Error("Not implemented custom on data provider.")},{onSuccess:(y,{successNotification:m,config:T,meta:L,metaData:v})=>{let g=typeof m=="function"?m(y,{...T,...S(L,v)||{}}):m;s(g)},onError:(y,{errorNotification:m,method:T,config:L,meta:v,metaData:g})=>{n(y);let R=typeof m=="function"?m(y,{...L,...S(v,g)||{}}):m;s(R,{key:`${T}-notification`,message:i("notifications.error",{statusCode:y.statusCode},`Error (status code: ${y.statusCode})`),description:y.message,type:"error"})},mutationKey:d().data().mutation("customMutation").get(u),...e,meta:{...e==null?void 0:e.meta,...Xa("useCustomMutation",u)}}),{elapsedTime:l}=ee({isLoading:p.isLoading,interval:t==null?void 0:t.interval,onInterval:t==null?void 0:t.onInterval});return{...p,overtime:{elapsedTime:l}}},"useCustomMutation");import{useCallback as Ja,useContext as qa}from"react";import bn from"react";var vn={default:{}},Bt=bn.createContext(vn),Dn=o(({children:e,dataProvider:t})=>{let r=vn;return t&&(!("default"in t)&&("getList"in t||"getOne"in t)?r={default:t}:r=t),bn.createElement(Bt.Provider,{value:r},e)},"DataContextProvider");var ne=o(()=>{let e=qa(Bt);return Ja(r=>{if(r){let n=e==null?void 0:e[r];if(!n)throw new Error(`"${r}" Data provider not found`);if(n&&!(e!=null&&e.default))throw new Error("If you have multiple data providers, you must provide default data provider property");return e[r]}if(e.default)return e.default;throw new Error('There is no "default" data provider. Please pass dataProviderName.')},[e])},"useDataProvider");import{getXRay as ei}from"@refinedev/devtools-internal";import{useInfiniteQuery as ti}from"@tanstack/react-query";var ri=o(({resource:e,config:t,filters:r,hasPagination:n,pagination:s,sorters:a,queryOptions:i,successNotification:c,errorNotification:d,meta:u,metaData:p,liveMode:l,onLiveEvent:y,liveParams:m,dataProviderName:T,overtimeOptions:L})=>{let{resources:v,resource:g,identifier:R}=z(e),M=ne(),I=G(),x=J(),{mutate:P}=de({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),f=pe(),U=q(),{keys:b,preferLegacyKeys:h}=O(),E=_(R,T,v),C=S(u,p),D=S(r,t==null?void 0:t.filters),k=S(a,t==null?void 0:t.sort),w=S(n,t==null?void 0:t.hasPagination),Q=Ft({pagination:s,configPagination:t==null?void 0:t.pagination,hasPagination:w}),F=Q.mode==="server",H={meta:C,metaData:C,filters:D,hasPagination:F,pagination:Q,sorters:k,config:{...t,sort:k}},$=(i==null?void 0:i.enabled)===void 0||(i==null?void 0:i.enabled)===!0,K=U({resource:g,meta:C}),{getList:j}=M(E);at({resource:R,types:["*"],params:{meta:K,metaData:K,pagination:Q,hasPagination:F,sort:k,sorters:k,filters:D,subscriptionType:"useList",...m},channel:`resources/${g.name}`,enabled:$,liveMode:l,onLiveEvent:y,dataProviderName:E,meta:{...K,dataProviderName:T}});let B=ti({queryKey:b().data(E).resource(R).action("infinite").params({...C||{},filters:D,hasPagination:F,...F&&{pagination:Q},...a&&{sorters:a},...(t==null?void 0:t.sort)&&{sort:t==null?void 0:t.sort}}).get(h),queryFn:V=>{let N={...Q,current:V.pageParam},X={...K,queryContext:ke(V)};return j({resource:g.name,pagination:N,hasPagination:F,filters:D,sort:k,sorters:k,meta:X,metaData:X}).then(({data:oe,total:ie,...De})=>({data:oe,total:ie,pagination:N,...De}))},getNextPageParam:V=>rr(V),getPreviousPageParam:V=>or(V),...i,onSuccess:V=>{var X;(X=i==null?void 0:i.onSuccess)==null||X.call(i,V);let N=typeof c=="function"?c(V,H,R):c;f(N)},onError:V=>{var X;P(V),(X=i==null?void 0:i.onError)==null||X.call(i,V);let N=typeof d=="function"?d(V,H,R):d;f(N,{key:`${R}-useInfiniteList-notification`,message:I("notifications.error",{statusCode:V.statusCode},`Error (status code: ${V.statusCode})`),description:V.message,type:"error"})},meta:{...i==null?void 0:i.meta,...ei("useInfiniteList",h,g==null?void 0:g.name)}}),{elapsedTime:W}=ee({isLoading:B.isFetching,interval:L==null?void 0:L.interval,onInterval:L==null?void 0:L.onInterval});return{...B,overtime:{elapsedTime:W}}},"useInfiniteList");import{useContext as Vn,useEffect as gi}from"react";import Ln from"react";var et=Ln.createContext({}),Un=o(({liveProvider:e,children:t})=>Ln.createElement(et.Provider,{value:{liveProvider:e}},t),"LiveContextProvider");import{useCallback as oi}from"react";import{useQueryClient as ni}from"@tanstack/react-query";var Ce=o(()=>{let{resources:e}=z(),t=ni(),{keys:r,preferLegacyKeys:n}=O();return oi(async({resource:a,dataProviderName:i,invalidates:c,id:d,invalidationFilters:u={type:"all",refetchType:"active"},invalidationOptions:p={cancelRefetch:!1}})=>{if(c===!1)return;let l=_(a,i,e),y=r().data(l).resource(a??"");await Promise.all(c.map(m=>{switch(m){case"all":return t.invalidateQueries(r().data(l).get(n),u,p);case"list":return t.invalidateQueries(y.action("list").get(n),u,p);case"many":return t.invalidateQueries(y.action("many").get(n),u,p);case"resourceAll":return t.invalidateQueries(y.get(n),u,p);case"detail":return t.invalidateQueries(y.action("one").id(d||"").get(n),u,p);default:return}}))},[])},"useInvalidate");import{useContext as mi}from"react";import Mn from"react";import{useMemo as ii}from"react";import{useRef as si}from"react";import ai from"lodash-es/isEqual.js";var En=o(e=>{let t=si(e);return ai(t.current,e)||(t.current=e),t.current},"useMemoized");var gr=o((e,t)=>{let r=En(t);return ii(e,r)},"useDeepMemo");var it=Mn.createContext({resources:[]}),wn=o(({resources:e,children:t})=>{let r=gr(()=>nr(e??[]),[e]);return Mn.createElement(it.Provider,{value:{resources:r}},t)},"ResourceContextProvider");import In from"react";var Sn=In.createContext("new"),Fn=Sn.Provider,Z=o(()=>In.useContext(Sn),"useRouterType");import li from"react";import ui,{createContext as ci}from"react";var An={},tt=ci(An),kn=o(({children:e,router:t})=>ui.createElement(tt.Provider,{value:t??An},e),"RouterContextProvider");import di,{useContext as pi}from"react";var oo=o(()=>{let e=pi(tt);return di.useMemo(()=>(e==null?void 0:e.parse)??(()=>()=>({})),[e==null?void 0:e.parse])()},"useParse");var ae=o(()=>{let e=oo();return li.useMemo(()=>e(),[e])},"useParsed");function z(e){let{resources:t}=mi(it),r=Z(),n=ae(),s={resourceName:e&&typeof e!="string"?e.resourceName:e,resourceNameOrRouteName:e&&typeof e!="string"?e.resourceNameOrRouteName:e,recordItemId:e&&typeof e!="string"?e.recordItemId:void 0},a=o((l,y=!0)=>{let T=ye(l,t,r==="legacy");if(T)return{resource:T,identifier:T.identifier??T.name};if(y){let L={name:l,identifier:l},v=L.identifier??L.name;return{resource:L,identifier:v}}},"select"),i=Qn(),{useParams:c}=te(),d=c();if(r==="legacy"){let l=s.resourceNameOrRouteName?s.resourceNameOrRouteName:d.resource,y=l?i(l):void 0,m=(s==null?void 0:s.recordItemId)??d.id,T=d.action,L=(s==null?void 0:s.resourceName)??(y==null?void 0:y.name),v=(y==null?void 0:y.identifier)??(y==null?void 0:y.name);return{resources:t,resource:y,resourceName:L,id:m,action:T,select:a,identifier:v}}let u,p=typeof e=="string"?e:s==null?void 0:s.resourceNameOrRouteName;if(p){let l=ye(p,t);l?u=l:u={name:p}}else n!=null&&n.resource&&(u=n.resource);return{resources:t,resource:u,resourceName:u==null?void 0:u.name,id:n.id,action:n.action,select:a,identifier:(u==null?void 0:u.identifier)??(u==null?void 0:u.name)}}o(z,"useResource");import{useCallback as fi,useContext as yi}from"react";var Qn=o(()=>{let{resources:e}=yi(it);return fi(r=>{let n=ye(r,e,!0);return n||{name:r,route:r}},[e])},"useResourceWithRoute");var at=o(({resource:e,params:t,channel:r,types:n,enabled:s=!0,liveMode:a,onLiveEvent:i,dataProviderName:c,meta:d})=>{var g;let{resource:u,identifier:p}=z(e),{liveProvider:l}=Vn(et),{liveMode:y,onLiveEvent:m}=Vn(ve),T=a??y,L=Ce(),v=c??(d==null?void 0:d.dataProviderName)??((g=u==null?void 0:u.meta)==null?void 0:g.dataProviderName);gi(()=>{let R,M=o(I=>{T==="auto"&&L({resource:p,dataProviderName:v,invalidates:["resourceAll"],invalidationFilters:{type:"active",refetchType:"active"},invalidationOptions:{cancelRefetch:!1}}),i==null||i(I),m==null||m(I)},"callback");return T&&T!=="off"&&s&&(R=l==null?void 0:l.subscribe({channel:r,params:{resource:u==null?void 0:u.name,...t},types:n,callback:M,dataProviderName:v,meta:{...d,dataProviderName:v}})),()=>{R&&(l==null||l.unsubscribe(R))}},[s])},"useResourceSubscription");import{useContext as Ti}from"react";var Bn=o(e=>{let{liveMode:t}=Ti(ve);return e??t},"useLiveMode");import{useContext as Pi,useEffect as xi}from"react";var kx=o(({params:e,channel:t,types:r=["*"],enabled:n=!0,onLiveEvent:s,dataProviderName:a="default",meta:i})=>{let{liveProvider:c}=Pi(et);xi(()=>{let d;return n&&(d=c==null?void 0:c.subscribe({channel:t,params:e,types:r,callback:s,dataProviderName:a,meta:{...i,dataProviderName:a}})),()=>{d&&(c==null||c.unsubscribe(d))}},[n])},"useSubscription");import{useContext as Ri}from"react";var Be=o(()=>{let{liveProvider:e}=Ri(et);return e==null?void 0:e.publish},"usePublish");import{useContext as Di}from"react";import Nn,{createContext as hi,useReducer as Ci}from"react";import no from"lodash-es/isEqual.js";var so=hi({notifications:[],notificationDispatch:()=>!1}),bi=[],vi=o((e,t)=>{switch(t.type){case"ADD":return[...e.filter(n=>!(no(n.id,t.payload.id)&&n.resource===t.payload.resource)),{...t.payload,isRunning:!0}];case"REMOVE":return e.filter(r=>!(no(r.id,t.payload.id)&&r.resource===t.payload.resource));case"DECREASE_NOTIFICATION_SECOND":return e.map(r=>no(r.id,t.payload.id)&&r.resource===t.payload.resource?{...r,seconds:t.payload.seconds-1e3}:r);default:return e}},"undoableQueueReducer"),Kn=o(({children:e})=>{let[t,r]=Ci(vi,bi),n={notifications:t,notificationDispatch:r};return Nn.createElement(so.Provider,{value:n},e,typeof window<"u"?t.map(s=>Nn.createElement(Gn,{key:`${s.id}-${s.resource}-queue`,notification:s})):null)},"UndoableQueueContextProvider");var je=o(()=>{let{notifications:e,notificationDispatch:t}=Di(so);return{notifications:e,notificationDispatch:t}},"useCancelNotification");import{useContext as Ei}from"react";import Li,{createContext as Ui}from"react";var Nt=Ui({}),Hn=o(({open:e,close:t,children:r})=>Li.createElement(Nt.Provider,{value:{open:e,close:t}},r),"NotificationContextProvider");var we=o(()=>{let{open:e,close:t}=Ei(Nt);return{open:e,close:t}},"useNotification");import{useCallback as Mi}from"react";var pe=o(()=>{let{open:e}=we();return Mi((r,n)=>{r!==!1&&(r?e==null||e(r):n&&(e==null||e(n)))},[])},"useHandleNotification");import{useCallback as wi,useContext as Ii}from"react";import $n from"react";var Qe=$n.createContext({}),Wn=o(({children:e,i18nProvider:t})=>$n.createElement(Qe.Provider,{value:{i18nProvider:t}},e),"I18nContextProvider");var ao=o(()=>{let{i18nProvider:e}=Ii(Qe);return wi(t=>e==null?void 0:e.changeLocale(t),[])},"useSetLocale");import{useContext as Si,useMemo as Fi}from"react";var G=o(()=>{let{i18nProvider:e}=Si(Qe);return Fi(()=>{function r(n,s,a){return(e==null?void 0:e.translate(n,s,a))??a??(typeof s=="string"&&typeof a>"u"?s:n)}return o(r,"translate"),r},[e])},"useTranslate");import{useCallback as Ai,useContext as ki}from"react";var io=o(()=>{let{i18nProvider:e}=ki(Qe);return Ai(()=>e==null?void 0:e.getLocale(),[])},"useGetLocale");var MR=o(()=>{let e=G(),t=ao(),r=io();return{translate:e,changeLocale:t,getLocale:r}},"useTranslation");import{useState as Qi}from"react";import Vi from"papaparse";import On from"warn-once";var HR=o(({resourceName:e,resource:t,sorter:r,sorters:n,filters:s,maxItemCount:a,pageSize:i=20,mapData:c=o(L=>L,"mapData"),exportOptions:d,unparseConfig:u,meta:p,metaData:l,dataProviderName:y,onError:m,download:T}={})=>{let[L,v]=Qi(!1),g=ne(),R=q(),{resource:M,resources:I,identifier:x}=z(S(t,e)),f=`${st()(x,"plural")}-${new Date().toLocaleString()}`,{getList:U}=g(_(x,y,I)),b=R({resource:M,meta:S(p,l)});return{isLoading:L,triggerExport:o(async()=>{v(!0);let E=[],C=1,D=!0;for(;D;)try{let{data:F,total:H}=await U({resource:(M==null?void 0:M.name)??"",filters:s,sort:S(n,r),sorters:S(n,r),pagination:{current:C,pageSize:i,mode:"server"},meta:b,metaData:b});C++,E.push(...F),a&&E.length>=a&&(E=E.slice(0,a),D=!1),H===E.length&&(D=!1)}catch(F){v(!1),D=!1,m==null||m(F);return}let k=typeof u<"u"&&u!==null;On(k&&typeof d<"u"&&d!==null,`[useExport]: resource: "${x}" 

Both \`unparseConfig\` and \`exportOptions\` are set, \`unparseConfig\` will take precedence`);let w={filename:f,useKeysAsHeaders:!0,useBom:!0,title:"My Generated Report",quoteStrings:'"',...d};On((d==null?void 0:d.decimalSeparator)!==void 0,`[useExport]: resource: "${x}" 

Use of \`decimalSeparator\` no longer supported, please use \`mapData\` instead.

See https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`),k?u={quotes:!0,...u}:u={columns:w.useKeysAsHeaders?void 0:w.headers,delimiter:w.fieldSeparator,header:w.showLabels||w.useKeysAsHeaders,quoteChar:w.quoteStrings,quotes:!0};let Q=Vi.unparse(E.map(c),u);if(w.showTitle&&(Q=`${w.title}\r

${Q}`),typeof window<"u"&&Q.length>0&&(T??!0)){let F=w.useTextFile?".txt":".csv",H=`text/${w.useTextFile?"plain":"csv"};charset=utf8;`,$=`${(w.filename??"download").replace(/ /g,"_")}${F}`;Kr($,`${w!=null&&w.useBom?"\uFEFF":""}${Q}`,H)}return v(!1),Q},"triggerExport")}},"useExport");import zn from"react";import Bi from"warn-once";var XR=o((e={})=>{var K,j,B,W,V;let t=q(),r=Ce(),{redirect:n}=Ct(),{mutationMode:s}=Ae(),{setWarnWhen:a}=pt(),i=_n(),c=S(e.meta,e.metaData),d=e.mutationMode??s,{id:u,setId:p,resource:l,identifier:y,formAction:m}=Ke({resource:e.resource,id:e.id,action:e.action}),[T,L]=zn.useState(!1),v=m==="edit",g=m==="clone",R=m==="create",M=t({resource:l,meta:c}),I=(v||g)&&!!e.resource,x=typeof e.id<"u",P=((K=e.queryOptions)==null?void 0:K.enabled)===!1;Bi(I&&!x&&!P,$i(m,y,u));let f=Vr({redirectFromProps:e.redirect,action:m,redirectOptions:n}),U=o((N=v?"list":"edit",X=u,oe={})=>{i({redirect:N,resource:l,id:X,meta:{...c,...oe}})},"redirect"),b=Qt({resource:y,id:u,queryOptions:{enabled:!R&&u!==void 0,...e.queryOptions},liveMode:e.liveMode,onLiveEvent:e.onLiveEvent,liveParams:e.liveParams,meta:{...M,...e.queryMeta},dataProviderName:e.dataProviderName}),h=Vt({mutationOptions:e.createMutationOptions}),E=eo({mutationOptions:e.updateMutationOptions}),C=v?E:h,k=C.isLoading||b.isFetching,{elapsedTime:w}=ee({isLoading:k,interval:(j=e.overtimeOptions)==null?void 0:j.interval,onInterval:(B=e.overtimeOptions)==null?void 0:B.onInterval});zn.useEffect(()=>()=>{var N;(N=e.autoSave)!=null&&N.invalidateOnUnmount&&T&&y&&typeof u<"u"&&r({id:u,invalidates:e.invalidates||["list","many","detail"],dataProviderName:e.dataProviderName,resource:y})},[(W=e.autoSave)==null?void 0:W.invalidateOnUnmount,T]);let Q=o(async(N,{isAutosave:X=!1}={})=>{let oe=d==="pessimistic";a(!1);let ie=o(Y=>U(f,Y),"onSuccessRedirect");return new Promise((Y,xe)=>{if(!l)return xe(Ni);if(g&&!u)return xe(Ki);if(!N)return xe(Gi);if(X&&!v)return xe(Hi);!oe&&!X&&(ur(()=>ie()),Y());let yt={values:N,resource:y??l.name,meta:{...M,...e.mutationMeta},metaData:{...M,...e.mutationMeta},dataProviderName:e.dataProviderName,invalidates:X?[]:e.invalidates,successNotification:X?!1:e.successNotification,errorNotification:X?!1:e.errorNotification,...v?{id:u??"",mutationMode:d,undoableTimeout:e.undoableTimeout,optimisticUpdateMap:e.optimisticUpdateMap}:{}},{mutateAsync:gt}=v?E:h;gt(yt,{onSuccess:e.onMutationSuccess?(Se,Ze,ut)=>{var nt;(nt=e.onMutationSuccess)==null||nt.call(e,Se,N,ut,X)}:void 0,onError:e.onMutationError?(Se,Ze,ut)=>{var nt;(nt=e.onMutationError)==null||nt.call(e,Se,N,ut,X)}:void 0}).then(Se=>{oe&&!X&&ur(()=>{var Ze;return ie((Ze=Se==null?void 0:Se.data)==null?void 0:Ze.id)}),X&&L(!0),Y(Se)}).catch(xe)})},"onFinish"),F=Gr(N=>Q(N,{isAutosave:!0}),((V=e.autoSave)==null?void 0:V.debounce)||1e3,"Cancelled by debounce"),H={elapsedTime:w},$={status:E.status,data:E.data,error:E.error};return{onFinish:Q,onFinishAutoSave:F,formLoading:k,mutationResult:C,queryResult:b,autoSaveProps:$,id:u,setId:p,redirect:U,overtime:H}},"useForm"),Ni=new Error("[useForm]: `resource` is not defined or not matched but is required"),Ki=new Error("[useForm]: `id` is not defined but is required in edit and clone actions"),Gi=new Error("[useForm]: `values` is not provided but is required"),Hi=new Error("[useForm]: `autoSave` is only allowed in edit action"),$i=o((e,t,r)=>`[useForm]: action: "${e}", resource: "${t}", id: ${r}

If you don't use the \`setId\` method to set the \`id\`, you should pass the \`id\` prop to \`useForm\`. Otherwise, \`useForm\` will not be able to infer the \`id\` from the current URL with custom resource provided.

See https://refine.dev/docs/data/hooks/use-form/#id-`,"idWarningMessage");import{useCallback as Wi}from"react";var _n=o(()=>{let{show:e,edit:t,list:r,create:n}=ce();return Wi(({redirect:a,resource:i,id:c,meta:d={}})=>{if(a&&i)return i.show&&a==="show"&&c?e(i,c,void 0,d):i.edit&&a==="edit"&&c?t(i,c,void 0,d):i.create&&a==="create"?n(i,void 0,d):r(i,"push",d)},[])},"useRedirectionAfterSubmission");import Oi,{useContext as zi}from"react";var uo=o(()=>{let e=zi(tt);return Oi.useMemo(()=>(e==null?void 0:e.back)??(()=>()=>{}),[e==null?void 0:e.back])()},"useBack");import ji,{useCallback as Xi,useContext as Zi}from"react";import _i from"react";var lt=o(()=>{let e=Z(),{resource:t,resources:r}=z(),n=ae();return _i.useCallback(({resource:a,action:i,meta:c})=>{var y;let d=a||t;if(!d)return;let p=(y=he(d,r,e==="legacy").find(m=>m.action===i))==null?void 0:y.route;return p?Me(p,d==null?void 0:d.meta,n,c):void 0},[r,t,n])},"useGetToPath");var ge=o(()=>{let e=Zi(tt),{select:t}=z(),r=lt(),s=ji.useMemo(()=>(e==null?void 0:e.go)??(()=>()=>{}),[e==null?void 0:e.go])();return Xi(i=>{if(typeof i.to!="object")return s({...i,to:i.to});let{resource:c}=t(i.to.resource);Yi(i.to,c);let d=r({resource:c,action:i.to.action,meta:{id:i.to.id,...i.to.meta}});return s({...i,to:d})},[t,s])},"useGo"),Yi=o((e,t)=>{if(!(e!=null&&e.action)||!(e!=null&&e.resource))throw new Error('[useGo]: "action" or "resource" is required.');if(["edit","show","clone"].includes(e==null?void 0:e.action)&&!e.id)throw new Error(`[useGo]: [action: ${e.action}] requires an "id" for resource [resource: ${e.resource}]`);if(!t[e.action])throw new Error(`[useGo]: [action: ${e.action}] is not defined for [resource: ${e.resource}]`)},"handleResourceErrors");var ce=o(()=>{let{resources:e}=z(),t=Z(),{useHistory:r}=te(),n=r(),s=ae(),a=ge(),i=uo(),c=o((x,P="push")=>{t==="legacy"?n[P](x):a({to:x,type:P})},"handleUrl"),d=o((x,P={})=>{var b;if(t==="legacy"){let h=typeof x=="string"?ye(x,e,!0)??{name:x,route:x}:x,E=he(h,e,!0).find(C=>C.action==="create");return E?Me(E.route,h==null?void 0:h.meta,s,P):""}let f=typeof x=="string"?ye(x,e)??{name:x}:x,U=(b=he(f,e).find(h=>h.action==="create"))==null?void 0:b.route;return U?a({to:Me(U,f==null?void 0:f.meta,s,P),type:"path"}):""},"createUrl"),u=o((x,P,f={})=>{var E;let U=encodeURIComponent(P);if(t==="legacy"){let C=typeof x=="string"?ye(x,e,!0)??{name:x,route:x}:x,D=he(C,e,!0).find(k=>k.action==="edit");return D?Me(D.route,C==null?void 0:C.meta,s,{...f,id:U}):""}let b=typeof x=="string"?ye(x,e)??{name:x}:x,h=(E=he(b,e).find(C=>C.action==="edit"))==null?void 0:E.route;return h?a({to:Me(h,b==null?void 0:b.meta,s,{...f,id:U}),type:"path"}):""},"editUrl"),p=o((x,P,f={})=>{var E;let U=encodeURIComponent(P);if(t==="legacy"){let C=typeof x=="string"?ye(x,e,!0)??{name:x,route:x}:x,D=he(C,e,!0).find(k=>k.action==="clone");return D?Me(D.route,C==null?void 0:C.meta,s,{...f,id:U}):""}let b=typeof x=="string"?ye(x,e)??{name:x}:x,h=(E=he(b,e).find(C=>C.action==="clone"))==null?void 0:E.route;return h?a({to:Me(h,b==null?void 0:b.meta,s,{...f,id:U}),type:"path"}):""},"cloneUrl"),l=o((x,P,f={})=>{var E;let U=encodeURIComponent(P);if(t==="legacy"){let C=typeof x=="string"?ye(x,e,!0)??{name:x,route:x}:x,D=he(C,e,!0).find(k=>k.action==="show");return D?Me(D.route,C==null?void 0:C.meta,s,{...f,id:U}):""}let b=typeof x=="string"?ye(x,e)??{name:x}:x,h=(E=he(b,e).find(C=>C.action==="show"))==null?void 0:E.route;return h?a({to:Me(h,b==null?void 0:b.meta,s,{...f,id:U}),type:"path"}):""},"showUrl"),y=o((x,P={})=>{var b;if(t==="legacy"){let h=typeof x=="string"?ye(x,e,!0)??{name:x,route:x}:x,E=he(h,e,!0).find(C=>C.action==="list");return E?Me(E.route,h==null?void 0:h.meta,s,P):""}let f=typeof x=="string"?ye(x,e)??{name:x}:x,U=(b=he(f,e).find(h=>h.action==="list"))==null?void 0:b.route;return U?a({to:Me(U,f==null?void 0:f.meta,s,P),type:"path"}):""},"listUrl");return{create:o((x,P="push",f={})=>{c(d(x,f),P)},"create"),createUrl:d,edit:o((x,P,f="push",U={})=>{c(u(x,P,U),f)},"edit"),editUrl:u,clone:o((x,P,f="push",U={})=>{c(p(x,P,U),f)},"clone"),cloneUrl:p,show:o((x,P,f="push",U={})=>{c(l(x,P,U),f)},"show"),showUrl:l,list:o((x,P="push",f={})=>{c(y(x,f),P)},"list"),listUrl:y,push:o((x,...P)=>{t==="legacy"?n.push(x,...P):a({to:x,type:"push"})},"push"),replace:o((x,...P)=>{t==="legacy"?n.replace(x,...P):a({to:x,type:"replace"})},"replace"),goBack:o(()=>{t==="legacy"?n.goBack():i()},"goBack")}},"useNavigation");import Ji from"warn-once";var Fh=o(({resource:e,id:t,meta:r,metaData:n,queryOptions:s,overtimeOptions:a,...i}={})=>{let{resource:c,identifier:d,id:u,setId:p}=Ke({id:t,resource:e}),y=q()({resource:c,meta:S(r,n)});Ji(!!e&&!u,qi(d,u));let m=Qt({resource:d,id:u??"",queryOptions:{enabled:u!==void 0,...s},meta:y,metaData:y,...i}),{elapsedTime:T}=ee({isLoading:m.isFetching,interval:a==null?void 0:a.interval,onInterval:a==null?void 0:a.onInterval});return{queryResult:m,showId:u,setShowId:p,overtime:{elapsedTime:T}}},"useShow"),qi=o((e,t)=>`[useShow]: resource: "${e}", id: ${t} 

If you don't use the \`setShowId\` method to set the \`showId\`, you should pass the \`id\` prop to \`useShow\`. Otherwise, \`useShow\` will not be able to infer the \`id\` from the current URL. 

See https://refine.dev/docs/data/hooks/use-show/#resource`,"idWarningMessage");import{useEffect as eu,useState as co}from"react";import tu from"lodash-es/chunk.js";import ru from"papaparse";var Gh=o(({resourceName:e,resource:t,mapData:r=o(p=>p,"mapData"),paparseOptions:n,batchSize:s=Number.MAX_SAFE_INTEGER,onFinish:a,meta:i,metaData:c,onProgress:d,dataProviderName:u}={})=>{let[p,l]=co(0),[y,m]=co(0),[T,L]=co(!1),{resource:v,identifier:g}=z(t??e),R=q(),M=ro(),I=Vt(),x=R({resource:v,meta:S(i,c)}),P;s===1?P=I:P=M;let f=o(()=>{m(0),l(0),L(!1)},"handleCleanup"),U=o(h=>{let E={succeeded:h.filter(C=>C.type==="success"),errored:h.filter(C=>C.type==="error")};a==null||a(E),L(!1)},"handleFinish");eu(()=>{d==null||d({totalAmount:y,processedAmount:p})},[y,p]);let b=o(({file:h})=>(f(),new Promise(E=>{L(!0),ru.parse(h,{complete:async({data:C})=>{let D=$t(C,r);if(m(D.length),s===1){let k=D.map(Q=>o(async()=>({response:await I.mutateAsync({resource:g??"",values:Q,successNotification:!1,errorNotification:!1,dataProviderName:u,meta:x,metaData:x}),value:Q}),"fn")),w=await tr(k,({response:Q,value:F})=>(l(H=>H+1),{response:[Q.data],type:"success",request:[F]}),(Q,F)=>({response:[Q],type:"error",request:[D[F]]}));E(w)}else{let k=tu(D,s),w=k.map(F=>o(async()=>({response:await M.mutateAsync({resource:g??"",values:F,successNotification:!1,errorNotification:!1,dataProviderName:u,meta:x,metaData:x}),value:F,currentBatchLength:F.length}),"fn")),Q=await tr(w,({response:F,currentBatchLength:H,value:$})=>(l(K=>K+H),{response:F.data,type:"success",request:$}),(F,H)=>({response:[F],type:"error",request:k[H]}));E(Q)}},...n})}).then(E=>(U(E),E))),"handleChange");return{inputProps:{type:"file",accept:".csv",onChange:h=>{h.target.files&&h.target.files.length>0&&b({file:h.target.files[0]})}},mutationResult:P,isLoading:T,handleChange:b}},"useImport");import{useCallback as jn,useState as ou}from"react";var Oh=o(({defaultVisible:e=!1}={})=>{let[t,r]=ou(e),n=jn(()=>r(!0),[t]),s=jn(()=>r(!1),[t]);return{visible:t,show:n,close:s}},"useModal");var nu=o(({resource:e,action:t,meta:r,legacy:n})=>lt()({resource:e,action:t,meta:r,legacy:n}),"useToPath");import su,{useContext as au}from"react";var rt=o(()=>{let e=au(tt);return e!=null&&e.Link?e.Link:o(({to:r,...n})=>su.createElement("a",{href:r,...n}),"FallbackLink")},"useLink");import{useContext as iu}from"react";import Xn from"react";var ot={useHistory:()=>!1,useLocation:()=>!1,useParams:()=>({}),Prompt:()=>null,Link:()=>null},Kt=Xn.createContext(ot),Zn=o(({children:e,useHistory:t,useLocation:r,useParams:n,Prompt:s,Link:a,routes:i})=>Xn.createElement(Kt.Provider,{value:{useHistory:t??ot.useHistory,useLocation:r??ot.useLocation,useParams:n??ot.useParams,Prompt:s??ot.Prompt,Link:a??ot.Link,routes:i??ot.routes}},e),"LegacyRouterContextProvider");var te=o(()=>{let e=iu(Kt),{useHistory:t,useLocation:r,useParams:n,Prompt:s,Link:a,routes:i}=e??ot;return{useHistory:t,useLocation:r,useParams:n,Prompt:s,Link:a,routes:i}},"useRouterContext");import{useContext as uu}from"react";import{getXRay as cu}from"@refinedev/devtools-internal";import{useQuery as du}from"@tanstack/react-query";import Yn from"react";var Xe=Yn.createContext({options:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1}}}),Jn=o(({can:e,children:t,options:r})=>Yn.createElement(Xe.Provider,{value:{can:e,options:r?{...r,buttons:{enableAccessControl:!0,hideIfUnauthorized:!1,...r.buttons}}:{buttons:{enableAccessControl:!0,hideIfUnauthorized:!1},queryOptions:void 0}}},t),"AccessControlContextProvider");var bt=o(e=>{if(!e)return;let{icon:t,list:r,edit:n,create:s,show:a,clone:i,children:c,meta:d,options:u,...p}=e,{icon:l,...y}=d??{},{icon:m,...T}=u??{};return{...p,...d?{meta:y}:{},...u?{options:T}:{}}},"sanitizeResource");var Tr=o(({action:e,resource:t,params:r,queryOptions:n})=>{let{can:s,options:a}=uu(Xe),{keys:i,preferLegacyKeys:c}=O(),{queryOptions:d}=a||{},u={...d,...n},{resource:p,...l}=r??{},y=bt(p),m=du({queryKey:i().access().resource(t).action(e).params({params:{...l,resource:y},enabled:u==null?void 0:u.enabled}).get(c),queryFn:()=>(s==null?void 0:s({action:e,resource:t,params:{...l,resource:y}}))??Promise.resolve({can:!0}),enabled:typeof s<"u",...u,meta:{...u==null?void 0:u.meta,...cu("useCan",c,t,["useButtonCanAccess","useNavigationButton"])},retry:!1});return typeof s>"u"?{data:{can:!0}}:m},"useCan");import qn from"react";var QC=o(()=>{let{can:e}=qn.useContext(Xe);return{can:qn.useMemo(()=>e?o(async({params:n,...s})=>{let a=n!=null&&n.resource?bt(n.resource):void 0;return e({...s,...n?{params:{...n,resource:a}}:{}})},"canWithSanitizedResource"):void 0,[e])}},"useCanWithoutCache");import{useCallback as Pr,useMemo as pu,useState as po}from"react";import lu from"lodash-es/debounce.js";import es from"lodash-es/get.js";import mu from"lodash-es/uniqBy.js";var XC=o(e=>{let[t,r]=po([]),[n,s]=po([]),[a,i]=po([]),{resource:c,sort:d,sorters:u,filters:p=[],optionLabel:l="title",optionValue:y="id",searchField:m=typeof l=="string"?l:"title",debounce:T=300,successNotification:L,errorNotification:v,defaultValueQueryOptions:g,queryOptions:R,fetchSize:M,pagination:I,hasPagination:x=!1,liveMode:P,defaultValue:f=[],onLiveEvent:U,onSearch:b,liveParams:h,meta:E,metaData:C,dataProviderName:D,overtimeOptions:k}=e,w=Pr(Y=>typeof l=="string"?es(Y,l):l(Y),[l]),Q=Pr(Y=>typeof y=="string"?es(Y,y):y(Y),[y]),{resource:F,identifier:H}=z(c),K=q()({resource:F,meta:S(E,C)}),j=Array.isArray(f)?f:[f],B=Pr(Y=>{i(Y.data.map(xe=>({label:w(xe),value:Q(xe)})))},[l,y]),W=g??R,V=qr({resource:H,ids:j,queryOptions:{...W,enabled:j.length>0&&((W==null?void 0:W.enabled)??!0),onSuccess:Y=>{var xe;B(Y),(xe=W==null?void 0:W.onSuccess)==null||xe.call(W,Y)}},meta:K,metaData:K,liveMode:"off",dataProviderName:D}),N=Pr(Y=>{s(Y.data.map(xe=>({label:w(xe),value:Q(xe)})))},[l,y]),X=kt({resource:H,sorters:S(u,d),filters:p.concat(t),pagination:{current:I==null?void 0:I.current,pageSize:(I==null?void 0:I.pageSize)??M,mode:I==null?void 0:I.mode},hasPagination:x,queryOptions:{...R,onSuccess:Y=>{var xe;N(Y),(xe=R==null?void 0:R.onSuccess)==null||xe.call(R,Y)}},successNotification:L,errorNotification:v,meta:K,metaData:K,liveMode:P,liveParams:h,onLiveEvent:U,dataProviderName:D}),oe=o(Y=>{if(b){r(b(Y));return}if(!Y){r([]);return}r([{field:m,operator:"contains",value:Y}])},"onSearch"),{elapsedTime:ie}=ee({isLoading:X.isFetching||V.isFetching,interval:k==null?void 0:k.interval,onInterval:k==null?void 0:k.onInterval}),De=pu(()=>mu([...n,...a],"value"),[n,a]);return{queryResult:X,defaultValueQueryResult:V,options:De,onSearch:lu(oe,T),overtime:{elapsedTime:ie}}},"useSelect");import fu,{useState as xr,useEffect as ts}from"react";import Rr from"lodash-es/differenceWith.js";import hr from"lodash-es/isEqual.js";import rs from"qs";import yu from"warn-once";var os=[],ns=[];function cb({initialCurrent:e,initialPageSize:t,hasPagination:r=!0,pagination:n,initialSorter:s,permanentSorter:a=ns,defaultSetFilterBehavior:i,initialFilter:c,permanentFilter:d=os,filters:u,sorters:p,syncWithLocation:l,resource:y,successNotification:m,errorNotification:T,queryOptions:L,liveMode:v,onLiveEvent:g,liveParams:R,meta:M,metaData:I,dataProviderName:x,overtimeOptions:P}={}){var bo,vo,Do,Lo,Uo;let{syncWithLocation:f}=Nr(),U=l??f,b=Bn(v),h=Z(),{useLocation:E}=te(),{search:C,pathname:D}=E(),k=q(),w=ae(),Q=((u==null?void 0:u.mode)||"server")==="server",F=((p==null?void 0:p.mode)||"server")==="server",H=r===!1?"off":"server",$=((n==null?void 0:n.mode)??H)!=="off",K=S(n==null?void 0:n.current,e),j=S(n==null?void 0:n.pageSize,t),B=S(M,I),{parsedCurrent:W,parsedPageSize:V,parsedSorter:N,parsedFilters:X}=cr(C??"?"),oe=S(u==null?void 0:u.initial,c),ie=S(u==null?void 0:u.permanent,d)??os,De=S(p==null?void 0:p.initial,s),Y=S(p==null?void 0:p.permanent,a)??ns,xe=S(u==null?void 0:u.defaultBehavior,i)??"merge",yt,gt,Se,Ze;U?(yt=((bo=w==null?void 0:w.params)==null?void 0:bo.current)||W||K||1,gt=((vo=w==null?void 0:w.params)==null?void 0:vo.pageSize)||V||j||10,Se=((Do=w==null?void 0:w.params)==null?void 0:Do.sorters)||(N.length?N:De),Ze=((Lo=w==null?void 0:w.params)==null?void 0:Lo.filters)||(X.length?X:oe)):(yt=K||1,gt=j||10,Se=De,Ze=oe);let{replace:ut}=ce(),nt=ge(),{resource:Fs,identifier:Er}=z(y),To=k({resource:Fs,meta:B});fu.useEffect(()=>{yu(typeof Er>"u","useTable: `resource` is not defined.")},[Er]);let[ct,Po]=xr(mr(Y,Se??[])),[Et,Ht]=xr(lr(ie,Ze??[])),[Mt,xo]=xr(yt),[dt,Ro]=xr(gt),ho=o(()=>{if(h==="new"){let{sorters:Eo,filters:dc,pageSize:pc,current:lc,...Ks}=(w==null?void 0:w.params)??{};return Ks}let{sorter:Re,filters:$e,pageSize:wr,current:Ir,...Sr}=rs.parse(C,{ignoreQueryPrefix:!0});return Sr},"getCurrentQueryParams"),As=o(({pagination:{current:Re,pageSize:$e},sorter:wr,filters:Ir})=>{if(h==="new")return nt({type:"path",options:{keepHash:!0,keepQuery:!0},query:{...$?{current:Re,pageSize:$e}:{},sorters:wr,filters:Ir,...ho()}})??"";let Sr=rs.parse(C==null?void 0:C.substring(1)),Eo=dr({pagination:{pageSize:$e,current:Re},sorters:ct??wr,filters:Ir,...Sr});return`${D??""}?${Eo??""}`},"createLinkForSyncWithLocation");ts(()=>{C===""&&(xo(yt),Ro(gt),Po(mr(Y,Se??[])),Ht(lr(ie,Ze??[])))},[C]),ts(()=>{if(U){let Re=ho();if(h==="new")nt({type:"replace",options:{keepQuery:!0},query:{...$?{pageSize:dt,current:Mt}:{},sorters:Rr(ct,Y,hr),filters:Rr(Et,ie,hr)}});else{let $e=dr({...$?{pagination:{pageSize:dt,current:Mt}}:{},sorters:Rr(ct,Y,hr),filters:Rr(Et,ie,hr),...Re});return ut==null?void 0:ut(`${D}?${$e}`,void 0,{shallow:!0})}}},[U,Mt,dt,ct,Et]);let Mr=kt({resource:Er,hasPagination:r,pagination:{current:Mt,pageSize:dt,mode:n==null?void 0:n.mode},filters:Q?Rt(ie,Et):void 0,sorters:F?pr(Y,ct):void 0,queryOptions:L,successNotification:m,errorNotification:T,meta:To,metaData:To,liveMode:b,liveParams:R,onLiveEvent:g,dataProviderName:x}),ks=o(Re=>{Ht($e=>Rt(ie,Re,$e))},"setFiltersAsMerge"),Qs=o(Re=>{Ht(Rt(ie,Re))},"setFiltersAsReplace"),Vs=o(Re=>{Ht($e=>Rt(ie,Re($e)))},"setFiltersWithSetter"),Bs=o((Re,$e=xe)=>{typeof Re=="function"?Vs(Re):$e==="replace"?Qs(Re):ks(Re)},"setFiltersFn"),Co=o(Re=>{Po(()=>pr(Y,Re))},"setSortWithUnion"),{elapsedTime:Ns}=ee({isLoading:Mr.isFetching,interval:P==null?void 0:P.interval,onInterval:P==null?void 0:P.onInterval});return{tableQueryResult:Mr,sorters:ct,setSorters:Co,sorter:ct,setSorter:Co,filters:Et,setFilters:Bs,current:Mt,setCurrent:xo,pageSize:dt,setPageSize:Ro,pageCount:dt?Math.ceil((((Uo=Mr.data)==null?void 0:Uo.total)??0)/dt):1,createLinkForSyncWithLocation:As,overtime:{elapsedTime:Ns}}}o(cb,"useTable");import{useContext as is}from"react";import{getXRay as us}from"@refinedev/devtools-internal";import{useMutation as cs,useQueryClient as gu}from"@tanstack/react-query";import ss from"react";var mt=ss.createContext({}),as=o(({create:e,get:t,update:r,children:n})=>ss.createElement(mt.Provider,{value:{create:e,get:t,update:r}},n),"AuditLogContextProvider");var Ne=o(({logMutationOptions:e,renameMutationOptions:t}={})=>{let r=gu(),n=is(mt),{keys:s,preferLegacyKeys:a}=O(),i=J(),{resources:c}=is(it),{data:d,refetch:u,isLoading:p}=$r({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy),queryOptions:{enabled:!!(n!=null&&n.create)}}),l=cs(async m=>{var g,R,M,I,x;let T=ye(m.resource,c),L=S((g=T==null?void 0:T.meta)==null?void 0:g.audit,(R=T==null?void 0:T.options)==null?void 0:R.audit,(I=(M=T==null?void 0:T.options)==null?void 0:M.auditLog)==null?void 0:I.permissions);if(L&&!Fr(L,m.action))return;let v;return p&&(n!=null&&n.create)&&(v=await u()),await((x=n.create)==null?void 0:x.call(n,{...m,author:d??(v==null?void 0:v.data)}))},{mutationKey:s().audit().action("log").get(),...e,meta:{...e==null?void 0:e.meta,...us("useLog",a)}}),y=cs(async m=>{var T;return await((T=n.update)==null?void 0:T.call(n,m))},{onSuccess:m=>{m!=null&&m.resource&&r.invalidateQueries(s().audit().resource((m==null?void 0:m.resource)??"").action("list").get(a))},mutationKey:s().audit().action("rename").get(),...t,meta:{...t==null?void 0:t.meta,...us("useLog",a)}});return{log:l,rename:y}},"useLog");import{useContext as Tu}from"react";import{getXRay as Pu}from"@refinedev/devtools-internal";import{useQuery as xu}from"@tanstack/react-query";var Vb=o(({resource:e,action:t,meta:r,author:n,metaData:s,queryOptions:a})=>{let{get:i}=Tu(mt),{keys:c,preferLegacyKeys:d}=O();return xu({queryKey:c().audit().resource(e).action("list").params(r).get(d),queryFn:()=>(i==null?void 0:i({resource:e,action:t,author:n,meta:r,metaData:s}))??Promise.resolve([]),enabled:typeof i<"u",...a,retry:!1,meta:{...a==null?void 0:a.meta,...Pu("useLogList",d,e)}})},"useLogList");import{useContext as Ru}from"react";import hu from"warn-once";var Yb=o(({meta:e={}}={})=>{let t=Z(),{i18nProvider:r}=Ru(Qe),n=ae(),s=G(),{resources:a,resource:i,action:c}=z(),{options:{textTransformers:d}}=se(),u=[];if(!(i!=null&&i.name))return{breadcrumbs:u};let p=o(l=>{var m,T,L,v,g,R;let y=typeof l=="string"?ye(l,a,t==="legacy")??{name:l}:l;if(y){let M=S((m=y==null?void 0:y.meta)==null?void 0:m.parent,y==null?void 0:y.parentName);M&&p(M);let I=he(y,a,t==="legacy").find(f=>f.action==="list"),x=(T=I==null?void 0:I.resource)!=null&&T.list?I==null?void 0:I.route:void 0,P=x?t==="legacy"?x:Me(x,y==null?void 0:y.meta,n,e):void 0;u.push({label:S((L=y.meta)==null?void 0:L.label,(v=y.options)==null?void 0:v.label)??s(`${y.name}.${y.name}`,d.humanize(y.name)),href:P,icon:S((g=y.meta)==null?void 0:g.icon,(R=y.options)==null?void 0:R.icon,y.icon)})}},"addBreadcrumb");if(p(i),c&&c!=="list"){let l=`actions.${c}`,y=s(l);typeof r<"u"&&y===l?(hu(!0,`[useBreadcrumb]: Breadcrumb missing translate key for the "${c}" action. Please add "actions.${c}" key to your translation file.
For more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`),u.push({label:s(`buttons.${c}`,d.humanize(c))})):u.push({label:s(l,d.humanize(c))})}return{breadcrumbs:u}},"useBreadcrumb");import lo from"react";var vt=o((e,t,r=!1)=>{let n=[],s=Fe(e,t);for(;s;)n.push(s),s=Fe(s,t);return n.reverse(),`/${[...n,e].map(i=>be((r?i.route:void 0)??i.identifier??i.name)).join("/").replace(/^\//,"")}`},"createResourceKey");var ds=o((e,t=!1)=>{let r={item:{name:"__root__"},children:{}};e.forEach(s=>{let a=[],i=Fe(s,e);for(;i;)a.push(i),i=Fe(i,e);a.reverse();let c=r;a.forEach(u=>{let p=(t?u.route:void 0)??u.identifier??u.name;c.children[p]||(c.children[p]={item:u,children:{}}),c=c.children[p]});let d=(t?s.route:void 0)??s.identifier??s.name;c.children[d]||(c.children[d]={item:s,children:{}})});let n=o(s=>{let a=[];return Object.keys(s.children).forEach(i=>{let c=vt(s.children[i].item,e,t),d={...s.children[i].item,key:c,children:n(s.children[i])};a.push(d)}),a},"flatten");return n(r)},"createTree");var ps=o(e=>e.split("?")[0].split("#")[0].replace(/(.+)(\/$)/,"$1"),"getCleanPath"),Cu=o(({meta:e,hideOnMissingParameter:t=!0}={hideOnMissingParameter:!0})=>{let r=G(),n=lt(),s=Z(),{resource:a,resources:i}=z(),{pathname:c}=ae(),{useLocation:d}=te(),{pathname:u}=d(),p=st(),y=`/${((s==="legacy"?ps(u):c?ps(c):void 0)??"").replace(/^\//,"")}`,m=a?vt(a,i,s==="legacy"):y??"",T=lo.useMemo(()=>{if(!a)return[];let g=Fe(a,i),R=[vt(a,i)];for(;g;)R.push(vt(g,i)),g=Fe(g,i);return R},[]),L=lo.useCallback(g=>{var M,I,x,P,f,U;if((((M=g==null?void 0:g.meta)==null?void 0:M.hide)??((I=g==null?void 0:g.options)==null?void 0:I.hide))||!(g!=null&&g.list)&&g.children.length===0)return;let R=g.list?n({resource:g,action:"list",legacy:s==="legacy",meta:e}):void 0;if(!(t&&R&&R.match(/(\/|^):(.+?)(\/|$){1}/)))return{...g,route:R,icon:S((x=g.meta)==null?void 0:x.icon,(P=g.options)==null?void 0:P.icon,g.icon),label:S((f=g==null?void 0:g.meta)==null?void 0:f.label,(U=g==null?void 0:g.options)==null?void 0:U.label)??r(`${g.name}.${g.name}`,p(g.name,"plural"))}},[s,e,n,r,t]),v=lo.useMemo(()=>{let g=ds(i,s==="legacy"),R=o(M=>M.flatMap(I=>{let x=R(I.children),P=L({...I,children:x});return P?[P]:[]}),"prepare");return R(g)},[i,s,L]);return{defaultOpenKeys:T,selectedKey:m,menuItems:v}},"useMenu");var q=o(()=>{let{params:e}=ae();return o(({resource:r,meta:n}={})=>{let{meta:s}=bt(r)??{meta:{}},{filters:a,sorters:i,current:c,pageSize:d,...u}=e??{};return{...s,...u,...n}},"getMetaFn")},"useMeta");import bu from"react";var Ct=o(()=>{let{options:e}=bu.useContext(ve);return e},"useRefineOptions");import Cr from"react";var ls=o(e=>{let t=Z(),{useParams:r}=te(),n=ae(),s=r(),a=t==="legacy"?s.id:n.id;return e??a},"useId");var ms=o(e=>{let t=Z(),{useParams:r}=te(),n=ae(),s=r(),a=t==="legacy"?s.action:n.action;return e??a},"useAction");function Ke(e){let{select:t,identifier:r}=z(),n=(e==null?void 0:e.resource)??r,{identifier:s=void 0,resource:a=void 0}=n?t(n,!0):{},i=r===s,c=ls(),d=ms(e==null?void 0:e.action),u=Cr.useMemo(()=>i?(e==null?void 0:e.id)??c:e==null?void 0:e.id,[i,e==null?void 0:e.id,c]),[p,l]=Cr.useState(u);Cr.useEffect(()=>l(u),[u]);let y=Cr.useMemo(()=>!i&&!(e!=null&&e.action)?"create":d==="edit"||d==="clone"?d:"create",[d,i,e==null?void 0:e.action]);return{id:p,setId:l,resource:a,action:d,identifier:s,formAction:y}}o(Ke,"useResourceParams");function br({type:e}){let t=G(),{textTransformers:{humanize:r}}=Ct(),n=`buttons.${e}`,s=r(e);return{label:t(n,s)}}o(br,"useActionableButton");import vu from"react";import fs from"react";var vr=o(e=>{var u,p,l;let t=G(),r=fs.useContext(Xe),n=((u=e.accessControl)==null?void 0:u.enabled)??r.options.buttons.enableAccessControl,s=((p=e.accessControl)==null?void 0:p.hideIfUnauthorized)??r.options.buttons.hideIfUnauthorized,{data:a}=Tr({resource:(l=e.resource)==null?void 0:l.name,action:e.action==="clone"?"create":e.action,params:{id:e.id,resource:e.resource},queryOptions:{enabled:n}}),i=fs.useMemo(()=>a!=null&&a.can?"":a!=null&&a.reason?a.reason:t("buttons.notAccessTitle","You don't have permission to access"),[a==null?void 0:a.can,a==null?void 0:a.reason,t]),c=n&&s&&!(a!=null&&a.can),d=(a==null?void 0:a.can)===!1;return{title:i,hidden:c,disabled:d,canAccess:a}},"useButtonCanAccess");function Dt(e){var R;let t=ce(),r=Z(),n=rt(),{Link:s}=te(),a=G(),i=st(),{textTransformers:{humanize:c}}=Ct(),{id:d,resource:u,identifier:p}=Ke({resource:e.resource,id:e.action==="create"?void 0:e.id}),{canAccess:l,title:y,hidden:m,disabled:T}=vr({action:e.action,accessControl:e.accessControl,id:d,resource:u}),L=r==="legacy"?s:n,v=vu.useMemo(()=>{if(!u)return"";switch(e.action){case"create":case"list":return t[`${e.action}Url`](u,e.meta);default:return d?t[`${e.action}Url`](u,d,e.meta):""}},[u,d,e.meta,t[`${e.action}Url`]]),g=e.action==="list"?a(`${p??e.resource}.titles.list`,i(((R=u==null?void 0:u.meta)==null?void 0:R.label)??(u==null?void 0:u.label)??p??e.resource,"plural")):a(`buttons.${e.action}`,c(e.action));return{to:v,label:g,title:y,disabled:T,hidden:m,canAccess:l,LinkComponent:L}}o(Dt,"useNavigationButton");function Du(e){let t=G(),{mutate:r,isLoading:n,variables:s}=to(),{setWarnWhen:a}=pt(),{mutationMode:i}=Ae(e.mutationMode),{id:c,resource:d,identifier:u}=Ke({resource:e.resource,id:e.id}),{title:p,disabled:l,hidden:y,canAccess:m}=vr({action:"delete",accessControl:e.accessControl,id:c,resource:d}),T=t("buttons.delete","Delete"),L=t("buttons.delete","Delete"),v=t("buttons.confirm","Are you sure?"),g=t("buttons.cancel","Cancel"),R=c===(s==null?void 0:s.id)&&n;return{label:T,title:p,hidden:y,disabled:l,canAccess:m,loading:R,confirmOkLabel:L,cancelLabel:g,confirmTitle:v,onConfirm:o(()=>{c&&u&&(a(!1),r({id:c,resource:u,mutationMode:i,successNotification:e.successNotification,errorNotification:e.errorNotification,meta:e.meta,metaData:e.meta,dataProviderName:e.dataProviderName,invalidates:e.invalidates},{onSuccess:e.onSuccess}))},"onConfirm")}}o(Du,"useDeleteButton");import{useQueryClient as Lu}from"@tanstack/react-query";function Uu(e){let t=G(),{keys:r,preferLegacyKeys:n}=O(),s=Lu(),a=Ce(),{identifier:i,id:c}=Ke({resource:e.resource,id:e.id}),{resources:d}=z(),u=!!s.isFetching({queryKey:r().data(_(i,e.dataProviderName,d)).resource(i).action("one").get(n)}),p=o(()=>{a({id:c,invalidates:["detail"],dataProviderName:e.dataProviderName,resource:i})},"onClick"),l=t("buttons.refresh","Refresh");return{onClick:p,label:l,loading:u}}o(Uu,"useRefreshButton");var wD=o(e=>Dt({...e,action:"show"}),"useShowButton"),ID=o(e=>Dt({...e,action:"edit"}),"useEditButton"),SD=o(e=>Dt({...e,action:"clone"}),"useCloneButton"),FD=o(e=>Dt({...e,action:"create"}),"useCreateButton"),AD=o(e=>Dt({...e,action:"list"}),"useListButton"),kD=o(()=>br({type:"save"}),"useSaveButton"),QD=o(()=>br({type:"export"}),"useExportButton"),VD=o(()=>br({type:"import"}),"useImportButton");var wu=o(()=>{let[e,t]=Mu(),r=G(),{push:n}=ce(),s=ge(),a=Z(),{resource:i,action:c}=z();return Eu(()=>{i&&c&&t(r("pages.error.info",{action:c,resource:i.name},`You may have forgotten to add the "${c}" component to "${i.name}" resource.`))},[i,c]),Gt.createElement(Gt.Fragment,null,Gt.createElement("h1",null,r("pages.error.404",void 0,"Sorry, the page you visited does not exist.")),e&&Gt.createElement("p",null,e),Gt.createElement("button",{onClick:()=>{a==="legacy"?n("/"):s({to:"/"})}},r("pages.error.backHome",void 0,"Back Home")))},"ErrorComponent");import Le,{useState as ys}from"react";var kr=o(()=>{let[e,t]=ys(""),[r,n]=ys(""),s=G(),a=J(),{mutate:i}=At({v3LegacyAuthProviderCompatible:!!(a!=null&&a.isLegacy)});return Le.createElement(Le.Fragment,null,Le.createElement("h1",null,s("pages.login.title","Sign in your account")),Le.createElement("form",{onSubmit:c=>{c.preventDefault(),i({username:e,password:r})}},Le.createElement("table",null,Le.createElement("tbody",null,Le.createElement("tr",null,Le.createElement("td",null,s("pages.login.username",void 0,"username"),":"),Le.createElement("td",null,Le.createElement("input",{type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",autoFocus:!0,required:!0,value:e,onChange:c=>t(c.target.value)}))),Le.createElement("tr",null,Le.createElement("td",null,s("pages.login.password",void 0,"password"),":"),Le.createElement("td",null,Le.createElement("input",{type:"password",required:!0,size:20,value:r,onChange:c=>n(c.target.value)}))))),Le.createElement("br",null),Le.createElement("input",{type:"submit",value:"login"})))},"LoginPage");import Lt from"react";import le,{useState as mo}from"react";var gs=o(({providers:e,registerLink:t,forgotPasswordLink:r,rememberMe:n,contentProps:s,wrapperProps:a,renderContent:i,formProps:c,title:d=void 0,hideForm:u})=>{let p=Z(),l=rt(),{Link:y}=te(),m=p==="legacy"?y:l,[T,L]=mo(""),[v,g]=mo(""),[R,M]=mo(!1),I=G(),x=J(),{mutate:P}=At({v3LegacyAuthProviderCompatible:!!(x!=null&&x.isLegacy)}),f=o((h,E)=>le.createElement(m,{to:h},E),"renderLink"),U=o(()=>e?e.map(h=>le.createElement("div",{key:h.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},le.createElement("button",{onClick:()=>P({providerName:h.name}),style:{display:"flex",alignItems:"center"}},h==null?void 0:h.icon,h.label??le.createElement("label",null,h.label)))):null,"renderProviders"),b=le.createElement("div",{...s},le.createElement("h1",{style:{textAlign:"center"}},I("pages.login.title","Sign in to your account")),U(),!u&&le.createElement(le.Fragment,null,le.createElement("hr",null),le.createElement("form",{onSubmit:h=>{h.preventDefault(),P({email:T,password:v,remember:R})},...c},le.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},le.createElement("label",{htmlFor:"email-input"},I("pages.login.fields.email","Email")),le.createElement("input",{id:"email-input",name:"email",type:"text",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:T,onChange:h=>L(h.target.value)}),le.createElement("label",{htmlFor:"password-input"},I("pages.login.fields.password","Password")),le.createElement("input",{id:"password-input",type:"password",name:"password",required:!0,size:20,value:v,onChange:h=>g(h.target.value)}),n??le.createElement(le.Fragment,null,le.createElement("label",{htmlFor:"remember-me-input"},I("pages.login.buttons.rememberMe","Remember me"),le.createElement("input",{id:"remember-me-input",name:"remember",type:"checkbox",size:20,checked:R,value:R.toString(),onChange:()=>{M(!R)}}))),le.createElement("br",null),r??f("/forgot-password",I("pages.login.buttons.forgotPassword","Forgot password?")),le.createElement("input",{type:"submit",value:I("pages.login.signin","Sign in")}),t??le.createElement("span",null,I("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",f("/register",I("pages.login.register","Sign up")))))),t!==!1&&u&&le.createElement("div",{style:{textAlign:"center"}},I("pages.login.buttons.noAccount","Don\u2019t have an account?")," ",f("/register",I("pages.login.register","Sign up"))));return le.createElement("div",{...a},i?i(b,d):b)},"LoginPage");import Te,{useState as Ts}from"react";var Ps=o(({providers:e,loginLink:t,wrapperProps:r,contentProps:n,renderContent:s,formProps:a,title:i=void 0,hideForm:c})=>{let d=Z(),u=rt(),{Link:p}=te(),l=d==="legacy"?p:u,[y,m]=Ts(""),[T,L]=Ts(""),v=G(),g=J(),{mutate:R,isLoading:M}=_r({v3LegacyAuthProviderCompatible:!!(g!=null&&g.isLegacy)}),I=o((f,U)=>Te.createElement(l,{to:f},U),"renderLink"),x=o(()=>e?e.map(f=>Te.createElement("div",{key:f.name,style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"}},Te.createElement("button",{onClick:()=>R({providerName:f.name}),style:{display:"flex",alignItems:"center"}},f==null?void 0:f.icon,f.label??Te.createElement("label",null,f.label)))):null,"renderProviders"),P=Te.createElement("div",{...n},Te.createElement("h1",{style:{textAlign:"center"}},v("pages.register.title","Sign up for your account")),x(),!c&&Te.createElement(Te.Fragment,null,Te.createElement("hr",null),Te.createElement("form",{onSubmit:f=>{f.preventDefault(),R({email:y,password:T})},...a},Te.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Te.createElement("label",{htmlFor:"email-input"},v("pages.register.fields.email","Email")),Te.createElement("input",{id:"email-input",name:"email",type:"email",size:20,autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:y,onChange:f=>m(f.target.value)}),Te.createElement("label",{htmlFor:"password-input"},v("pages.register.fields.password","Password")),Te.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:T,onChange:f=>L(f.target.value)}),Te.createElement("input",{type:"submit",value:v("pages.register.buttons.submit","Sign up"),disabled:M}),t??Te.createElement(Te.Fragment,null,Te.createElement("span",null,v("pages.login.buttons.haveAccount","Have an account?")," ",I("/login",v("pages.login.signin","Sign in"))))))),t!==!1&&c&&Te.createElement("div",{style:{textAlign:"center"}},v("pages.login.buttons.haveAccount","Have an account?")," ",I("/login",v("pages.login.signin","Sign in"))));return Te.createElement("div",{...r},s?s(P,i):P)},"RegisterPage");import Ge,{useState as Iu}from"react";var xs=o(({loginLink:e,wrapperProps:t,contentProps:r,renderContent:n,formProps:s,title:a=void 0})=>{let i=G(),c=Z(),d=rt(),{Link:u}=te(),p=c==="legacy"?u:d,[l,y]=Iu(""),{mutate:m,isLoading:T}=Xr(),L=o((g,R)=>Ge.createElement(p,{to:g},R),"renderLink"),v=Ge.createElement("div",{...r},Ge.createElement("h1",{style:{textAlign:"center"}},i("pages.forgotPassword.title","Forgot your password?")),Ge.createElement("hr",null),Ge.createElement("form",{onSubmit:g=>{g.preventDefault(),m({email:l})},...s},Ge.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},Ge.createElement("label",{htmlFor:"email-input"},i("pages.forgotPassword.fields.email","Email")),Ge.createElement("input",{id:"email-input",name:"email",type:"mail",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",required:!0,value:l,onChange:g=>y(g.target.value)}),Ge.createElement("input",{type:"submit",disabled:T,value:i("pages.forgotPassword.buttons.submit","Send reset instructions")}),Ge.createElement("br",null),e??Ge.createElement("span",null,i("pages.register.buttons.haveAccount","Have an account? ")," ",L("/login",i("pages.login.signin","Sign in"))))));return Ge.createElement("div",{...t},n?n(v,a):v)},"ForgotPasswordPage");import ze,{useState as Rs}from"react";var hs=o(({wrapperProps:e,contentProps:t,renderContent:r,formProps:n,title:s=void 0})=>{let a=G(),i=J(),{mutate:c,isLoading:d}=Yr({v3LegacyAuthProviderCompatible:!!(i!=null&&i.isLegacy)}),[u,p]=Rs(""),[l,y]=Rs(""),m=ze.createElement("div",{...t},ze.createElement("h1",{style:{textAlign:"center"}},a("pages.updatePassword.title","Update Password")),ze.createElement("hr",null),ze.createElement("form",{onSubmit:T=>{T.preventDefault(),c({password:u,confirmPassword:l})},...n},ze.createElement("div",{style:{display:"flex",flexDirection:"column",padding:25}},ze.createElement("label",{htmlFor:"password-input"},a("pages.updatePassword.fields.password","New Password")),ze.createElement("input",{id:"password-input",name:"password",type:"password",required:!0,size:20,value:u,onChange:T=>p(T.target.value)}),ze.createElement("label",{htmlFor:"confirm-password-input"},a("pages.updatePassword.fields.confirmPassword","Confirm New Password")),ze.createElement("input",{id:"confirm-password-input",name:"confirmPassword",type:"password",required:!0,size:20,value:l,onChange:T=>y(T.target.value)}),ze.createElement("input",{type:"submit",disabled:d,value:a("pages.updatePassword.buttons.submit","Update")}))));return ze.createElement("div",{...e},r?r(m,s):m)},"UpdatePasswordPage");var Su=o(e=>{let{type:t}=e;return Lt.createElement(Lt.Fragment,null,o(()=>{switch(t){case"register":return Lt.createElement(Ps,{...e});case"forgotPassword":return Lt.createElement(xs,{...e});case"updatePassword":return Lt.createElement(hs,{...e});default:return Lt.createElement(gs,{...e})}},"renderView")())},"AuthPage");import Ie from"react";var fo=o(()=>Ie.createElement(Ie.Fragment,null,Ie.createElement("h1",null,"Welcome on board"),Ie.createElement("p",null,"Your configuration is completed."),Ie.createElement("p",null,"Now you can get started by adding your resources to the"," ",Ie.createElement("code",null,"`resources`")," property of ",Ie.createElement("code",null,"`<Refine>`")),Ie.createElement("div",{style:{display:"flex",gap:8}},Ie.createElement("a",{href:"https://refine.dev",target:"_blank",rel:"noreferrer"},Ie.createElement("button",null,"Documentation")),Ie.createElement("a",{href:"https://refine.dev/examples",target:"_blank",rel:"noreferrer"},Ie.createElement("button",null,"Examples")),Ie.createElement("a",{href:"https://discord.gg/refine",target:"_blank",rel:"noreferrer"},Ie.createElement("button",null,"Community")))),"ReadyPage");import Dr from"react";import Pe,{useState as Fu}from"react";var Au=[{title:"Documentation",description:"Learn about the technical details of using Refine in your projects.",link:"https://refine.dev/docs",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg"},{title:"Tutorial",description:"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.",link:"https://refine.dev/tutorial",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg"},{title:"Templates",description:"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.",link:"https://refine.dev/templates",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg"},{title:"Community",description:"Join our Discord community and keep up with the latest news.",link:"https://discord.gg/refine",iconUrl:"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg"}],Cs=o(()=>{let e=sr("(max-width: 1010px)"),t=sr("(max-width: 650px)"),r=o(()=>t?"1, 280px":e?"2, 280px":"4, 1fr","getGridTemplateColumns"),n=o(()=>t?"32px":e?"40px":"48px","getHeaderFontSize"),s=o(()=>t?"16px":e?"20px":"24px","getSubHeaderFontSize");return Pe.createElement("div",{style:{position:"fixed",zIndex:10,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},Pe.createElement("div",{style:{overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundRepeat:"no-repeat",background:t?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":e?"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30":"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30",minHeight:"100%",minWidth:"100%",fontFamily:"Arial",color:"#FFFFFF"}},Pe.createElement("div",{style:{zIndex:2,position:"absolute",width:t?"400px":"800px",height:"552px",opacity:"0.5",background:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",top:"0",left:"50%",transform:"translateX(-50%)"}}),Pe.createElement("div",{style:{height:t?"40px":"80px"}}),Pe.createElement("div",{style:{display:"flex",justifyContent:"center"}},Pe.createElement("div",{style:{backgroundRepeat:"no-repeat",backgroundSize:t?"112px 58px":"224px 116px",backgroundImage:"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)",width:t?112:224,height:t?58:116}})),Pe.createElement("div",{style:{height:t?"120px":e?"200px":"30vh",minHeight:t?"120px":"200px"}}),Pe.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"}},Pe.createElement("h1",{style:{fontSize:n(),fontWeight:700,margin:"0px"}},"Welcome Aboard!"),Pe.createElement("h4",{style:{fontSize:s(),fontWeight:400,margin:"0px"}},"Your configuration is completed.")),Pe.createElement("div",{style:{height:"64px"}}),Pe.createElement("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r()})`,justifyContent:"center",gap:"48px",paddingRight:"16px",paddingLeft:"16px",paddingBottom:"32px",maxWidth:"976px",margin:"auto"}},Au.map(a=>Pe.createElement(ku,{key:`welcome-page-${a.title}`,card:a})))))},"ConfigSuccessPage"),ku=o(({card:e})=>{let{title:t,description:r,iconUrl:n,link:s}=e,[a,i]=Fu(!1);return Pe.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},Pe.createElement("div",{style:{display:"flex",alignItems:"center"}},Pe.createElement("a",{onPointerEnter:()=>i(!0),onPointerLeave:()=>i(!1),style:{display:"flex",alignItems:"center",color:"#fff",textDecoration:"none"},href:s},Pe.createElement("div",{style:{width:"16px",height:"16px",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundImage:`url(${n})`}}),Pe.createElement("span",{style:{fontSize:"16px",fontWeight:700,marginLeft:"13px",marginRight:"14px"}},t),Pe.createElement("svg",{style:{transition:"transform 0.5s ease-in-out, opacity 0.2s ease-in-out",...a&&{transform:"translateX(4px)",opacity:1}},width:"12",height:"8",fill:"none",opacity:"0.5",xmlns:"http://www.w3.org/2000/svg"},Pe.createElement("path",{d:"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z",fill:"#fff"})))),Pe.createElement("span",{style:{fontSize:"12px",opacity:.5,lineHeight:"16px"}},r))},"Card");import A from"react";var bs=o(()=>A.createElement("div",{style:{position:"fixed",zIndex:11,inset:0,overflow:"auto",width:"100dvw",height:"100dvh"}},A.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"24px",background:"#14141FBF",backdropFilter:"blur(3px)"}},A.createElement("div",{style:{maxWidth:"640px",width:"100%",background:"#1D1E30",borderRadius:"16px",border:"1px solid #303450",boxShadow:"0px 0px 120px -24px #000000"}},A.createElement("div",{style:{padding:"16px 20px",borderBottom:"1px solid #303450",display:"flex",alignItems:"center",gap:"8px",position:"relative"}},A.createElement(Vu,{style:{position:"absolute",left:0,top:0}}),A.createElement("div",{style:{lineHeight:"24px",fontSize:"16px",color:"#FFFFFF",display:"flex",alignItems:"center",gap:"16px"}},A.createElement(Bu,null),A.createElement("span",{style:{fontWeight:400}},"Configuration Error"))),A.createElement("div",{style:{padding:"20px",color:"#A3ADC2",lineHeight:"20px",fontSize:"14px",display:"flex",flexDirection:"column",gap:"20px"}},A.createElement("p",{style:{margin:0,padding:0,lineHeight:"28px",fontSize:"16px"}},A.createElement("code",{style:{display:"inline-block",background:"#30345080",padding:"0 4px",lineHeight:"24px",fontSize:"16px",borderRadius:"4px",color:"#FFFFFF"}},"<Refine />")," ","is not initialized. Please make sure you have it mounted in your app and placed your components inside it."),A.createElement("div",null,A.createElement(Qu,null)))))),"ConfigErrorPage"),Qu=o(()=>A.createElement("pre",{style:{display:"block",overflowX:"auto",borderRadius:"8px",fontSize:"14px",lineHeight:"24px",backgroundColor:"#14141F",color:"#E5ECF2",padding:"16px",margin:"0",maxHeight:"400px",overflow:"auto"}},A.createElement("span",{style:{color:"#FF7B72"}},"import")," ","{"," Refine, WelcomePage"," ","}"," ",A.createElement("span",{style:{color:"#FF7B72"}},"from")," ",A.createElement("span",{style:{color:"#A5D6FF"}},'"@refinedev/core"'),";",`
`,`
`,A.createElement("span",{style:{color:"#FF7B72"}},"export")," ",A.createElement("span",{style:{color:"#FF7B72"}},"default")," ",A.createElement("span",null,A.createElement("span",{style:{color:"#FF7B72"}},"function")," ",A.createElement("span",{style:{color:"#FFA657"}},"App"),"(",A.createElement("span",{style:{color:"rgb(222, 147, 95)"}}),")"," "),"{",`
`,"  ",A.createElement("span",{style:{color:"#FF7B72"}},"return")," (",`
`,"    ",A.createElement("span",null,A.createElement("span",{style:{color:"#79C0FF"}},"<",A.createElement("span",{style:{color:"#79C0FF"}},"Refine"),`
`,"      ",A.createElement("span",{style:{color:"#E5ECF2",opacity:.6}},"// ",A.createElement("span",null,"...")),`
`,"    ",">"),`
`,"      ",A.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"      ",A.createElement("span",{style:{color:"#79C0FF"}},"<",A.createElement("span",{style:{color:"#79C0FF"}},"WelcomePage")," />"),`
`,"      ",A.createElement("span",{style:{opacity:.6}},"{","/* ... */","}"),`
`,"    ",A.createElement("span",{style:{color:"#79C0FF"}},"</",A.createElement("span",{style:{color:"#79C0FF"}},"Refine"),">")),`
`,"  ",");",`
`,"}"),"ExampleImplementation"),Vu=o(e=>A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:204,height:56,viewBox:"0 0 204 56",fill:"none",...e},A.createElement("path",{fill:"url(#welcome-page-error-gradient-a)",d:"M12 0H0v12L12 0Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-b)",d:"M28 0h-8L0 20v8L28 0Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-c)",d:"M36 0h8L0 44v-8L36 0Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-d)",d:"M60 0h-8L0 52v4h4L60 0Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-e)",d:"M68 0h8L20 56h-8L68 0Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-f)",d:"M92 0h-8L28 56h8L92 0Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-g)",d:"M100 0h8L52 56h-8l56-56Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-h)",d:"M124 0h-8L60 56h8l56-56Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-i)",d:"M140 0h-8L76 56h8l56-56Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-j)",d:"M132 0h8L84 56h-8l56-56Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-k)",d:"M156 0h-8L92 56h8l56-56Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-l)",d:"M164 0h8l-56 56h-8l56-56Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-m)",d:"M188 0h-8l-56 56h8l56-56Z"}),A.createElement("path",{fill:"url(#welcome-page-error-gradient-n)",d:"M204 0h-8l-56 56h8l56-56Z"}),A.createElement("defs",null,A.createElement("radialGradient",{id:"welcome-page-error-gradient-a",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-b",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-c",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-d",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-e",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-f",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-g",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-h",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-i",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-j",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-k",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-l",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-m",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})),A.createElement("radialGradient",{id:"welcome-page-error-gradient-n",cx:0,cy:0,r:1,gradientTransform:"scale(124)",gradientUnits:"userSpaceOnUse"},A.createElement("stop",{stopColor:"#FF4C4D",stopOpacity:.1}),A.createElement("stop",{offset:1,stopColor:"#FF4C4D",stopOpacity:0})))),"ErrorGradient"),Bu=o(e=>A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 16 16",fill:"none",...e},A.createElement("path",{fill:"#FF4C4D",fillRule:"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z",clipRule:"evenodd"}),A.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"})),"ErrorIcon");var Nu=o(()=>{let{__initialized:e}=se();return Dr.createElement(Dr.Fragment,null,Dr.createElement(Cs,null),!e&&Dr.createElement(bs,null))},"WelcomePage");import me from"react";import{useQuerySubscription as Ou}from"@refinedev/devtools-internal";import{QueryClient as ws,QueryClientProvider as zu}from"@tanstack/react-query";import Ds from"react";import{useContext as ft}from"react";var Ku="4.49.2",vs=o(()=>{var R;let e=Jr(),t=ft(mt),{liveProvider:r}=ft(et),n=ft(Kt),s=ft(Bt),{i18nProvider:a}=ft(Qe),i=ft(Nt),c=ft(Xe),{resources:d}=z(),u=se(),p=!!t.create||!!t.get||!!t.update,l=!!(r!=null&&r.publish)||!!(r!=null&&r.subscribe)||!!(r!=null&&r.unsubscribe),y=!!n.useHistory||!!n.Link||!!n.Prompt||!!n.useLocation||!!n.useParams,m=!!s,T=!!(a!=null&&a.changeLocale)||!!(a!=null&&a.getLocale)||!!(a!=null&&a.translate),L=!!i.close||!!i.open,v=!!c.can,g=(R=u==null?void 0:u.options)==null?void 0:R.projectId;return{providers:{auth:e,auditLog:p,live:l,router:y,data:m,i18n:T,notification:L,accessControl:v},version:Ku,resourceCount:d.length,projectId:g}},"useTelemetryData");var Gu=o(e=>{try{let t=JSON.stringify(e||{});return typeof btoa<"u"?btoa(t):Buffer.from(t).toString("base64")}catch{return}},"encode"),Hu=o(e=>{let t=new Image;t.src=e},"throughImage"),$u=o(e=>{fetch(e)},"throughFetch"),Wu=o(e=>{typeof Image<"u"?Hu(e):typeof fetch<"u"&&$u(e)},"transport"),Ls=o(()=>{let e=vs(),t=Ds.useRef(!1);return Ds.useEffect(()=>{if(t.current)return;let r=Gu(e);r&&(Wu(`https://telemetry.refine.dev/telemetry?payload=${r}`),t.current=!0)},[]),null},"Telemetry");var Us=o(e=>{let t=["go","parse","back","Link"],r=Object.keys(e).filter(s=>!t.includes(s));return r.length>0?(console.warn(`Unsupported properties are found in \`routerProvider\` prop. You provided \`${r.join(", ")}\`. Supported properties are \`${t.join(", ")}\`. You may wanted to use \`legacyRouterProvider\` prop instead.`),!0):!1},"checkRouterPropMisuse");import Es from"react";var Ms=o(e=>{let t=Es.useRef(!1);Es.useEffect(()=>{t.current===!1&&e&&Us(e)&&(t.current=!0)},[e])},"useRouterMisuseWarning");var _u=o(({legacyAuthProvider:e,authProvider:t,dataProvider:r,legacyRouterProvider:n,routerProvider:s,notificationProvider:a,accessControlProvider:i,auditLogProvider:c,resources:d,DashboardPage:u,ReadyPage:p,LoginPage:l,catchAll:y,children:m,liveProvider:T,i18nProvider:L,Title:v,Layout:g,Sider:R,Header:M,Footer:I,OffLayoutArea:x,onLiveEvent:P,options:f})=>{let{optionsWithDefaults:U,disableTelemetryWithDefault:b,reactQueryWithDefaults:h}=Qr({options:f}),E=gr(()=>{var w;return h.clientConfig instanceof ws?h.clientConfig:new ws({...h.clientConfig,defaultOptions:{...h.clientConfig.defaultOptions,queries:{refetchOnWindowFocus:!1,keepPreviousData:!0,...(w=h.clientConfig.defaultOptions)==null?void 0:w.queries}}})},[h.clientConfig]);Ou(E);let D=me.useMemo(()=>typeof a=="function"?a:()=>a,[a])();if(Ms(s),n&&!s&&(d??[]).length===0)return p?me.createElement(p,null):me.createElement(fo,null);let{RouterComponent:k=me.Fragment}=s?{}:n??{};return me.createElement(zu,{client:E},me.createElement(Hn,{...D},me.createElement(wo,{...e??{},isProvided:!!e},me.createElement(So,{...t??{},isProvided:!!t},me.createElement(Dn,{dataProvider:r},me.createElement(Un,{liveProvider:T},me.createElement(Fn,{value:n&&!s?"legacy":"new"},me.createElement(kn,{router:s},me.createElement(Zn,{...n},me.createElement(wn,{resources:d??[]},me.createElement(Wn,{i18nProvider:L},me.createElement(Jn,{...i??{}},me.createElement(as,{...c??{}},me.createElement(Kn,null,me.createElement(Wo,{mutationMode:U.mutationMode,warnWhenUnsavedChanges:U.warnWhenUnsavedChanges,syncWithLocation:U.syncWithLocation,Title:v,undoableTimeout:U.undoableTimeout,catchAll:y,DashboardPage:u,LoginPage:l,Layout:g,Sider:R,Footer:I,Header:M,OffLayoutArea:x,hasDashboard:!!u,liveMode:U.liveMode,onLiveEvent:P,options:U},me.createElement(Xo,null,me.createElement(k,null,m,!b&&me.createElement(Ls,null),me.createElement(yo,null))))))))))))))))))},"Refine");import{useEffect as ju,useState as Xu}from"react";var Gn=o(({notification:e})=>{let t=G(),{notificationDispatch:r}=je(),{open:n}=we(),[s,a]=Xu(),i=o(()=>{if(e.isRunning===!0&&(e.seconds===0&&e.doMutation(),e.isSilent||n==null||n({key:`${e.id}-${e.resource}-notification`,type:"progress",message:t("notifications.undoable",{seconds:wt(e.seconds)},`You have ${wt(e.seconds)} seconds to undo`),cancelMutation:e.cancelMutation,undoableTimeout:wt(e.seconds)}),e.seconds>0)){s&&clearTimeout(s);let c=setTimeout(()=>{r({type:"DECREASE_NOTIFICATION_SECOND",payload:{id:e.id,seconds:e.seconds,resource:e.resource}})},1e3);a(c)}},"cancelNotification");return ju(()=>{i()},[e]),null},"UndoableQueue");import go,{useEffect as Zu}from"react";var Yu=o(({children:e,Layout:t,Sider:r,Header:n,Title:s,Footer:a,OffLayoutArea:i})=>{let{Layout:c,Footer:d,Header:u,Sider:p,Title:l,OffLayoutArea:y}=se();return go.createElement(t??c,{Sider:r??p,Header:n??u,Footer:a??d,Title:s??l,OffLayoutArea:i??y},e,go.createElement(Ju,null))},"LayoutWrapper"),Ju=o(()=>{let{Prompt:e}=te(),t=G(),{warnWhen:r,setWarnWhen:n}=pt(),s=o(a=>(a.preventDefault(),a.returnValue=t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),a.returnValue),"warnWhenListener");return Zu(()=>(r&&window.addEventListener("beforeunload",s),window.removeEventListener("beforeunload",s)),[r]),go.createElement(e,{when:r,message:t("warnWhenUnsavedChanges","Are you sure you want to leave? You have unsaved changes."),setWarnWhen:n})},"UnsavedPrompt");import He from"react";function qu({redirectOnFail:e=!0,appendCurrentPathToQuery:t=!0,children:r,fallback:n,loading:s}){var x;let a=J(),i=Z(),c=!!(a!=null&&a.isProvided),d=!!(a!=null&&a.isLegacy),u=i==="legacy",p=ae(),l=ge(),{useLocation:y}=te(),m=y(),{isFetching:T,isSuccess:L,data:{authenticated:v,redirectTo:g}={}}=yr({v3LegacyAuthProviderCompatible:d}),R=c?d?L:v:!0;if(!c)return He.createElement(He.Fragment,null,r??null);if(T)return He.createElement(He.Fragment,null,s??null);if(R)return He.createElement(He.Fragment,null,r??null);if(typeof n<"u")return He.createElement(He.Fragment,null,n??null);let M=d?typeof e=="string"?e:"/login":typeof e=="string"?e:g,I=`${u?m==null?void 0:m.pathname:p.pathname}`.replace(/(\?.*|#.*)$/,"");if(M){if(u){let P=t?`?to=${encodeURIComponent(I)}`:"";return He.createElement(tc,{to:`${M}${P}`})}return He.createElement(ec,{config:{to:M,query:t?{to:(x=p.params)!=null&&x.to?p.params.to:l({to:I,options:{keepQuery:!0},type:"path"})}:void 0,type:"replace"}})}return null}o(qu,"Authenticated");var ec=o(({config:e})=>{let t=ge();return He.useEffect(()=>{t(e)},[t,e]),null},"Redirect"),tc=o(({to:e})=>{let{replace:t}=ce();return He.useEffect(()=>{t(e)},[t,e]),null},"RedirectLegacy");import{useEffect as rc}from"react";var yo=o(()=>{let{useLocation:e}=te(),{checkAuth:t}=ue(),r=e();return rc(()=>{t==null||t().catch(()=>!1)},[r==null?void 0:r.pathname]),null},"RouteChangeHandler");import Ut,{useEffect as oc}from"react";var nc=o(({resource:e,action:t,params:r,fallback:n,onUnauthorized:s,children:a,queryOptions:i,...c})=>{let{id:d,resource:u,action:p=""}=Ke({resource:e,id:r==null?void 0:r.id}),l=t??p,y=r??{id:d,resource:u},{data:m}=Tr({resource:u==null?void 0:u.name,action:l,params:y,queryOptions:i});return oc(()=>{s&&(m==null?void 0:m.can)===!1&&s({resource:u==null?void 0:u.name,action:l,reason:m==null?void 0:m.reason,params:y})},[m==null?void 0:m.can]),m!=null&&m.can?Ut.isValidElement(a)?Ut.cloneElement(a,c):Ut.createElement(Ut.Fragment,null,a):(m==null?void 0:m.can)===!1?Ut.createElement(Ut.Fragment,null,n??null):null},"CanAccess");import re,{useEffect as sc}from"react";var Is=[`
    .bg-top-announcement {
        border-bottom: 1px solid rgba(71, 235, 235, 0.15);
        background: radial-gradient(
                218.19% 111.8% at 0% 0%,
                rgba(71, 235, 235, 0.1) 0%,
                rgba(71, 235, 235, 0.2) 100%
            ),
            #14141f;
    }
    `,`
    .top-announcement-mask {
        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);
        mask-repeat: repeat;
        -webkit-mask-repeat: repeat;
        background: rgba(71, 235, 235, 0.25);
    }
    `,`
    .banner {
        display: flex;
        @media (max-width: 1000px) {
            display: none;
        }
    }`,`
    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {
        text-decoration: none;
        z-index: 9;
    }
    `,`
    @keyframes top-announcement-glow {
        0% {
            opacity: 1;
        }

        100% {
            opacity: 0;
        }
    }
    `];var ac="If you find Refine useful, you can contribute to its growth by giving it a star on GitHub",ic=o(()=>(sc(()=>{let e=document.createElement("style");document.head.appendChild(e),Is.forEach(t=>{var r;return(r=e.sheet)==null?void 0:r.insertRule(t,e.sheet.cssRules.length)})},[]),re.createElement("div",{className:"banner bg-top-announcement",style:{width:"100%",height:"48px"}},re.createElement("div",{style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"200px",width:"100%",maxWidth:"100vw",height:"100%",borderBottom:"1px solid #47ebeb26"}},re.createElement("div",{className:"top-announcement-mask",style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",borderBottom:"1px solid #47ebeb26"}},re.createElement("div",{style:{position:"relative",width:"960px",height:"100%",display:"flex",justifyContent:"space-between",margin:"0 auto"}},re.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},re.createElement(Lr,{style:{animationDelay:"1.5s",position:"absolute",top:"2px",right:"220px"},id:"1"}),re.createElement(Lr,{style:{animationDelay:"1s",position:"absolute",top:"8px",right:"100px",transform:"rotate(180deg)"},id:"2"}),re.createElement(Ss,{style:{position:"absolute",right:"10px"},id:"3"})),re.createElement("div",{style:{width:"calc(50% - 300px)",height:"100%",position:"relative"}},re.createElement(Lr,{style:{animationDelay:"2s",position:"absolute",top:"6px",right:"180px",transform:"rotate(180deg)"},id:"4"}),re.createElement(Lr,{style:{animationDelay:"0.5s",transitionDelay:"1.3s",position:"absolute",top:"2px",right:"40px"},id:"5"}),re.createElement(Ss,{style:{position:"absolute",right:"-70px"},id:"6"})))),re.createElement(uc,{text:ac})))),"GitHubBanner"),uc=o(({text:e})=>re.createElement("a",{className:"gh-link",href:"https://s.refine.dev/github-support",target:"_blank",rel:"noreferrer",style:{position:"absolute",height:"100%",padding:"0 60px",display:"flex",flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)"}},re.createElement("div",{style:{color:"#fff",display:"flex",flexDirection:"row",gap:"8px"}},re.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"),re.createElement("span",{className:"text",style:{fontSize:"16px",lineHeight:"24px"}},e),re.createElement("span",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"\u2B50\uFE0F"))),"Text"),Lr=o(({style:e,...t})=>re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:80,height:40,fill:"none",style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},re.createElement("circle",{cx:40,r:40,fill:`url(#${t.id}-a)`,fillOpacity:.5}),re.createElement("defs",null,re.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 40 -40 0 40 0)",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#47EBEB"}),re.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowSmall"),Ss=o(({style:e,...t})=>re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:120,height:48,fill:"none",...t,style:{opacity:1,animation:"top-announcement-glow 1s ease-in-out infinite alternate",...e}},re.createElement("circle",{cx:60,cy:24,r:60,fill:`url(#${t.id}-a)`,fillOpacity:.5}),re.createElement("defs",null,re.createElement("radialGradient",{id:`${t.id}-a`,cx:0,cy:0,r:1,gradientTransform:"matrix(0 60 -60 0 60 24)",gradientUnits:"userSpaceOnUse"},re.createElement("stop",{stopColor:"#47EBEB"}),re.createElement("stop",{offset:1,stopColor:"#47EBEB",stopOpacity:0})))),"GlowBig");import Ve from"react";var cc=o(({status:e,elements:{success:t=Ve.createElement(Ur,{key:"autoSave.success",defaultMessage:"saved"}),error:r=Ve.createElement(Ur,{key:"autoSave.error",defaultMessage:"auto save failure"}),loading:n=Ve.createElement(Ur,{key:"autoSave.loading",defaultMessage:"saving..."}),idle:s=Ve.createElement(Ur,{key:"autoSave.idle",defaultMessage:"waiting for changes"})}={}})=>{switch(e){case"success":return Ve.createElement(Ve.Fragment,null,t);case"error":return Ve.createElement(Ve.Fragment,null,r);case"loading":return Ve.createElement(Ve.Fragment,null,n);default:return Ve.createElement(Ve.Fragment,null,s)}},"AutoSaveIndicator"),Ur=o(({key:e,defaultMessage:t})=>{let r=G();return Ve.createElement("span",null,r(e,t))},"Message");export{Xe as AccessControlContext,Su as AuthPage,qu as Authenticated,cc as AutoSaveIndicator,nc as CanAccess,wu as ErrorComponent,ic as GitHubBanner,Qe as I18nContext,Pt as KeyBuilder,Yu as LayoutWrapper,kr as LoginPage,fo as ReadyPage,_u as Refine,it as ResourceContext,yo as RouteChangeHandler,Qe as TranslationContext,Gn as UndoableQueue,Nu as WelcomePage,Go as createTreeView,aa as file2Base64,ir as flattenObjectKeys,_o as generateDefaultDocumentTitle,sa as getDefaultFilter,na as getDefaultSortOrder,rr as getNextPageParam,or as getPreviousPageParam,Ao as handleUseParams,$t as importCSVMapper,Oe as keys,nr as legacyResourceTransform,Ko as matchResourceFromRoute,cr as parseTableParams,oa as parseTableParamsFromQuery,_ as pickDataProvider,S as pickNotDeprecated,Jo as propertyPathToArray,ko as queryKeys,er as routeGenerator,lr as setInitialFilters,mr as setInitialSorters,dr as stringifyTableParams,Rt as unionFilters,pr as unionSorters,J as useActiveAuthProvider,Oa as useApiUrl,Pa as useAuthenticated,uo as useBack,Yb as useBreadcrumb,Tr as useCan,QC as useCanWithoutCache,je as useCancelNotification,xa as useCheckError,SD as useCloneButton,Vt as useCreate,FD as useCreateButton,ro as useCreateMany,ja as useCustom,Ya as useCustomMutation,ne as useDataProvider,to as useDelete,Du as useDeleteButton,Wa as useDeleteMany,ID as useEditButton,HR as useExport,QD as useExportButton,Xr as useForgotPassword,XR as useForm,$r as useGetIdentity,io as useGetLocale,lt as useGetToPath,ge as useGo,pe as useHandleNotification,Gh as useImport,VD as useImportButton,ri as useInfiniteList,Ce as useInvalidate,yr as useIsAuthenticated,Jr as useIsExistAuthentication,O as useKeys,rt as useLink,kt as useList,AD as useListButton,Bn as useLiveMode,ee as useLoadingOvertime,Ne as useLog,Vb as useLogList,At as useLogin,fr as useLogout,qr as useMany,Cu as useMenu,q as useMeta,Oh as useModal,Ae as useMutationMode,ce as useNavigation,we as useNotification,de as useOnError,Qt as useOne,oo as useParse,ae as useParsed,ia as usePermissions,Be as usePublish,_n as useRedirectionAfterSubmission,se as useRefineContext,Ct as useRefineOptions,Uu as useRefreshButton,_r as useRegister,z as useResource,Ke as useResourceParams,at as useResourceSubscription,Qn as useResourceWithRoute,te as useRouterContext,Z as useRouterType,kD as useSaveButton,XC as useSelect,ao as useSetLocale,Fh as useShow,wD as useShowButton,kx as useSubscription,Nr as useSyncWithLocation,cb as useTable,Js as useTitle,nu as useToPath,G as useTranslate,MR as useTranslation,eo as useUpdate,Ka as useUpdateMany,Yr as useUpdatePassword,st as useUserFriendlyName,pt as useWarnAboutChange,Wt as userFriendlyResourceName};
//# sourceMappingURL=index.mjs.map