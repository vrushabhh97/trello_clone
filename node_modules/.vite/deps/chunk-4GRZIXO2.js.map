{
  "version": 3,
  "sources": ["../../stackframe/stackframe.js", "../../error-stack-parser/error-stack-parser.js", "../../use-sync-external-store/cjs/use-sync-external-store-shim.development.js", "../../use-sync-external-store/shim/index.js", "../../es-errors/index.js", "../../es-errors/eval.js", "../../es-errors/range.js", "../../es-errors/ref.js", "../../es-errors/syntax.js", "../../es-errors/type.js", "../../es-errors/uri.js", "../../has-symbols/shams.js", "../../has-symbols/index.js", "../../has-proto/index.js", "../../function-bind/implementation.js", "../../function-bind/index.js", "../../hasown/index.js", "../../get-intrinsic/index.js", "../../es-define-property/index.js", "../../gopd/index.js", "../../define-data-property/index.js", "../../has-property-descriptors/index.js", "../../set-function-length/index.js", "../../call-bind/index.js", "../../call-bind/callBound.js", "../../object-inspect/index.js", "../../side-channel/index.js", "../../qs/lib/formats.js", "../../qs/lib/utils.js", "../../qs/lib/stringify.js", "../../qs/lib/parse.js", "../../qs/lib/index.js", "../../warn-once/index.js", "../../papaparse/papaparse.min.js", "../../@refinedev/core/src/components/pages/error/index.tsx", "../../@refinedev/core/src/hooks/auth/usePermissions/index.ts", "../../@refinedev/core/src/contexts/auth/index.tsx", "../../@refinedev/core/src/definitions/table/index.ts", "../../@refinedev/core/src/definitions/helpers/userFriendlySeconds/index.ts", "../../@refinedev/core/src/definitions/helpers/importCSVMapper/index.ts", "../../@refinedev/core/src/definitions/helpers/userFriendlyResourceName/index.ts", "../../@refinedev/core/src/definitions/helpers/handleUseParams/index.tsx", "../../@refinedev/core/src/definitions/helpers/keys/index.ts", "../../@refinedev/core/src/definitions/helpers/pickNotDeprecated/index.ts", "../../@refinedev/core/src/definitions/helpers/queryKeys/index.ts", "../../@refinedev/core/src/definitions/helpers/hasPermission/index.ts", "../../@refinedev/core/src/definitions/helpers/router/is-parameter.ts", "../../@refinedev/core/src/definitions/helpers/router/split-to-segments.ts", "../../@refinedev/core/src/definitions/helpers/router/is-segment-counts-same.ts", "../../@refinedev/core/src/definitions/helpers/router/remove-leading-trailing-slashes.ts", "../../@refinedev/core/src/definitions/helpers/router/check-by-segments.ts", "../../@refinedev/core/src/definitions/helpers/router/get-default-action-path.ts", "../../@refinedev/core/src/definitions/helpers/router/get-parent-resource.ts", "../../@refinedev/core/src/definitions/helpers/router/get-parent-prefix-for-resource.ts", "../../@refinedev/core/src/definitions/helpers/router/get-action-routes-from-resource.ts", "../../@refinedev/core/src/definitions/helpers/router/pick-matched-route.ts", "../../@refinedev/core/src/definitions/helpers/router/match-resource-from-route.ts", "../../@refinedev/core/src/definitions/helpers/routeGenerator/index.ts", "../../@refinedev/core/src/definitions/helpers/treeView/createTreeView/index.ts", "../../@refinedev/core/src/definitions/helpers/humanizeString/index.ts", "../../@refinedev/core/src/contexts/refine/index.tsx", "../../@refinedev/core/src/components/layoutWrapper/defaultLayout/index.tsx", "../../@refinedev/core/src/definitions/helpers/handleRefineOptions/index.ts", "../../@refinedev/core/src/definitions/helpers/redirectPage/index.ts", "../../@refinedev/core/src/definitions/helpers/sequentialPromises/index.ts", "../../@refinedev/core/src/definitions/helpers/pick-resource/index.ts", "../../@refinedev/core/src/definitions/helpers/pickDataProvider/index.ts", "../../@refinedev/core/src/definitions/helpers/handleMultiple/index.ts", "../../@refinedev/core/src/definitions/helpers/useInfinitePagination/index.ts", "../../@refinedev/core/src/definitions/helpers/legacy-resource-transform/index.ts", "../../@refinedev/core/src/definitions/helpers/router/pick-route-params.ts", "../../@refinedev/core/src/definitions/helpers/router/prepare-route-params.ts", "../../@refinedev/core/src/definitions/helpers/router/compose-route.ts", "../../@refinedev/core/src/definitions/helpers/useActiveAuthProvider/index.ts", "../../@refinedev/core/src/definitions/helpers/handlePaginationParams/index.ts", "../../@refinedev/core/src/definitions/helpers/useMediaQuery/index.ts", "../../@refinedev/core/src/definitions/helpers/safe-translate/index.ts", "../../@refinedev/core/src/definitions/helpers/generateDocumentTitle/index.ts", "../../@refinedev/core/src/hooks/refine/useMutationMode.ts", "../../@refinedev/core/src/hooks/refine/useWarnAboutChange/index.ts", "../../@refinedev/core/src/contexts/unsavedWarn/index.tsx", "../../@refinedev/core/src/hooks/refine/useSyncWithLocation.ts", "../../@refinedev/core/src/hooks/refine/useTitle.tsx", "../../@refinedev/core/src/hooks/refine/useRefineContext.ts", "../../@refinedev/core/src/definitions/helpers/useUserFriendlyName/index.ts", "../../@refinedev/core/src/definitions/helpers/flatten-object-keys/index.ts", "../../@refinedev/core/src/definitions/helpers/property-path-to-array/index.ts", "../../@refinedev/core/src/definitions/helpers/downloadInBrowser/index.ts", "../../@refinedev/core/src/definitions/helpers/defer-execution/index.ts", "../../@refinedev/core/src/definitions/helpers/async-debounce/index.ts", "../../@refinedev/core/src/definitions/helpers/prepare-query-context/index.ts", "../../@refinedev/core/src/definitions/upload/file2Base64/index.ts", "../../@refinedev/core/src/hooks/useKeys/index.tsx", "../../@refinedev/core/src/hooks/auth/useGetIdentity/index.ts", "../../@refinedev/core/src/hooks/auth/useLogout/index.ts", "../../@refinedev/core/src/hooks/auth/useInvalidateAuthStore/index.ts", "../../@refinedev/core/src/hooks/auth/useLogin/index.ts", "../../@refinedev/core/src/hooks/auth/useRegister/index.ts", "../../@refinedev/core/src/hooks/auth/useForgotPassword/index.ts", "../../@refinedev/core/src/hooks/auth/useUpdatePassword/index.ts", "../../@refinedev/core/src/hooks/auth/useIsAuthenticated/index.ts", "../../@refinedev/core/src/hooks/auth/useOnError/index.ts", "../../@refinedev/core/src/hooks/auth/useIsExistAuthentication/index.ts", "../../@refinedev/core/src/hooks/data/useList.ts", "../../@refinedev/core/src/hooks/useLoadingOvertime/index.ts", "../../@refinedev/core/src/hooks/data/useOne.ts", "../../@refinedev/core/src/hooks/data/useMany.ts", "../../@refinedev/core/src/hooks/data/useUpdate.ts", "../../@refinedev/core/src/hooks/data/useCreate.ts", "../../@refinedev/core/src/hooks/data/useDelete.ts", "../../@refinedev/core/src/hooks/data/useCreateMany.ts", "../../@refinedev/core/src/hooks/data/useUpdateMany.ts", "../../@refinedev/core/src/hooks/data/useDeleteMany.ts", "../../@refinedev/core/src/hooks/data/useApiUrl.ts", "../../@refinedev/core/src/hooks/data/useCustom.ts", "../../@refinedev/core/src/hooks/data/useCustomMutation.ts", "../../@refinedev/core/src/hooks/data/useDataProvider.tsx", "../../@refinedev/core/src/contexts/data/index.tsx", "../../@refinedev/core/src/hooks/data/useInfiniteList.ts", "../../@refinedev/core/src/hooks/live/useResourceSubscription/index.ts", "../../@refinedev/core/src/contexts/live/index.tsx", "../../@refinedev/core/src/hooks/invalidate/index.tsx", "../../@refinedev/core/src/hooks/resource/useResource/index.ts", "../../@refinedev/core/src/contexts/resource/index.tsx", "../../@refinedev/core/src/hooks/deepMemo/index.tsx", "../../@refinedev/core/src/hooks/memoized/index.tsx", "../../@refinedev/core/src/contexts/router/picker/index.tsx", "../../@refinedev/core/src/hooks/router/use-parsed/index.tsx", "../../@refinedev/core/src/contexts/router/index.tsx", "../../@refinedev/core/src/hooks/router/use-parse/index.tsx", "../../@refinedev/core/src/hooks/resource/useResourceWithRoute/index.ts", "../../@refinedev/core/src/hooks/live/useLiveMode/index.ts", "../../@refinedev/core/src/hooks/live/useSubscription/index.ts", "../../@refinedev/core/src/hooks/live/usePublish/index.ts", "../../@refinedev/core/src/hooks/notification/useCancelNotification/index.tsx", "../../@refinedev/core/src/contexts/undoableQueue/index.tsx", "../../@refinedev/core/src/hooks/notification/useNotification/index.ts", "../../@refinedev/core/src/contexts/notification/index.tsx", "../../@refinedev/core/src/hooks/notification/useHandleNotification/index.ts", "../../@refinedev/core/src/hooks/i18n/useSetLocale.ts", "../../@refinedev/core/src/contexts/i18n/index.tsx", "../../@refinedev/core/src/hooks/i18n/useTranslate.ts", "../../@refinedev/core/src/hooks/i18n/useGetLocale.ts", "../../@refinedev/core/src/hooks/i18n/useTranslation.tsx", "../../@refinedev/core/src/hooks/export/index.ts", "../../@refinedev/core/src/hooks/form/index.ts", "../../@refinedev/core/src/hooks/redirection/index.ts", "../../@refinedev/core/src/hooks/router/use-back/index.tsx", "../../@refinedev/core/src/hooks/router/use-go/index.tsx", "../../@refinedev/core/src/hooks/router/use-get-to-path/index.ts", "../../@refinedev/core/src/hooks/navigation/index.ts", "../../@refinedev/core/src/hooks/show/index.ts", "../../@refinedev/core/src/hooks/import/index.tsx", "../../@refinedev/core/src/hooks/modal/useModal/index.tsx", "../../@refinedev/core/src/hooks/router/use-to-path/index.ts", "../../@refinedev/core/src/hooks/router/use-link/index.tsx", "../../@refinedev/core/src/hooks/legacy-router/useRouterContext.ts", "../../@refinedev/core/src/contexts/router/legacy/index.tsx", "../../@refinedev/core/src/hooks/accessControl/useCan/index.ts", "../../@refinedev/core/src/contexts/accessControl/index.tsx", "../../@refinedev/core/src/definitions/helpers/sanitize-resource/index.ts", "../../@refinedev/core/src/hooks/accessControl/useCanWithoutCache.ts", "../../@refinedev/core/src/hooks/useSelect/index.ts", "../../@refinedev/core/src/hooks/useTable/index.ts", "../../@refinedev/core/src/hooks/auditLog/useLog/index.ts", "../../@refinedev/core/src/contexts/auditLog/index.tsx", "../../@refinedev/core/src/hooks/auditLog/useLogList/index.ts", "../../@refinedev/core/src/hooks/breadcrumb/index.ts", "../../@refinedev/core/src/hooks/menu/useMenu.tsx", "../../@refinedev/core/src/definitions/helpers/menu/create-resource-key.ts", "../../@refinedev/core/src/definitions/helpers/menu/create-tree.ts", "../../@refinedev/core/src/hooks/useMeta/index.ts", "../../@refinedev/core/src/hooks/use-refine-options/index.tsx", "../../@refinedev/core/src/hooks/use-resource-params/index.ts", "../../@refinedev/core/src/hooks/use-resource-params/use-id/index.tsx", "../../@refinedev/core/src/hooks/use-resource-params/use-action/index.tsx", "../../@refinedev/core/src/hooks/button/actionable-button/index.tsx", "../../@refinedev/core/src/hooks/button/navigation-button/index.tsx", "../../@refinedev/core/src/hooks/button/button-can-access/index.tsx", "../../@refinedev/core/src/hooks/button/delete-button/index.tsx", "../../@refinedev/core/src/hooks/button/refresh-button/index.tsx", "../../@refinedev/core/src/hooks/button/index.tsx", "../../@refinedev/core/src/components/pages/login/index.tsx", "../../@refinedev/core/src/components/pages/auth/index.tsx", "../../@refinedev/core/src/components/pages/auth/components/login/index.tsx", "../../@refinedev/core/src/components/pages/auth/components/register/index.tsx", "../../@refinedev/core/src/components/pages/auth/components/forgotPassword/index.tsx", "../../@refinedev/core/src/components/pages/auth/components/updatePassword/index.tsx", "../../@refinedev/core/src/components/pages/ready/index.tsx", "../../@refinedev/core/src/components/pages/welcome/index.tsx", "../../@refinedev/core/src/components/pages/config-success/index.tsx", "../../@refinedev/core/src/components/pages/config-error/index.tsx", "../../@refinedev/core/src/components/containers/refine/index.tsx", "../../@refinedev/core/src/components/telemetry/index.tsx", "../../@refinedev/core/src/hooks/useTelemetryData/index.ts", "../../@refinedev/core/src/definitions/helpers/check-router-prop-misuse/index.ts", "../../@refinedev/core/src/hooks/router/use-router-misuse-warning/index.ts", "../../@refinedev/core/src/components/undoableQueue/index.tsx", "../../@refinedev/core/src/components/layoutWrapper/index.tsx", "../../@refinedev/core/src/components/authenticated/index.tsx", "../../@refinedev/core/src/components/routeChangeHandler/index.tsx", "../../@refinedev/core/src/components/canAccess/index.tsx", "../../@refinedev/core/src/components/gh-banner/index.tsx", "../../@refinedev/core/src/components/gh-banner/styles.ts", "../../@refinedev/core/src/components/autoSaveIndicator/index.tsx", "../../@refinedev/devtools-internal/src/get-trace.ts", "../../@refinedev/devtools-internal/src/clean-stack.ts", "../../@refinedev/devtools-internal/src/constants.ts", "../../@refinedev/devtools-internal/src/is-refine-stack.ts", "../../@refinedev/devtools-internal/src/get-package-name-from-filename.ts", "../../@refinedev/devtools-internal/src/get-resource-path.ts", "../../@refinedev/devtools-internal/src/get-xray.ts", "../../@refinedev/devtools-internal/src/use-query-subscription.tsx", "../../@refinedev/devtools-internal/src/listeners.ts", "../../@refinedev/devtools-internal/src/create-identifier.ts", "../../@tanstack/query-core/src/subscribable.ts", "../../@tanstack/query-core/src/utils.ts", "../../@tanstack/query-core/src/focusManager.ts", "../../@tanstack/query-core/src/onlineManager.ts", "../../@tanstack/query-core/src/retryer.ts", "../../@tanstack/query-core/src/logger.ts", "../../@tanstack/query-core/src/notifyManager.ts", "../../@tanstack/query-core/src/removable.ts", "../../@tanstack/query-core/src/query.ts", "../../@tanstack/query-core/src/queryCache.ts", "../../@tanstack/query-core/src/mutation.ts", "../../@tanstack/query-core/src/mutationCache.ts", "../../@tanstack/query-core/src/infiniteQueryBehavior.ts", "../../@tanstack/query-core/src/queryClient.ts", "../../@tanstack/query-core/src/queryObserver.ts", "../../@tanstack/query-core/src/infiniteQueryObserver.ts", "../../@tanstack/query-core/src/mutationObserver.ts", "../../@tanstack/react-query/src/reactBatchedUpdates.ts", "../../@tanstack/react-query/src/setBatchUpdatesFn.ts", "../../@tanstack/react-query/src/useSyncExternalStore.ts", "../../@tanstack/react-query/src/QueryClientProvider.tsx", "../../@tanstack/react-query/src/isRestoring.tsx", "../../@tanstack/react-query/src/QueryErrorResetBoundary.tsx", "../../@tanstack/react-query/src/utils.ts", "../../@tanstack/react-query/src/errorBoundaryUtils.ts", "../../@tanstack/react-query/src/suspense.ts", "../../@tanstack/react-query/src/useBaseQuery.ts", "../../@tanstack/react-query/src/useQuery.ts", "../../@tanstack/react-query/src/useMutation.ts", "../../@tanstack/react-query/src/useInfiniteQuery.ts", "../../lodash-es/isFunction.js", "../../lodash-es/_coreJsData.js", "../../lodash-es/_isMasked.js", "../../lodash-es/_toSource.js", "../../lodash-es/_baseIsNative.js", "../../lodash-es/_getValue.js", "../../lodash-es/_getNative.js", "../../lodash-es/_nativeCreate.js", "../../lodash-es/_hashClear.js", "../../lodash-es/_hashDelete.js", "../../lodash-es/_hashGet.js", "../../lodash-es/_hashHas.js", "../../lodash-es/_hashSet.js", "../../lodash-es/_Hash.js", "../../lodash-es/_listCacheClear.js", "../../lodash-es/eq.js", "../../lodash-es/_assocIndexOf.js", "../../lodash-es/_listCacheDelete.js", "../../lodash-es/_listCacheGet.js", "../../lodash-es/_listCacheHas.js", "../../lodash-es/_listCacheSet.js", "../../lodash-es/_ListCache.js", "../../lodash-es/_Map.js", "../../lodash-es/_mapCacheClear.js", "../../lodash-es/_isKeyable.js", "../../lodash-es/_getMapData.js", "../../lodash-es/_mapCacheDelete.js", "../../lodash-es/_mapCacheGet.js", "../../lodash-es/_mapCacheHas.js", "../../lodash-es/_mapCacheSet.js", "../../lodash-es/_MapCache.js", "../../lodash-es/_setCacheAdd.js", "../../lodash-es/_setCacheHas.js", "../../lodash-es/_SetCache.js", "../../lodash-es/_baseFindIndex.js", "../../lodash-es/_baseIsNaN.js", "../../lodash-es/_strictIndexOf.js", "../../lodash-es/_baseIndexOf.js", "../../lodash-es/_arrayIncludes.js", "../../lodash-es/_arrayIncludesWith.js", "../../lodash-es/_arrayMap.js", "../../lodash-es/_baseUnary.js", "../../lodash-es/_cacheHas.js", "../../lodash-es/_baseDifference.js", "../../lodash-es/_arrayPush.js", "../../lodash-es/_baseIsArguments.js", "../../lodash-es/isArguments.js", "../../lodash-es/isArray.js", "../../lodash-es/_isFlattenable.js", "../../lodash-es/_baseFlatten.js", "../../lodash-es/identity.js", "../../lodash-es/_apply.js", "../../lodash-es/_overRest.js", "../../lodash-es/constant.js", "../../lodash-es/_defineProperty.js", "../../lodash-es/_baseSetToString.js", "../../lodash-es/_shortOut.js", "../../lodash-es/_setToString.js", "../../lodash-es/_baseRest.js", "../../lodash-es/isLength.js", "../../lodash-es/isArrayLike.js", "../../lodash-es/isArrayLikeObject.js", "../../lodash-es/last.js", "../../lodash-es/differenceWith.js", "../../lodash-es/_Set.js", "../../lodash-es/noop.js", "../../lodash-es/_setToArray.js", "../../lodash-es/_createSet.js", "../../lodash-es/_baseUniq.js", "../../lodash-es/unionWith.js", "../../lodash-es/fromPairs.js", "../../lodash-es/_arrayFilter.js", "../../lodash-es/_baseProperty.js", "../../lodash-es/_baseTimes.js", "../../lodash-es/unzip.js", "../../lodash-es/zip.js", "../../lodash-es/_stackClear.js", "../../lodash-es/_stackDelete.js", "../../lodash-es/_stackGet.js", "../../lodash-es/_stackHas.js", "../../lodash-es/_stackSet.js", "../../lodash-es/_Stack.js", "../../lodash-es/_arraySome.js", "../../lodash-es/_equalArrays.js", "../../lodash-es/_Uint8Array.js", "../../lodash-es/_mapToArray.js", "../../lodash-es/_equalByTag.js", "../../lodash-es/_baseGetAllKeys.js", "../../lodash-es/stubArray.js", "../../lodash-es/_getSymbols.js", "../../lodash-es/stubFalse.js", "../../lodash-es/isBuffer.js", "../../lodash-es/_isIndex.js", "../../lodash-es/_baseIsTypedArray.js", "../../lodash-es/_nodeUtil.js", "../../lodash-es/isTypedArray.js", "../../lodash-es/_arrayLikeKeys.js", "../../lodash-es/_isPrototype.js", "../../lodash-es/_overArg.js", "../../lodash-es/_nativeKeys.js", "../../lodash-es/_baseKeys.js", "../../lodash-es/keys.js", "../../lodash-es/_getAllKeys.js", "../../lodash-es/_equalObjects.js", "../../lodash-es/_DataView.js", "../../lodash-es/_Promise.js", "../../lodash-es/_WeakMap.js", "../../lodash-es/_getTag.js", "../../lodash-es/_baseIsEqualDeep.js", "../../lodash-es/_baseIsEqual.js", "../../lodash-es/isEqual.js", "../../lodash-es/_baseSlice.js", "../../lodash-es/_isIterateeCall.js", "../../lodash-es/toFinite.js", "../../lodash-es/toInteger.js", "../../lodash-es/chunk.js", "../../lodash-es/_isKey.js", "../../lodash-es/memoize.js", "../../lodash-es/_memoizeCapped.js", "../../lodash-es/_stringToPath.js", "../../lodash-es/_baseToString.js", "../../lodash-es/toString.js", "../../lodash-es/_castPath.js", "../../lodash-es/_toKey.js", "../../lodash-es/_baseGet.js", "../../lodash-es/get.js", "../../lodash-es/_baseIsMatch.js", "../../lodash-es/_isStrictComparable.js", "../../lodash-es/_getMatchData.js", "../../lodash-es/_matchesStrictComparable.js", "../../lodash-es/_baseMatches.js", "../../lodash-es/_baseHasIn.js", "../../lodash-es/_hasPath.js", "../../lodash-es/hasIn.js", "../../lodash-es/_baseMatchesProperty.js", "../../lodash-es/_basePropertyDeep.js", "../../lodash-es/property.js", "../../lodash-es/_baseIteratee.js", "../../lodash-es/uniqBy.js"],
  "sourcesContent": ["(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n    var objectProps = ['evalOrigin'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n", "(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\(.+\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\n                // because this line doesn't have function name\n                var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\n                var functionName = location && sanitizedLine || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n", "/**\n * @license React\n * use-sync-external-store-shim.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = require('react');\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\n// dispatch for CommonJS interop named imports.\n\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useLayoutEffect = React.useLayoutEffect,\n    useDebugValue = React.useDebugValue;\nvar didWarnOld18Alpha = false;\nvar didWarnUncachedGetSnapshot = false; // Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\n\nfunction useSyncExternalStore(subscribe, getSnapshot, // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n// React do not expose a way to check if we're hydrating. So users of the shim\n// will need to track that themselves and return the correct value\n// from `getSnapshot`.\ngetServerSnapshot) {\n  {\n    if (!didWarnOld18Alpha) {\n      if (React.startTransition !== undefined) {\n        didWarnOld18Alpha = true;\n\n        error('You are using an outdated, pre-release alpha of React 18 that ' + 'does not support useSyncExternalStore. The ' + 'use-sync-external-store shim will not work correctly. Upgrade ' + 'to a newer pre-release.');\n      }\n    }\n  } // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n\n\n  var value = getSnapshot();\n\n  {\n    if (!didWarnUncachedGetSnapshot) {\n      var cachedValue = getSnapshot();\n\n      if (!objectIs(value, cachedValue)) {\n        error('The result of getSnapshot should be cached to avoid an infinite loop');\n\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  } // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n\n\n  var _useState = useState({\n    inst: {\n      value: value,\n      getSnapshot: getSnapshot\n    }\n  }),\n      inst = _useState[0].inst,\n      forceUpdate = _useState[1]; // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n\n\n  useLayoutEffect(function () {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot; // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n  }, [subscribe, value, getSnapshot]);\n  useEffect(function () {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n\n    var handleStoreChange = function () {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({\n          inst: inst\n        });\n      }\n    }; // Subscribe to the store and return a clean-up function.\n\n\n    return subscribe(handleStoreChange);\n  }, [subscribe]);\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  var prevValue = inst.value;\n\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n\nfunction useSyncExternalStore$1(subscribe, getSnapshot, getServerSnapshot) {\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  return getSnapshot();\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\n\nvar isServerEnvironment = !canUseDOM;\n\nvar shim = isServerEnvironment ? useSyncExternalStore$1 : useSyncExternalStore;\nvar useSyncExternalStore$2 = React.useSyncExternalStore !== undefined ? React.useSyncExternalStore : shim;\n\nexports.useSyncExternalStore = useSyncExternalStore$2;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n", "'use strict';\n\n/** @type {import('.')} */\nmodule.exports = Error;\n", "'use strict';\n\n/** @type {import('./eval')} */\nmodule.exports = EvalError;\n", "'use strict';\n\n/** @type {import('./range')} */\nmodule.exports = RangeError;\n", "'use strict';\n\n/** @type {import('./ref')} */\nmodule.exports = ReferenceError;\n", "'use strict';\n\n/** @type {import('./syntax')} */\nmodule.exports = SyntaxError;\n", "'use strict';\n\n/** @type {import('./type')} */\nmodule.exports = TypeError;\n", "'use strict';\n\n/** @type {import('./uri')} */\nmodule.exports = URIError;\n", "'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n", "'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n", "'use strict';\n\nvar test = {\n\t__proto__: null,\n\tfoo: {}\n};\n\nvar $Object = Object;\n\n/** @type {import('.')} */\nmodule.exports = function hasProto() {\n\t// @ts-expect-error: TS errors on an inherited property for some reason\n\treturn { __proto__: test }.foo === test.foo\n\t\t&& !(test instanceof $Object);\n};\n", "'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar toStr = Object.prototype.toString;\nvar max = Math.max;\nvar funcType = '[object Function]';\n\nvar concatty = function concatty(a, b) {\n    var arr = [];\n\n    for (var i = 0; i < a.length; i += 1) {\n        arr[i] = a[i];\n    }\n    for (var j = 0; j < b.length; j += 1) {\n        arr[j + a.length] = b[j];\n    }\n\n    return arr;\n};\n\nvar slicy = function slicy(arrLike, offset) {\n    var arr = [];\n    for (var i = offset || 0, j = 0; i < arrLike.length; i += 1, j += 1) {\n        arr[j] = arrLike[i];\n    }\n    return arr;\n};\n\nvar joiny = function (arr, joiner) {\n    var str = '';\n    for (var i = 0; i < arr.length; i += 1) {\n        str += arr[i];\n        if (i + 1 < arr.length) {\n            str += joiner;\n        }\n    }\n    return str;\n};\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.apply(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slicy(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                concatty(args, arguments)\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        }\n        return target.apply(\n            that,\n            concatty(args, arguments)\n        );\n\n    };\n\n    var boundLength = max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs[i] = '$' + i;\n    }\n\n    bound = Function('binder', 'return function (' + joiny(boundArgs, ',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n", "'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n", "'use strict';\n\nvar call = Function.prototype.call;\nvar $hasOwn = Object.prototype.hasOwnProperty;\nvar bind = require('function-bind');\n\n/** @type {import('.')} */\nmodule.exports = bind.call(call, $hasOwn);\n", "'use strict';\n\nvar undefined;\n\nvar $Error = require('es-errors');\nvar $EvalError = require('es-errors/eval');\nvar $RangeError = require('es-errors/range');\nvar $ReferenceError = require('es-errors/ref');\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\nvar $URIError = require('es-errors/uri');\n\nvar $Function = Function;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\nvar hasProto = require('has-proto')();\n\nvar getProto = Object.getPrototypeOf || (\n\thasProto\n\t\t? function (x) { return x.__proto__; } // eslint-disable-line no-proto\n\t\t: null\n);\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' || !getProto ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t__proto__: null,\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols && getProto ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%BigInt64Array%': typeof BigInt64Array === 'undefined' ? undefined : BigInt64Array,\n\t'%BigUint64Array%': typeof BigUint64Array === 'undefined' ? undefined : BigUint64Array,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': $Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': $EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols && getProto ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': $RangeError,\n\t'%ReferenceError%': $ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols || !getProto ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols && getProto ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': $URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nif (getProto) {\n\ttry {\n\t\tnull.error; // eslint-disable-line no-unused-expressions\n\t} catch (e) {\n\t\t// https://github.com/tc39/proposal-shadowrealm/pull/384#issuecomment-1364264229\n\t\tvar errorProto = getProto(getProto(e));\n\t\tINTRINSICS['%Error.prototype%'] = errorProto;\n\t}\n}\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen && getProto) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t__proto__: null,\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('hasown');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\n/** @type {import('.')} */\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true) || false;\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = false;\n\t}\n}\n\nmodule.exports = $defineProperty;\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\n\nif ($gOPD) {\n\ttry {\n\t\t$gOPD([], 'length');\n\t} catch (e) {\n\t\t// IE 8 has a broken gOPD\n\t\t$gOPD = null;\n\t}\n}\n\nmodule.exports = $gOPD;\n", "'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar $SyntaxError = require('es-errors/syntax');\nvar $TypeError = require('es-errors/type');\n\nvar gopd = require('gopd');\n\n/** @type {import('.')} */\nmodule.exports = function defineDataProperty(\n\tobj,\n\tproperty,\n\tvalue\n) {\n\tif (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n\t\tthrow new $TypeError('`obj` must be an object or a function`');\n\t}\n\tif (typeof property !== 'string' && typeof property !== 'symbol') {\n\t\tthrow new $TypeError('`property` must be a string or a symbol`');\n\t}\n\tif (arguments.length > 3 && typeof arguments[3] !== 'boolean' && arguments[3] !== null) {\n\t\tthrow new $TypeError('`nonEnumerable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 4 && typeof arguments[4] !== 'boolean' && arguments[4] !== null) {\n\t\tthrow new $TypeError('`nonWritable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 5 && typeof arguments[5] !== 'boolean' && arguments[5] !== null) {\n\t\tthrow new $TypeError('`nonConfigurable`, if provided, must be a boolean or null');\n\t}\n\tif (arguments.length > 6 && typeof arguments[6] !== 'boolean') {\n\t\tthrow new $TypeError('`loose`, if provided, must be a boolean');\n\t}\n\n\tvar nonEnumerable = arguments.length > 3 ? arguments[3] : null;\n\tvar nonWritable = arguments.length > 4 ? arguments[4] : null;\n\tvar nonConfigurable = arguments.length > 5 ? arguments[5] : null;\n\tvar loose = arguments.length > 6 ? arguments[6] : false;\n\n\t/* @type {false | TypedPropertyDescriptor<unknown>} */\n\tvar desc = !!gopd && gopd(obj, property);\n\n\tif ($defineProperty) {\n\t\t$defineProperty(obj, property, {\n\t\t\tconfigurable: nonConfigurable === null && desc ? desc.configurable : !nonConfigurable,\n\t\t\tenumerable: nonEnumerable === null && desc ? desc.enumerable : !nonEnumerable,\n\t\t\tvalue: value,\n\t\t\twritable: nonWritable === null && desc ? desc.writable : !nonWritable\n\t\t});\n\t} else if (loose || (!nonEnumerable && !nonWritable && !nonConfigurable)) {\n\t\t// must fall back to [[Set]], and was not explicitly asked to make non-enumerable, non-writable, or non-configurable\n\t\tobj[property] = value; // eslint-disable-line no-param-reassign\n\t} else {\n\t\tthrow new $SyntaxError('This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.');\n\t}\n};\n", "'use strict';\n\nvar $defineProperty = require('es-define-property');\n\nvar hasPropertyDescriptors = function hasPropertyDescriptors() {\n\treturn !!$defineProperty;\n};\n\nhasPropertyDescriptors.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {\n\t// node v0.6 has a bug where array lengths can be Set but not Defined\n\tif (!$defineProperty) {\n\t\treturn null;\n\t}\n\ttry {\n\t\treturn $defineProperty([], 'length', { value: 1 }).length !== 1;\n\t} catch (e) {\n\t\t// In Firefox 4-22, defining length on an array throws an exception.\n\t\treturn true;\n\t}\n};\n\nmodule.exports = hasPropertyDescriptors;\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar define = require('define-data-property');\nvar hasDescriptors = require('has-property-descriptors')();\nvar gOPD = require('gopd');\n\nvar $TypeError = require('es-errors/type');\nvar $floor = GetIntrinsic('%Math.floor%');\n\n/** @type {import('.')} */\nmodule.exports = function setFunctionLength(fn, length) {\n\tif (typeof fn !== 'function') {\n\t\tthrow new $TypeError('`fn` is not a function');\n\t}\n\tif (typeof length !== 'number' || length < 0 || length > 0xFFFFFFFF || $floor(length) !== length) {\n\t\tthrow new $TypeError('`length` must be a positive 32-bit integer');\n\t}\n\n\tvar loose = arguments.length > 2 && !!arguments[2];\n\n\tvar functionLengthIsConfigurable = true;\n\tvar functionLengthIsWritable = true;\n\tif ('length' in fn && gOPD) {\n\t\tvar desc = gOPD(fn, 'length');\n\t\tif (desc && !desc.configurable) {\n\t\t\tfunctionLengthIsConfigurable = false;\n\t\t}\n\t\tif (desc && !desc.writable) {\n\t\t\tfunctionLengthIsWritable = false;\n\t\t}\n\t}\n\n\tif (functionLengthIsConfigurable || functionLengthIsWritable || !loose) {\n\t\tif (hasDescriptors) {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length, true, true);\n\t\t} else {\n\t\t\tdefine(/** @type {Parameters<define>[0]} */ (fn), 'length', length);\n\t\t}\n\t}\n\treturn fn;\n};\n", "'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\nvar setFunctionLength = require('set-function-length');\n\nvar $TypeError = require('es-errors/type');\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $defineProperty = require('es-define-property');\nvar $max = GetIntrinsic('%Math.max%');\n\nmodule.exports = function callBind(originalFunction) {\n\tif (typeof originalFunction !== 'function') {\n\t\tthrow new $TypeError('a function is required');\n\t}\n\tvar func = $reflectApply(bind, $call, arguments);\n\treturn setFunctionLength(\n\t\tfunc,\n\t\t1 + $max(0, originalFunction.length - (arguments.length - 1)),\n\t\ttrue\n\t);\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n", "var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        if (mapForEach) {\n            mapForEach.call(obj, function (value, key) {\n                mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n            });\n        }\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        if (setForEach) {\n            setForEach.call(obj, function (value) {\n                setParts.push(inspect(value, obj));\n            });\n        }\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    // note: in IE 8, sometimes `global !== window` but both are the prototypes of each other\n    /* eslint-env browser */\n    if (typeof window !== 'undefined' && obj === window) {\n        return '{ [object Window] }';\n    }\n    if (obj === global) {\n        return '{ [object globalThis] }';\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n", "'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = require('es-errors/type');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n* This function traverses the list returning the node corresponding to the given key.\n*\n* That node is also moved to the head of the list, so that if it's accessed again we don't need to traverse the whole list. By doing so, all the recently used nodes can be accessed relatively quickly.\n*/\n/** @type {import('.').listGetNode} */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\t/** @type {typeof list | NonNullable<(typeof list)['next']>} */\n\tvar prev = list;\n\t/** @type {(typeof list)['next']} */\n\tvar curr;\n\tfor (; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\t// eslint-disable-next-line no-extra-parens\n\t\t\tcurr.next = /** @type {NonNullable<typeof list.next>} */ (list.next);\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\n/** @type {import('.').listGet} */\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\n/** @type {import('.').listSet} */\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = /** @type {import('.').ListNode<typeof value>} */ ({ // eslint-disable-line no-param-reassign, no-extra-parens\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t});\n\t}\n};\n/** @type {import('.').listHas} */\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\n/** @type {import('.')} */\nmodule.exports = function getSideChannel() {\n\t/** @type {WeakMap<object, unknown>} */ var $wm;\n\t/** @type {Map<object, unknown>} */ var $m;\n\t/** @type {import('.').RootNode<unknown>} */ var $o;\n\n\t/** @type {import('.').Channel} */\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t// Initialize the linked list as an empty node, so that we don't have to special-case handling of the first node: we can always refer to it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n", "'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n", "'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar limit = 1024;\n\n/* eslint operator-linebreak: [2, \"before\"] */\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var j = 0; j < string.length; j += limit) {\n        var segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        var arr = [];\n\n        for (var i = 0; i < segment.length; ++i) {\n            var c = segment.charCodeAt(i);\n            if (\n                c === 0x2D // -\n                || c === 0x2E // .\n                || c === 0x5F // _\n                || c === 0x7E // ~\n                || (c >= 0x30 && c <= 0x39) // 0-9\n                || (c >= 0x41 && c <= 0x5A) // a-z\n                || (c >= 0x61 && c <= 0x7A) // A-Z\n                || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n\n            if (c < 0x80) {\n                arr[arr.length] = hexTable[c];\n                continue;\n            }\n\n            if (c < 0x800) {\n                arr[arr.length] = hexTable[0xC0 | (c >> 6)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            if (c < 0xD800 || c >= 0xE000) {\n                arr[arr.length] = hexTable[0xE0 | (c >> 12)]\n                    + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                    + hexTable[0x80 | (c & 0x3F)];\n                continue;\n            }\n\n            i += 1;\n            c = 0x10000 + (((c & 0x3FF) << 10) | (segment.charCodeAt(i) & 0x3FF));\n\n            arr[arr.length] = hexTable[0xF0 | (c >> 18)]\n                + hexTable[0x80 | ((c >> 12) & 0x3F)]\n                + hexTable[0x80 | ((c >> 6) & 0x3F)]\n                + hexTable[0x80 | (c & 0x3F)];\n        }\n\n        out += arr.join('');\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n", "'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    allowEmptyArrays,\n    strictNullHandling,\n    skipNulls,\n    encodeDotInKeys,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            obj = utils.maybeMap(obj, encoder);\n        }\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var encodedPrefix = encodeDotInKeys ? prefix.replace(/\\./g, '%2E') : prefix;\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? encodedPrefix + '[]' : encodedPrefix;\n\n    if (allowEmptyArrays && isArray(obj) && obj.length === 0) {\n        return adjustedPrefix + '[]';\n    }\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var encodedKey = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, encodedKey) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + encodedKey : '[' + encodedKey + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            allowEmptyArrays,\n            strictNullHandling,\n            skipNulls,\n            encodeDotInKeys,\n            generateArrayPrefix === 'comma' && encodeValuesOnly && isArray(obj) ? null : encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    var arrayFormat;\n    if (opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = defaults.arrayFormat;\n    }\n\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.encodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[options.arrayFormat];\n    var commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.allowEmptyArrays,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encodeDotInKeys,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n", "'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowEmptyArrays: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decodeDotInKeys: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    duplicates: 'combine',\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = { __proto__: null };\n\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        var existing = has.call(obj, key);\n        if (existing && options.duplicates === 'combine') {\n            obj[key] = utils.combine(obj[key], val);\n        } else if (!existing || options.duplicates === 'last') {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = options.allowEmptyArrays && leaf === '' ? [] : [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var decodedRoot = options.decodeDotInKeys ? cleanRoot.replace(/%2E/g, '.') : cleanRoot;\n            var index = parseInt(decodedRoot, 10);\n            if (!options.parseArrays && decodedRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== decodedRoot\n                && String(index) === decodedRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (decodedRoot !== '__proto__') {\n                obj[decodedRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n\n    if (typeof opts.decodeDotInKeys !== 'undefined' && typeof opts.decodeDotInKeys !== 'boolean') {\n        throw new TypeError('`decodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n\n    if (opts.decoder !== null && typeof opts.decoder !== 'undefined' && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    var duplicates = typeof opts.duplicates === 'undefined' ? defaults.duplicates : opts.duplicates;\n\n    if (duplicates !== 'combine' && duplicates !== 'first' && duplicates !== 'last') {\n        throw new TypeError('The duplicates option must be either combine, first, or last');\n    }\n\n    var allowDots = typeof opts.allowDots === 'undefined' ? opts.decodeDotInKeys === true ? true : defaults.allowDots : !!opts.allowDots;\n\n    return {\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decodeDotInKeys: typeof opts.decodeDotInKeys === 'boolean' ? opts.decodeDotInKeys : defaults.decodeDotInKeys,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        duplicates: duplicates,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n", "'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n", "const DEV = process.env.NODE_ENV !== \"production\";\n\nconst warnings = new Set();\n\nfunction warnOnce(condition, ...rest) {\n  if (DEV && condition) {\n    const key = rest.join(\" \");\n\n    if (warnings.has(key)) {\n      return;\n    }\n\n    warnings.add(key);\n    console.warn(...rest);\n  }\n}\n\nmodule.exports = warnOnce;\n", "/* @license\nPapa Parse\nv5.4.1\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=f.IS_PAPA_WORKER||!1,a={},u=0,b={parse:function(e,t){var r=(t=t||{}).dynamicTyping||!1;J(r)&&(t.dynamicTypingFunction=r,r={});if(t.dynamicTyping=r,t.transform=!!J(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var i=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(r=f.URL||f.webkitURL||null,i=s.toString(),b.BLOB_URL||(b.BLOB_URL=r.createObjectURL(new Blob([\"var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; \",\"(\",i,\")();\"],{type:\"text/javascript\"})))),t=new f.Worker(e);var r,i;return t.onmessage=_,t.id=u++,a[t.id]=t}();return i.userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=J(t.step),t.chunk=J(t.chunk),t.complete=J(t.complete),t.error=J(t.error),delete t.worker,void i.postMessage({input:e,config:t,workerId:i.id})}var n=null;b.NODE_STREAM_INPUT,\"string\"==typeof e?(e=function(e){if(65279===e.charCodeAt(0))return e.slice(1);return e}(e),n=t.download?new l(t):new p(t)):!0===e.readable&&J(e.read)&&J(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,r=!1,i=null,o=!1;!function(){if(\"object\"!=typeof t)return;\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(r=t.skipEmptyLines);\"string\"==typeof t.newline&&(y=t.newline);\"string\"==typeof t.quoteChar&&(s=t.quoteChar);\"boolean\"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");i=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s);(\"boolean\"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(o=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\\-@\\t\\r].*$/)}();var u=new RegExp(Q(s),\"g\");\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,r);if(\"object\"==typeof e[0])return h(i||Object.keys(e[0]),e,r)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||i),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],r);throw new Error(\"Unable to serialize unrecognized input\");function h(e,t,r){var i=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(i+=m),i+=v(e[a],a);0<t.length&&(i+=y)}for(var o=0;o<t.length;o++){var u=n?e.length:t[o].length,h=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(r&&!n&&(h=\"greedy\"===r?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===r&&n){for(var d=[],l=0;l<u;l++){var c=s?e[l]:l;d.push(t[o][c])}h=\"\"===d.join(\"\").trim()}if(!h){for(var p=0;p<u;p++){0<p&&!f&&(i+=m);var g=n&&s?e[p]:p;i+=v(t[o][g],p)}o<t.length-1&&(!r||0<u&&!f)&&(i+=y)}}return i}function v(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,r=!0);var i=e.toString().replace(u,a);return(r=r||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return!0;return!1}(i,b.BAD_DELIMITERS)||-1<i.indexOf(m)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1))?s+i+s:i}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=E,b.ParserHandle=r,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var r=o.config||{},u=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)u.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},r)})}),e(),this;function e(){if(0!==u.length){var e,t,r,i,n=u[0];if(J(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,r=n.inputElem,i=s.reason,void(J(o.error)&&o.error({name:e},t,r,i));if(\"skip\"===s.action)return void h();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void h()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){J(a)&&a(e,n.file,n.inputElem),h()},b.parse(n.file,n.instanceConfig)}else J(o.complete)&&o.complete()}function h(){u.splice(0,1),e()}}}function h(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new r(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&J(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=i.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(J(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!J(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){J(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var i;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),h.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),n||(i.onload=v(this._chunkLoaded,this),i.onerror=v(this._chunkError,this)),i.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)i.setRequestHeader(t,e[t])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;i.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+r)}try{i.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===i.status&&this._chunkError()}},this._chunkLoaded=function(){4===i.readyState&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(i),this.parseChunk(i.responseText)))},this._chunkError=function(e){var t=i.statusText||e;this._sendError(new Error(t))}}function c(e){var i,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),h.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((i=new FileReader).onload=v(this._chunkLoaded,this),i.onerror=v(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var r=i.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(i.error)}}function p(e){var r;h.call(this,e=e||{}),this.stream=function(e){return r=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=r.substring(0,t),r=r.substring(t)):(e=r,r=\"\"),this._finished=!r,this.parseChunk(e)}}}function g(e){h.call(this,e=e||{});var t=[],r=!0,i=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=v(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=v(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=v(function(){this._streamCleanUp(),i=!0,this._streamData(\"\")},this),this._streamCleanUp=v(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function r(m){var a,o,u,i=Math.pow(2,53),n=-i,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,h=/^((\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)))$/,t=this,r=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(J(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;r+=e.data.length,m.preview&&r>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){return c&&u&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),u=!1),m.skipEmptyLines&&(c.data=c.data.filter(function(e){return!y(e)})),_()&&function(){if(!c)return;function e(e,t){J(m.transformHeader)&&(e=m.transformHeader(e,t)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var r,i=m.header?{}:[];for(r=0;r<e.length;r++){var n=r,s=e[r];m.header&&(n=r>=l.length?\"__parsed_extra\":l[r]),m.transform&&(s=m.transform(s,n)),s=v(n,s),\"__parsed_extra\"===n?(i[n]=i[n]||[],i[n].push(s)):i[n]=s}return m.header&&(r>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+r,f+t):r<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+r,f+t)),i}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function v(e,t){return r=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[r]&&(m.dynamicTyping[r]=m.dynamicTypingFunction(r)),!0===(m.dynamicTyping[r]||m.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<i)return!0}return!1}(t)?parseFloat(t):h.test(t)?new Date(t):\"\"===t?null:t):t;var r}function k(e,t,r,i){var n={type:e,code:t,message:r};void 0!==i&&(n.row=i),c.errors.push(n)}this.parse=function(e,t,r){var i=m.quoteChar||'\"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var r=new RegExp(Q(t)+\"([^]*?)\"+Q(t),\"gm\"),i=(e=e.replace(r,\"\")).split(\"\\r\"),n=e.split(\"\\n\"),s=1<n.length&&n[0].length<i[0].length;if(1===i.length||s)return\"\\n\";for(var a=0,o=0;o<i.length;o++)\"\\n\"===i[o][0]&&a++;return a>=i.length/2?\"\\r\\n\":\"\\r\"}(e,i)),u=!1,m.delimiter)J(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,r,i,n){var s,a,o,u;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var h=0;h<n.length;h++){var f=n[h],d=0,l=0,c=0;o=void 0;for(var p=new E({comments:i,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(r&&y(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===u||u<l)&&1.99<l&&(a=d,s=f,u=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(u=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=w(m);return m.preview&&m.header&&s.preview++,a=e,o=new E(s),c=o.parse(a,t,r),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=J(m.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,J(m.complete)&&m.complete(c),a=\"\"}}function Q(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(j){var z,M=(j=j||{}).delimiter,P=j.newline,U=j.comments,q=j.step,N=j.preview,B=j.fastMode,K=z=void 0===j.quoteChar||null===j.quoteChar?'\"':j.quoteChar;if(void 0!==j.escapeChar&&(K=j.escapeChar),(\"string\"!=typeof M||-1<b.BAD_DELIMITERS.indexOf(M))&&(M=\",\"),U===M)throw new Error(\"Comment character same as delimiter\");!0===U?U=\"#\":(\"string\"!=typeof U||-1<b.BAD_DELIMITERS.indexOf(U))&&(U=!1),\"\\n\"!==P&&\"\\r\"!==P&&\"\\r\\n\"!==P&&(P=\"\\n\");var W=0,H=!1;this.parse=function(i,t,r){if(\"string\"!=typeof i)throw new Error(\"Input must be a string\");var n=i.length,e=M.length,s=P.length,a=U.length,o=J(q),u=[],h=[],f=[],d=W=0;if(!i)return L();if(j.header&&!t){var l=i.split(P)[0].split(M),c=[],p={},g=!1;for(var _ in l){var m=l[_];J(j.transformHeader)&&(m=j.transformHeader(m,_));var y=m,v=p[m]||0;for(0<v&&(g=!0,y=m+\"_\"+v),p[m]=v+1;c.includes(y);)y=y+\"_\"+v;c.push(y)}if(g){var k=i.split(P);k[0]=c.join(M),i=k.join(P)}}if(B||!1!==B&&-1===i.indexOf(z)){for(var b=i.split(P),E=0;E<b.length;E++){if(f=b[E],W+=f.length,E!==b.length-1)W+=P.length;else if(r)return L();if(!U||f.substring(0,a)!==U){if(o){if(u=[],I(f.split(M)),F(),H)return L()}else I(f.split(M));if(N&&N<=E)return u=u.slice(0,N),L(!0)}}return L()}for(var w=i.indexOf(M,W),R=i.indexOf(P,W),C=new RegExp(Q(K)+Q(z),\"g\"),S=i.indexOf(z,W);;)if(i[W]!==z)if(U&&0===f.length&&i.substring(W,W+a)===U){if(-1===R)return L();W=R+s,R=i.indexOf(P,W),w=i.indexOf(M,W)}else if(-1!==w&&(w<R||-1===R))f.push(i.substring(W,w)),W=w+e,w=i.indexOf(M,W);else{if(-1===R)break;if(f.push(i.substring(W,R)),D(R+s),o&&(F(),H))return L();if(N&&u.length>=N)return L(!0)}else for(S=W,W++;;){if(-1===(S=i.indexOf(z,S+1)))return r||h.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:u.length,index:W}),T();if(S===n-1)return T(i.substring(W,S).replace(C,z));if(z!==K||i[S+1]!==K){if(z===K||0===S||i[S-1]!==K){-1!==w&&w<S+1&&(w=i.indexOf(M,S+1)),-1!==R&&R<S+1&&(R=i.indexOf(P,S+1));var O=A(-1===R?w:Math.min(w,R));if(i.substr(S+1+O,e)===M){f.push(i.substring(W,S).replace(C,z)),i[W=S+1+O+e]!==z&&(S=i.indexOf(z,W)),w=i.indexOf(M,W),R=i.indexOf(P,W);break}var x=A(R);if(i.substring(S+1+x,S+1+x+s)===P){if(f.push(i.substring(W,S).replace(C,z)),D(S+1+x+s),w=i.indexOf(M,W),S=i.indexOf(z,W),o&&(F(),H))return L();if(N&&u.length>=N)return L(!0);break}h.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:u.length,index:W}),S++}}else S++}return T();function I(e){u.push(e),d=W}function A(e){var t=0;if(-1!==e){var r=i.substring(S+1,e);r&&\"\"===r.trim()&&(t=r.length)}return t}function T(e){return r||(void 0===e&&(e=i.substring(W)),f.push(e),W=n,I(f),o&&F()),L()}function D(e){W=e,I(f),f=[],R=i.indexOf(P,W)}function L(e){return{data:u,errors:h,meta:{delimiter:M,linebreak:P,aborted:H,truncated:!!e,cursor:d+(t||0)}}}function F(){q(L()),u=[],h=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return W}}function _(e){var t=e.data,r=a[t.workerId],i=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){i=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(J(r.userStep)){for(var s=0;s<t.results.data.length&&(r.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!i);s++);delete t.results}else J(r.userChunk)&&(r.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!i&&m(t.workerId,t.results)}function m(e,t){var r=a[e];J(r.userComplete)&&r.userComplete(t),r.terminate(),delete a[e]}function y(){throw new Error(\"Not implemented.\")}function w(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=w(e[r]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function J(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if(\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var r=b.parse(t.input,t.config);r&&f.postMessage({workerId:b.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(h.prototype)).constructor=l,(c.prototype=Object.create(h.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(h.prototype)).constructor=g,b});", "import React, { useEffect, useState } from \"react\";\n\nimport {\n  useNavigation,\n  useTranslate,\n  useResource,\n  useGo,\n  useRouterType,\n} from \"@hooks\";\n\n/**\n * When the app is navigated to a non-existent route, refine shows a default error page.\n * A custom error component can be used for this error page.\n *\n * @see {@link https://refine.dev/docs/packages/documentation/routers/} for more details.\n */\nexport const ErrorComponent: React.FC = () => {\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const translate = useTranslate();\n  const { push } = useNavigation();\n  const go = useGo();\n  const routerType = useRouterType();\n\n  const { resource, action } = useResource();\n\n  useEffect(() => {\n    if (resource && action) {\n      setErrorMessage(\n        translate(\n          \"pages.error.info\",\n          {\n            action: action,\n            resource: resource.name,\n          },\n          `You may have forgotten to add the \"${action}\" component to \"${resource.name}\" resource.`,\n        ),\n      );\n    }\n  }, [resource, action]);\n\n  return (\n    <>\n      <h1>\n        {translate(\n          \"pages.error.404\",\n          undefined,\n          \"Sorry, the page you visited does not exist.\",\n        )}\n      </h1>\n      {errorMessage && <p>{errorMessage}</p>}\n      <button\n        onClick={() => {\n          if (routerType === \"legacy\") {\n            push(\"/\");\n          } else {\n            go({ to: \"/\" });\n          }\n        }}\n      >\n        {translate(\"pages.error.backHome\", undefined, \"Back Home\")}\n      </button>\n    </>\n  );\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseQueryOptions,\n  UseQueryResult,\n  useQuery,\n} from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nimport { PermissionResponse } from \"../../../contexts/auth/types\";\n\nexport type UsePermissionsLegacyProps<\n  TData = any,\n  TParams extends Record<string, any> = Record<string, any>,\n> = {\n  v3LegacyAuthProviderCompatible: true;\n  options?: UseQueryOptions<TData>;\n  params?: TParams;\n};\n\nexport type UsePermissionsProps<\n  TData = PermissionResponse,\n  TParams extends Record<string, any> = Record<string, any>,\n> = {\n  v3LegacyAuthProviderCompatible?: false;\n  options?: UseQueryOptions<TData>;\n  params?: TParams;\n};\n\nexport type UsePermissionsCombinedProps<\n  TData = any,\n  TParams extends Record<string, any> = Record<string, any>,\n> = {\n  v3LegacyAuthProviderCompatible: boolean;\n  options?: UseQueryOptions<TData> | UseQueryOptions<PermissionResponse>;\n  params?: TParams;\n};\n\nexport type UsePermissionsLegacyReturnType<TData = any> = UseQueryResult<\n  TData,\n  unknown\n>;\n\nexport type UsePermissionsReturnType<TData = PermissionResponse> =\n  UseQueryResult<TData, unknown>;\n\nexport type UsePermissionsCombinedReturnType<TData = any> =\n  | UseQueryResult<TData, unknown>\n  | UseQueryResult<PermissionResponse, unknown>;\n\nexport function usePermissions<\n  TData = any,\n  TParams extends Record<string, any> = Record<string, any>,\n>(\n  props: UsePermissionsLegacyProps<TData, TParams>,\n): UsePermissionsLegacyReturnType<TData>;\n\nexport function usePermissions<\n  TData = PermissionResponse,\n  TParams extends Record<string, any> = Record<string, any>,\n>(props?: UsePermissionsProps<TData, TParams>): UsePermissionsReturnType<TData>;\n\nexport function usePermissions<\n  TData = any,\n  TParams extends Record<string, any> = Record<string, any>,\n>(\n  props?: UsePermissionsCombinedProps<TData, TParams>,\n): UsePermissionsCombinedReturnType<TData>;\n\n/**\n * `usePermissions` calls the `getPermissions` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/usePermissions} for more details.\n *\n * @typeParam TData - Result data of the query\n *\n * @typeParam TParams - Params will be passed to the `getPermissions` method of {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`}.\n *\n */\nexport function usePermissions<\n  TData = any,\n  TParams extends Record<string, any> = Record<string, any>,\n>({\n  v3LegacyAuthProviderCompatible = false,\n  options,\n  params,\n}:\n  | UsePermissionsProps<TData, TParams>\n  | UsePermissionsLegacyProps<TData, TParams> = {}):\n  | UsePermissionsReturnType\n  | UsePermissionsLegacyReturnType<TData> {\n  const { getPermissions: legacyGetPermission } = useLegacyAuthContext();\n  const { getPermissions } = useAuthBindingsContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const queryResponse = useQuery<TData>({\n    queryKey: keys().auth().action(\"permissions\").get(preferLegacyKeys),\n    // Enabled check for `getPermissions` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n    queryFn: (getPermissions\n      ? () => getPermissions(params)\n      : () => Promise.resolve(undefined)) as (\n      params?: unknown,\n    ) => Promise<TData>,\n    enabled: !v3LegacyAuthProviderCompatible && !!getPermissions,\n    ...(v3LegacyAuthProviderCompatible ? {} : options),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible ? {} : options?.meta),\n      ...getXRay(\"usePermissions\", preferLegacyKeys),\n    },\n  });\n\n  const legacyQueryResponse = useQuery<TData>({\n    queryKey: [\n      ...keys().auth().action(\"permissions\").get(preferLegacyKeys),\n      \"v3LegacyAuthProviderCompatible\",\n    ],\n    // Enabled check for `getPermissions` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n    queryFn: (legacyGetPermission\n      ? () => legacyGetPermission(params)\n      : () => Promise.resolve(undefined)) as (\n      params?: unknown,\n    ) => Promise<TData>,\n    enabled: v3LegacyAuthProviderCompatible && !!legacyGetPermission,\n    ...(v3LegacyAuthProviderCompatible ? options : {}),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible ? options?.meta : {}),\n      ...getXRay(\"usePermissions\", preferLegacyKeys),\n    },\n  });\n\n  return v3LegacyAuthProviderCompatible ? legacyQueryResponse : queryResponse;\n}\n", "import React, { PropsWithChildren } from \"react\";\n\nimport { useNavigation } from \"@hooks\";\n\nimport { IAuthContext, ILegacyAuthContext } from \"./types\";\n\n/**\n * @deprecated `LegacyAuthContext` is deprecated with refine@4, use `AuthBindingsContext` instead, however, we still support `LegacyAuthContext` for backward compatibility.\n */\nexport const LegacyAuthContext = React.createContext<ILegacyAuthContext>({});\n\n/**\n * @deprecated `LegacyAuthContextProvider` is deprecated with refine@4, use `AuthBindingsContextProvider` instead, however, we still support `LegacyAuthContextProvider` for backward compatibility.\n */\nexport const LegacyAuthContextProvider: React.FC<\n  PropsWithChildren<ILegacyAuthContext>\n> = ({ children, isProvided, ...authOperations }) => {\n  const { replace } = useNavigation();\n\n  const loginFunc = async (params: any) => {\n    try {\n      const result = await authOperations.login?.(params);\n\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  const registerFunc = async (params: any) => {\n    try {\n      const result = await authOperations.register?.(params);\n\n      return result;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  const logoutFunc = async (params: any) => {\n    try {\n      const redirectPath = await authOperations.logout?.(params);\n\n      return redirectPath;\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  const checkAuthFunc = async (params: any) => {\n    try {\n      await authOperations.checkAuth?.(params);\n      return Promise.resolve();\n    } catch (error) {\n      if ((error as { redirectPath?: string })?.redirectPath) {\n        replace((error as { redirectPath: string }).redirectPath);\n      }\n\n      return Promise.reject(error);\n    }\n  };\n\n  return (\n    <LegacyAuthContext.Provider\n      value={{\n        ...authOperations,\n        login: loginFunc,\n        logout: logoutFunc,\n        checkAuth: checkAuthFunc,\n        register: registerFunc,\n        isProvided,\n      }}\n    >\n      {children}\n    </LegacyAuthContext.Provider>\n  );\n};\n\nexport const AuthBindingsContext = React.createContext<Partial<IAuthContext>>(\n  {},\n);\n\nexport const AuthBindingsContextProvider: React.FC<\n  PropsWithChildren<IAuthContext>\n> = ({ children, isProvided, ...authBindings }) => {\n  const handleLogin = async (params: unknown) => {\n    try {\n      const result = await authBindings.login?.(params);\n\n      return result;\n    } catch (error) {\n      console.warn(\n        \"Unhandled Error in login: refine always expects a resolved promise.\",\n        error,\n      );\n      return Promise.reject(error);\n    }\n  };\n\n  const handleRegister = async (params: unknown) => {\n    try {\n      const result = await authBindings.register?.(params);\n\n      return result;\n    } catch (error) {\n      console.warn(\n        \"Unhandled Error in register: refine always expects a resolved promise.\",\n        error,\n      );\n      return Promise.reject(error);\n    }\n  };\n\n  const handleLogout = async (params: unknown) => {\n    try {\n      const result = await authBindings.logout?.(params);\n\n      return result;\n    } catch (error) {\n      console.warn(\n        \"Unhandled Error in logout: refine always expects a resolved promise.\",\n        error,\n      );\n      return Promise.reject(error);\n    }\n  };\n\n  const handleCheck = async (params: unknown) => {\n    try {\n      const result = await authBindings.check?.(params);\n\n      return Promise.resolve(result);\n    } catch (error) {\n      console.warn(\n        \"Unhandled Error in check: refine always expects a resolved promise.\",\n        error,\n      );\n      return Promise.reject(error);\n    }\n  };\n\n  const handleForgotPassword = async (params: unknown) => {\n    try {\n      const result = await authBindings.forgotPassword?.(params);\n\n      return Promise.resolve(result);\n    } catch (error) {\n      console.warn(\n        \"Unhandled Error in forgotPassword: refine always expects a resolved promise.\",\n        error,\n      );\n      return Promise.reject(error);\n    }\n  };\n\n  const handleUpdatePassword = async (params: unknown) => {\n    try {\n      const result = await authBindings.updatePassword?.(params);\n      return Promise.resolve(result);\n    } catch (error) {\n      console.warn(\n        \"Unhandled Error in updatePassword: refine always expects a resolved promise.\",\n        error,\n      );\n      return Promise.reject(error);\n    }\n  };\n\n  return (\n    <AuthBindingsContext.Provider\n      value={{\n        ...authBindings,\n        login: handleLogin as IAuthContext[\"login\"],\n        logout: handleLogout as IAuthContext[\"logout\"],\n        check: handleCheck as IAuthContext[\"check\"],\n        register: handleRegister as IAuthContext[\"register\"],\n        forgotPassword: handleForgotPassword as IAuthContext[\"forgotPassword\"],\n        updatePassword: handleUpdatePassword as IAuthContext[\"updatePassword\"],\n        isProvided,\n      }}\n    >\n      {children}\n    </AuthBindingsContext.Provider>\n  );\n};\n\n/**\n * @deprecated `useLegacyAuthContext` is deprecated with refine@4, use `useAuthBindingsContext` instead, however, we still support `useLegacyAuthContext` for backward compatibility.\n */\nexport const useLegacyAuthContext = () => {\n  const context = React.useContext(LegacyAuthContext);\n\n  return context;\n};\n\nexport const useAuthBindingsContext = () => {\n  const context = React.useContext(AuthBindingsContext);\n\n  return context;\n};\n", "import differenceWith from \"lodash-es/differenceWith.js\";\nimport unionWith from \"lodash-es/unionWith.js\";\nimport qs, { IStringifyOptions } from \"qs\";\nimport warnOnce from \"warn-once\";\n\nimport { pickNotDeprecated } from \"@definitions/helpers\";\n\nimport {\n  CrudFilter,\n  CrudOperators,\n  CrudSort,\n  SortOrder,\n} from \"../../contexts/data/types\";\n\nexport const parseTableParams = (url: string) => {\n  const { current, pageSize, sorter, sorters, filters } = qs.parse(\n    url.substring(1), // remove first ? character\n  );\n\n  return {\n    parsedCurrent: current && Number(current),\n    parsedPageSize: pageSize && Number(pageSize),\n    parsedSorter: (pickNotDeprecated(sorters, sorter) as CrudSort[]) ?? [],\n    parsedFilters: (filters as CrudFilter[]) ?? [],\n  };\n};\n\nexport const parseTableParamsFromQuery = (params: any) => {\n  const url = qs.stringify(params);\n  return parseTableParams(`/${url}`);\n};\n\n/**\n * @internal This function is used to stringify table params from the useTable hook.\n */\nexport const stringifyTableParams = (params: {\n  pagination?: { current?: number; pageSize?: number };\n  sorters: CrudSort[];\n  filters: CrudFilter[];\n  [key: string]: any;\n}): string => {\n  const options: IStringifyOptions = {\n    skipNulls: true,\n    arrayFormat: \"indices\",\n    encode: false,\n  };\n  const { pagination, sorter, sorters, filters, ...rest } = params;\n\n  const queryString = qs.stringify(\n    {\n      ...rest,\n      ...(pagination ? pagination : {}),\n      sorters: pickNotDeprecated(sorters, sorter),\n      filters,\n    },\n    options,\n  );\n\n  return queryString;\n};\n\nexport const compareFilters = (\n  left: CrudFilter,\n  right: CrudFilter,\n): boolean => {\n  if (\n    left.operator !== \"and\" &&\n    left.operator !== \"or\" &&\n    right.operator !== \"and\" &&\n    right.operator !== \"or\"\n  ) {\n    return (\n      (\"field\" in left ? left.field : undefined) ===\n        (\"field\" in right ? right.field : undefined) &&\n      left.operator === right.operator\n    );\n  }\n\n  return (\n    (\"key\" in left ? left.key : undefined) ===\n      (\"key\" in right ? right.key : undefined) &&\n    left.operator === right.operator\n  );\n};\n\nexport const compareSorters = (left: CrudSort, right: CrudSort): boolean =>\n  left.field === right.field;\n// Keep only one CrudFilter per type according to compareFilters\n// Items in the array that is passed first to unionWith have higher priority\n// CrudFilter items with undefined values are necessary to signify no filter\n// After union, don't keep CrudFilter items with undefined value in the result\n// Items in the arrays with higher priority are put at the end.\nexport const unionFilters = (\n  permanentFilter: CrudFilter[],\n  newFilters: CrudFilter[],\n  prevFilters: CrudFilter[] = [],\n): CrudFilter[] => {\n  const isKeyRequired = newFilters.filter(\n    (f) => (f.operator === \"or\" || f.operator === \"and\") && !f.key,\n  );\n\n  if (isKeyRequired.length > 1) {\n    warnOnce(\n      true,\n      \"[conditionalFilters]: You have created multiple Conditional Filters at the top level, this requires the key parameter. \\nFor more information, see https://refine.dev/docs/advanced-tutorials/data-provider/handling-filters/#top-level-multiple-conditional-filters-usage\",\n    );\n  }\n\n  return unionWith(\n    permanentFilter,\n    newFilters,\n    prevFilters,\n    compareFilters,\n  ).filter(\n    (crudFilter) =>\n      crudFilter.value !== undefined &&\n      crudFilter.value !== null &&\n      (crudFilter.operator !== \"or\" ||\n        (crudFilter.operator === \"or\" && crudFilter.value.length !== 0)) &&\n      (crudFilter.operator !== \"and\" ||\n        (crudFilter.operator === \"and\" && crudFilter.value.length !== 0)),\n  );\n};\n\nexport const unionSorters = (\n  permanentSorter: CrudSort[],\n  newSorters: CrudSort[],\n): CrudSort[] =>\n  unionWith(permanentSorter, newSorters, compareSorters).filter(\n    (crudSorter) => crudSorter.order !== undefined && crudSorter.order !== null,\n  );\n// Prioritize filters in the permanentFilter and put it at the end of result array\nexport const setInitialFilters = (\n  permanentFilter: CrudFilter[],\n  defaultFilter: CrudFilter[],\n): CrudFilter[] => [\n  ...differenceWith(defaultFilter, permanentFilter, compareFilters),\n  ...permanentFilter,\n];\n\nexport const setInitialSorters = (\n  permanentSorter: CrudSort[],\n  defaultSorter: CrudSort[],\n): CrudSort[] => [\n  ...differenceWith(defaultSorter, permanentSorter, compareSorters),\n  ...permanentSorter,\n];\n\nexport const getDefaultSortOrder = (\n  columnName: string,\n  sorter?: CrudSort[],\n): SortOrder | undefined => {\n  if (!sorter) {\n    return undefined;\n  }\n\n  const sortItem = sorter.find((item) => item.field === columnName);\n\n  if (sortItem) {\n    return sortItem.order as SortOrder;\n  }\n\n  return undefined;\n};\n\nexport const getDefaultFilter = (\n  columnName: string,\n  filters?: CrudFilter[],\n  operatorType: CrudOperators = \"eq\",\n): CrudFilter[\"value\"] | undefined => {\n  const filter = filters?.find((filter) => {\n    if (\n      filter.operator !== \"or\" &&\n      filter.operator !== \"and\" &&\n      \"field\" in filter\n    ) {\n      const { operator, field } = filter;\n      return field === columnName && operator === operatorType;\n    }\n    return undefined;\n  });\n\n  if (filter) {\n    return filter.value || [];\n  }\n\n  return undefined;\n};\n", "export const userFriendlySecond = (miliseconds: number): number => {\n  return miliseconds / 1000; //convert to seconds\n};\n", "import fromPairs from \"lodash-es/fromPairs.js\";\nimport zip from \"lodash-es/zip.js\";\n\nimport { MapDataFn } from \"../../../hooks/export/types\";\n\nexport const importCSVMapper = <TItem = any, TVariables = any>(\n  data: any[][],\n  mapData: MapDataFn<TItem, TVariables> = (item) => item as any,\n): TVariables[] => {\n  const [headers, ...body] = data;\n  return body\n    .map((entry) => fromPairs(zip(headers, entry)))\n    .map((item: any, index, array: any) =>\n      mapData.call(undefined, item, index, array),\n    );\n};\n", "import pluralize from \"pluralize\";\nimport { humanizeString } from \"@definitions\";\n\n/**\n * A method that the internal uses\n * @internal\n * @deprecated use `useUserFriendlyName` instead.\n */\nexport const userFriendlyResourceName = (\n  resource = \"\",\n  type: \"singular\" | \"plural\",\n): string => {\n  const humanizeResource = humanizeString(resource);\n  if (type === \"singular\") {\n    return pluralize.singular(humanizeResource);\n  }\n  return pluralize.plural(humanizeResource);\n};\n", "export const handleUseParams = (params: any = {}): any => {\n  if (params?.id) {\n    return {\n      ...params,\n      id: decodeURIComponent(params.id),\n    };\n  }\n  return params;\n};\n", "import { BaseKey } from \"../../../contexts/data/types\";\n\ntype ParametrizedDataActions = \"list\" | \"infinite\";\ntype IdRequiredDataActions = \"one\";\ntype IdsRequiredDataActions = \"many\";\ntype DataMutationActions =\n  | \"custom\"\n  | \"customMutation\"\n  | \"create\"\n  | \"createMany\"\n  | \"update\"\n  | \"updateMany\"\n  | \"delete\"\n  | \"deleteMany\";\n\ntype AuthActionType =\n  | \"login\"\n  | \"logout\"\n  | \"identity\"\n  | \"register\"\n  | \"forgotPassword\"\n  | \"check\"\n  | \"onError\"\n  | \"permissions\"\n  | \"updatePassword\";\n\ntype AuditActionType = \"list\" | \"log\" | \"rename\";\n\ntype IdType = BaseKey;\ntype IdsType = IdType[];\n\ntype ParamsType = any;\n\ntype KeySegment = string | IdType | IdsType | ParamsType;\n\nexport function arrayFindIndex<T>(array: T[], slice: T[]): number {\n  return array.findIndex(\n    (item, index) =>\n      index <= array.length - slice.length &&\n      slice.every(\n        (sliceItem, sliceIndex) => array[index + sliceIndex] === sliceItem,\n      ),\n  );\n}\n\nexport function arrayReplace<T>(\n  array: T[],\n  partToBeReplaced: T[],\n  newPart: T[],\n): T[] {\n  const newArray: T[] = [...array];\n  const startIndex = arrayFindIndex(array, partToBeReplaced);\n\n  if (startIndex !== -1) {\n    newArray.splice(startIndex, partToBeReplaced.length, ...newPart);\n  }\n\n  return newArray;\n}\n\nexport function stripUndefined(segments: KeySegment[]) {\n  return segments.filter((segment) => segment !== undefined);\n}\n\nfunction convertToLegacy(segments: KeySegment[]) {\n  // for `list`, `many` and `one`\n  if (segments[0] === \"data\") {\n    // [data, dpName, resource, action, ...];\n    const newSegments = segments.slice(1);\n\n    if (newSegments[2] === \"many\") {\n      newSegments[2] = \"getMany\";\n    } else if (newSegments[2] === \"infinite\") {\n      newSegments[2] = \"list\";\n    } else if (newSegments[2] === \"one\") {\n      newSegments[2] = \"detail\";\n    } else if (newSegments[1] === \"custom\") {\n      const newParams = {\n        ...newSegments[2],\n      };\n      delete newParams.method;\n      delete newParams.url;\n\n      return [\n        newSegments[0],\n        newSegments[1],\n        newSegments[2].method,\n        newSegments[2].url,\n        newParams,\n      ];\n    }\n\n    return newSegments;\n  }\n  // for `audit` -> `logList`\n  if (segments[0] === \"audit\") {\n    // [audit, resource, action, params] (for log and list)\n    // or\n    // [audit, action, params] (for rename)\n    if (segments[2] === \"list\") {\n      return [\"logList\", segments[1], segments[3]];\n    }\n  }\n  // for `access` -> `useCan`\n  if (segments[0] === \"access\") {\n    // [access, resource, action, params]\n    if (segments.length === 4) {\n      return [\n        \"useCan\",\n        {\n          resource: segments[1],\n          action: segments[2],\n          ...segments[3], // params: { params, enabled }\n        },\n      ];\n    }\n  }\n  // for `auth`\n  if (segments[0] === \"auth\") {\n    if (arrayFindIndex(segments, [\"auth\", \"login\"]) !== -1) {\n      return [\"useLogin\"];\n    }\n    if (arrayFindIndex(segments, [\"auth\", \"logout\"]) !== -1) {\n      return [\"useLogout\"];\n    }\n    if (arrayFindIndex(segments, [\"auth\", \"identity\"]) !== -1) {\n      return [\"getUserIdentity\"];\n    }\n    if (arrayFindIndex(segments, [\"auth\", \"register\"]) !== -1) {\n      return [\"useRegister\"];\n    }\n    if (arrayFindIndex(segments, [\"auth\", \"forgotPassword\"]) !== -1) {\n      return [\"useForgotPassword\"];\n    }\n    if (arrayFindIndex(segments, [\"auth\", \"check\"]) !== -1) {\n      return [\"useAuthenticated\", segments[2]]; // [auth, check, params]\n    }\n    if (arrayFindIndex(segments, [\"auth\", \"onError\"]) !== -1) {\n      return [\"useCheckError\"];\n    }\n    if (arrayFindIndex(segments, [\"auth\", \"permissions\"]) !== -1) {\n      return [\"usePermissions\"];\n    }\n    if (arrayFindIndex(segments, [\"auth\", \"updatePassword\"]) !== -1) {\n      return [\"useUpdatePassword\"];\n    }\n  }\n  return segments;\n}\n\nclass BaseKeyBuilder {\n  segments: KeySegment[] = [];\n\n  constructor(segments: KeySegment[] = []) {\n    this.segments = segments;\n  }\n\n  key() {\n    return this.segments;\n  }\n\n  legacy() {\n    return convertToLegacy(this.segments);\n  }\n\n  get(legacy?: boolean) {\n    return legacy ? this.legacy() : this.segments;\n  }\n}\n\nclass ParamsKeyBuilder extends BaseKeyBuilder {\n  params(paramsValue?: ParamsType) {\n    return new BaseKeyBuilder([...this.segments, paramsValue]);\n  }\n}\n\nclass DataIdRequiringKeyBuilder extends BaseKeyBuilder {\n  id(idValue?: IdType) {\n    return new ParamsKeyBuilder([\n      ...this.segments,\n      idValue ? String(idValue) : undefined,\n    ]);\n  }\n}\n\nclass DataIdsRequiringKeyBuilder extends BaseKeyBuilder {\n  ids(...idsValue: IdsType) {\n    return new ParamsKeyBuilder([\n      ...this.segments,\n      ...(idsValue.length ? [idsValue.map((el) => String(el))] : []),\n    ]);\n  }\n}\n\nclass DataResourceKeyBuilder extends BaseKeyBuilder {\n  action(actionType: ParametrizedDataActions): ParamsKeyBuilder;\n  action(actionType: IdRequiredDataActions): DataIdRequiringKeyBuilder;\n  action(actionType: IdsRequiredDataActions): DataIdsRequiringKeyBuilder;\n  action(\n    actionType:\n      | ParametrizedDataActions\n      | IdRequiredDataActions\n      | IdsRequiredDataActions,\n  ): ParamsKeyBuilder | DataIdRequiringKeyBuilder | DataIdsRequiringKeyBuilder {\n    if (actionType === \"one\") {\n      return new DataIdRequiringKeyBuilder([...this.segments, actionType]);\n    }\n    if (actionType === \"many\") {\n      return new DataIdsRequiringKeyBuilder([...this.segments, actionType]);\n    }\n    if ([\"list\", \"infinite\"].includes(actionType)) {\n      return new ParamsKeyBuilder([...this.segments, actionType]);\n    }\n    throw new Error(\"Invalid action type\");\n  }\n}\n\nclass DataKeyBuilder extends BaseKeyBuilder {\n  resource(resourceName?: string) {\n    return new DataResourceKeyBuilder([...this.segments, resourceName]);\n  }\n\n  mutation(mutationName: DataMutationActions) {\n    return new ParamsKeyBuilder([\n      ...(mutationName === \"custom\" ? this.segments : [this.segments[0]]),\n      mutationName,\n    ]);\n  }\n}\n\nclass AuthKeyBuilder extends BaseKeyBuilder {\n  action(actionType: AuthActionType) {\n    return new ParamsKeyBuilder([...this.segments, actionType]);\n  }\n}\n\nclass AccessResourceKeyBuilder extends BaseKeyBuilder {\n  action(resourceName: string) {\n    return new ParamsKeyBuilder([...this.segments, resourceName]);\n  }\n}\n\nclass AccessKeyBuilder extends BaseKeyBuilder {\n  resource(resourceName?: string) {\n    return new AccessResourceKeyBuilder([...this.segments, resourceName]);\n  }\n}\n\nclass AuditActionKeyBuilder extends BaseKeyBuilder {\n  action(actionType: Extract<AuditActionType, \"list\">) {\n    return new ParamsKeyBuilder([...this.segments, actionType]);\n  }\n}\n\nclass AuditKeyBuilder extends BaseKeyBuilder {\n  resource(resourceName?: string) {\n    return new AuditActionKeyBuilder([...this.segments, resourceName]);\n  }\n\n  action(actionType: Extract<AuditActionType, \"rename\" | \"log\">) {\n    return new ParamsKeyBuilder([...this.segments, actionType]);\n  }\n}\n\nexport class KeyBuilder extends BaseKeyBuilder {\n  data(name?: string) {\n    return new DataKeyBuilder([\"data\", name || \"default\"]);\n  }\n\n  auth() {\n    return new AuthKeyBuilder([\"auth\"]);\n  }\n\n  access() {\n    return new AccessKeyBuilder([\"access\"]);\n  }\n\n  audit() {\n    return new AuditKeyBuilder([\"audit\"]);\n  }\n}\n\nexport const keys = () => new KeyBuilder([]);\n", "/*\n * Returns first value that is not undefined.\n * @internal This is an internal helper function. Please do not use externally.\n */\nexport const pickNotDeprecated = <T extends unknown[]>(\n  ...args: T\n): T[never] => {\n  return args.find((arg) => typeof arg !== \"undefined\");\n};\n", "import { QueryKey } from \"@tanstack/react-query\";\n\nimport { IQueryKeys, MetaQuery } from \"../../../contexts/data/types\";\nimport { keys as newKeys } from \"../keys\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\n/**\n * @deprecated `queryKeys` is deprecated. Please use `keys` instead.\n */\nexport const queryKeys = (\n  resource?: string,\n  dataProviderName?: string,\n  meta?: MetaQuery,\n  /**\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery | undefined,\n): IQueryKeys => {\n  const providerName = dataProviderName || \"default\";\n  const keys: IQueryKeys = {\n    all: [providerName],\n    resourceAll: [providerName, resource || \"\"],\n    list: (config) => [\n      ...keys.resourceAll,\n      \"list\",\n      {\n        ...config,\n        ...(pickNotDeprecated(meta, metaData) || {}),\n      } as QueryKey,\n    ],\n    many: (ids) =>\n      [\n        ...keys.resourceAll,\n        \"getMany\",\n        ids?.map(String) as QueryKey,\n        { ...(pickNotDeprecated(meta, metaData) || {}) } as QueryKey,\n      ].filter((item) => item !== undefined),\n    detail: (id) => [\n      ...keys.resourceAll,\n      \"detail\",\n      id?.toString(),\n      { ...(pickNotDeprecated(meta, metaData) || {}) } as QueryKey,\n    ],\n    logList: (meta) =>\n      [\"logList\", resource, meta as any, metaData as QueryKey].filter(\n        (item) => item !== undefined,\n      ),\n  };\n  return keys;\n};\n\nexport const queryKeysReplacement = (preferLegacyKeys?: boolean) => {\n  return (\n    resource?: string,\n    dataProviderName?: string,\n    meta?: MetaQuery,\n    /**\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery | undefined,\n  ): IQueryKeys => {\n    const providerName = dataProviderName || \"default\";\n\n    const keys: IQueryKeys = {\n      all: newKeys().data(providerName).get(preferLegacyKeys),\n      resourceAll: newKeys()\n        .data(dataProviderName)\n        .resource(resource ?? \"\")\n        .get(preferLegacyKeys),\n      list: (config) =>\n        newKeys()\n          .data(dataProviderName)\n          .resource(resource ?? \"\")\n          .action(\"list\")\n          .params({\n            ...config,\n            ...(pickNotDeprecated(meta, metaData) || {}),\n          })\n          .get(preferLegacyKeys),\n      many: (ids) =>\n        newKeys()\n          .data(dataProviderName)\n          .resource(resource ?? \"\")\n          .action(\"many\")\n          .ids(...(ids ?? []))\n          .params({\n            ...(pickNotDeprecated(meta, metaData) || {}),\n          })\n          .get(preferLegacyKeys),\n      detail: (id) =>\n        newKeys()\n          .data(dataProviderName)\n          .resource(resource ?? \"\")\n          .action(\"one\")\n          .id(id ?? \"\")\n          .params({\n            ...(pickNotDeprecated(meta, metaData) || {}),\n          })\n          .get(preferLegacyKeys),\n      logList: (meta) =>\n        [\n          ...newKeys()\n            .audit()\n            .resource(resource)\n            .action(\"list\")\n            .params(meta)\n            .get(preferLegacyKeys),\n          metaData as QueryKey,\n        ].filter((item) => item !== undefined),\n    };\n\n    return keys;\n  };\n};\n", "export const hasPermission = (\n  permissions: string[] | undefined,\n  action: string | undefined,\n): boolean => {\n  if (!permissions || !action) {\n    return false;\n  }\n  return !!permissions.find((i) => i === action);\n};\n", "/**\n * Check if a segment is a parameter. (e.g. :id)\n */\nexport const isParameter = (segment: string) => {\n  return segment.startsWith(\":\");\n};\n", "/**\n * Split a path to segments.\n */\nexport const splitToSegments = (path: string) => {\n  const segments = path.split(\"/\").filter((segment) => segment !== \"\");\n  return segments;\n};\n", "import { splitToSegments } from \"./split-to-segments\";\n\n/**\n * Checks if the both routes have the same number of segments.\n */\nexport const isSegmentCountsSame = (route: string, resourceRoute: string) => {\n  const routeSegments = splitToSegments(route);\n  const resourceRouteSegments = splitToSegments(resourceRoute);\n\n  return routeSegments.length === resourceRouteSegments.length;\n};\n", "/**\n * Remove leading and trailing slashes from a route.\n */\nexport const removeLeadingTrailingSlashes = (route: string) => {\n  return route.replace(/^\\/|\\/$/g, \"\");\n};\n", "import { isParameter } from \"./is-parameter\";\nimport { isSegmentCountsSame } from \"./is-segment-counts-same\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\nimport { splitToSegments } from \"./split-to-segments\";\n\n/**\n * This function if the route and resourceRoute match by segments.\n * - First, trailing and leading slashes are removed\n * - Then, the route and resourceRoute are split to segments and checked if they have the same number of segments\n * - Then, each segment is checked if it is a parameter or if it matches the resourceRoute segment\n * - If all segments match, the function returns true, otherwise false\n */\nexport const checkBySegments = (route: string, resourceRoute: string) => {\n  const stdRoute = removeLeadingTrailingSlashes(route);\n  const stdResourceRoute = removeLeadingTrailingSlashes(resourceRoute);\n  // we need to check if the route and resourceRoute have the same number of segments\n  // if not, we can't match them\n  if (!isSegmentCountsSame(stdRoute, stdResourceRoute)) {\n    return false;\n  }\n\n  const routeSegments = splitToSegments(stdRoute);\n  const resourceRouteSegments = splitToSegments(stdResourceRoute);\n\n  return resourceRouteSegments.every((segment, index) => {\n    return isParameter(segment) || segment === routeSegments[index];\n  });\n};\n", "import { Action } from \"../../../contexts/router/types\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\n\n/**\n * This helper function returns the default path for a given action and resource.\n * It also applies the parentPrefix if provided.\n * This is used by the legacy router and the new router if the resource doesn't provide a custom path.\n */\nexport const getDefaultActionPath = (\n  resourceName: string,\n  action: Action,\n  parentPrefix?: string,\n): string => {\n  const cleanParentPrefix = removeLeadingTrailingSlashes(parentPrefix || \"\");\n\n  let path = `${cleanParentPrefix}${\n    cleanParentPrefix ? \"/\" : \"\"\n  }${resourceName}`;\n\n  if (action === \"list\") {\n    path = `${path}`;\n  } else if (action === \"create\") {\n    path = `${path}/create`;\n  } else if (action === \"edit\") {\n    path = `${path}/edit/:id`;\n  } else if (action === \"show\") {\n    path = `${path}/show/:id`;\n  } else if (action === \"clone\") {\n    path = `${path}/clone/:id`;\n  }\n\n  return `/${path.replace(/^\\//, \"\")}`;\n};\n", "import { IResourceItem } from \"../../../contexts/resource/types\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\n/**\n * Returns the parent resource of the given resource.\n * Works both with the deprecated `parentName` and the new `parent` property.\n */\nexport const getParentResource = (\n  resource: IResourceItem,\n  resources: IResourceItem[],\n): IResourceItem | undefined => {\n  const parentName = pickNotDeprecated(\n    resource.meta?.parent,\n    resource.options?.parent,\n    resource.parentName,\n  );\n\n  if (!parentName) {\n    return undefined;\n  }\n\n  const parentResource = resources.find(\n    (resource) => (resource.identifier ?? resource.name) === parentName,\n  );\n\n  /**\n   * If the parent resource is not found, we return a resource object with the name of the parent resource.\n   * Because we still want to have nesting and prefixing for the resource even if the parent is not explicitly defined.\n   */\n  return parentResource ?? { name: parentName };\n};\n", "import { ResourceProps } from \"../../../contexts/resource/types\";\nimport { getParentResource } from \"./get-parent-resource\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\n\n/**\n * Returns the parent prefix for a resource\n * - If `legacy` is provided, the computation is based on the `route` option of the resource\n */\nexport const getParentPrefixForResource = (\n  resource: ResourceProps,\n  resources: ResourceProps[],\n  /**\n   * Uses legacy route if true (`options.route`)\n   */\n  legacy?: boolean,\n): string | undefined => {\n  const parents: ResourceProps[] = [];\n\n  let parent = getParentResource(resource, resources);\n\n  while (parent) {\n    parents.push(parent);\n    parent = getParentResource(parent, resources);\n  }\n\n  if (parents.length === 0) {\n    return undefined;\n  }\n\n  return `/${parents\n    .reverse()\n    .map((parent) => {\n      const v = legacy ? parent.options?.route ?? parent.name : parent.name;\n      return removeLeadingTrailingSlashes(v);\n    })\n    .join(\"/\")}`;\n};\n", "import { IResourceItem } from \"../../../contexts/resource/types\";\nimport { Action } from \"../../../contexts/router/types\";\nimport { getDefaultActionPath } from \"./get-default-action-path\";\nimport { getParentPrefixForResource } from \"./get-parent-prefix-for-resource\";\n\nexport type ResourceActionRoute = {\n  action: Action;\n  resource: IResourceItem;\n  route: string;\n};\n\n/**\n * This function returns all the routes for available actions for a resource.\n * - If the action is a function, it means we're fallbacking to default path for the action\n * - If the action is a string, it means we don't have the component, but we have the route\n * - If the action is an object, it means we have the component and the route\n * - It will return an array of objects with the action, the resource and the route\n */\nexport const getActionRoutesFromResource = (\n  resource: IResourceItem,\n  resources: IResourceItem[],\n  /**\n   * Uses legacy route if true (`options.route`)\n   */\n  legacy?: boolean,\n) => {\n  const actions: ResourceActionRoute[] = [];\n\n  const actionList: Action[] = [\"list\", \"show\", \"edit\", \"create\", \"clone\"];\n\n  const parentPrefix = getParentPrefixForResource(resource, resources, legacy);\n\n  actionList.forEach((action) => {\n    const item =\n      legacy && action === \"clone\" ? resource.create : resource[action];\n\n    let route: string | undefined = undefined;\n\n    if (typeof item === \"function\" || legacy) {\n      // means we're fallbacking to default path for the action\n      route = getDefaultActionPath(\n        legacy\n          ? resource.meta?.route ?? resource.options?.route ?? resource.name\n          : resource.name,\n        action,\n        legacy ? parentPrefix : undefined,\n      );\n    } else if (typeof item === \"string\") {\n      // means we don't have the component, but we have the route\n      route = item;\n    } else if (typeof item === \"object\") {\n      // means we have the component and the route\n      route = item.path;\n    }\n\n    if (route) {\n      actions.push({\n        action,\n        resource,\n        route: `/${route.replace(/^\\//, \"\")}`,\n      });\n    }\n  });\n\n  return actions;\n};\n", "import { ResourceActionRoute } from \"./get-action-routes-from-resource\";\nimport { isParameter } from \"./is-parameter\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\nimport { splitToSegments } from \"./split-to-segments\";\n\n/**\n * Picks the most eligible route from the given matched routes.\n * - If there's only one route, it returns it.\n * - If there's more than one route, it picks the best non-greedy match.\n */\nexport const pickMatchedRoute = (\n  routes: ResourceActionRoute[],\n): ResourceActionRoute | undefined => {\n  // these routes are all matched, we should pick the least parametrized one\n\n  // no routes, no match\n  if (routes.length === 0) {\n    return undefined;\n  }\n\n  // no need to calculate the route segments if there's only one route\n  if (routes.length === 1) {\n    return routes[0];\n  }\n\n  // remove trailing and leading slashes\n  // split them to segments\n  const sanitizedRoutes = routes.map((route) => ({\n    ...route,\n    splitted: splitToSegments(removeLeadingTrailingSlashes(route.route)),\n  }));\n\n  // at this point, before calling this function, we already checked for segment lenghts and expect all of them to be the same\n  const segmentsCount = sanitizedRoutes[0]?.splitted.length ?? 0;\n\n  let eligibleRoutes: Array<(typeof sanitizedRoutes)[number]> = [\n    ...sanitizedRoutes,\n  ];\n\n  // loop through the segments\n  for (let i = 0; i < segmentsCount; i++) {\n    const nonParametrizedRoutes = eligibleRoutes.filter(\n      (route) => !isParameter(route.splitted[i]),\n    );\n\n    if (nonParametrizedRoutes.length === 0) {\n      // keep the eligible routes as they are\n      continue;\n    }\n    if (nonParametrizedRoutes.length === 1) {\n      // no need to continue, we found the route\n      eligibleRoutes = nonParametrizedRoutes;\n      break;\n    }\n\n    // we have more than one non-parametrized route, we need to check the next segment\n    eligibleRoutes = nonParametrizedRoutes;\n  }\n\n  return eligibleRoutes[0];\n};\n", "import { IResourceItem } from \"../../../contexts/resource/types\";\nimport { Action } from \"../../../contexts/router/types\";\nimport { checkBySegments } from \"./check-by-segments\";\nimport { getActionRoutesFromResource } from \"./get-action-routes-from-resource\";\nimport { pickMatchedRoute } from \"./pick-matched-route\";\n\n/**\n * Match the resource from the route\n * - It will calculate all possible routes for resources and their actions\n * - It will check if the route matches any of the possible routes\n * - It will return the most eligible resource and action\n */\nexport const matchResourceFromRoute = (\n  route: string,\n  resources: IResourceItem[],\n): {\n  found: boolean;\n  resource?: IResourceItem;\n  action?: Action;\n  matchedRoute?: string;\n} => {\n  const allActionRoutes = resources.flatMap((resource) => {\n    return getActionRoutesFromResource(resource, resources);\n  });\n\n  const allFound = allActionRoutes.filter((actionRoute) => {\n    return checkBySegments(route, actionRoute.route);\n  });\n\n  const mostEligible = pickMatchedRoute(allFound);\n\n  return {\n    found: !!mostEligible,\n    resource: mostEligible?.resource,\n    action: mostEligible?.action,\n    matchedRoute: mostEligible?.route,\n  };\n};\n", "import { ResourceProps } from \"../../../contexts/resource/types\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\nimport { getParentPrefixForResource } from \"../router\";\n\n/**\n * generates route for the resource based on parents and custom routes\n * @deprecated this is a **legacy** function and works only with the old resource definition\n */\nexport const routeGenerator = (\n  item: ResourceProps,\n  resourcesFromProps: ResourceProps[],\n): string | undefined => {\n  let route;\n\n  const parentPrefix = getParentPrefixForResource(\n    item,\n    resourcesFromProps,\n    true,\n  );\n\n  if (parentPrefix) {\n    const meta = pickNotDeprecated(item.meta, item.options);\n    route = `${parentPrefix}/${meta?.route ?? item.name}`;\n  } else {\n    route = item.options?.route ?? item.name;\n  }\n\n  return `/${route.replace(/^\\//, \"\")}`;\n};\n", "import { pickNotDeprecated } from \"@definitions/helpers/pickNotDeprecated\";\n\nimport {\n  IMenuItem,\n  IResourceItem,\n  ITreeMenu,\n} from \"../../../../contexts/resource/types\";\n\n/**\n * @deprecated This helper is deprecated. Please use `createTree` instead.\n */\nexport const createTreeView = (\n  resources: IResourceItem[] | IMenuItem[],\n): ITreeMenu[] | ITreeMenu[] => {\n  const tree = [];\n  const resourcesRouteObject: { [key: string]: any } = {};\n  const resourcesNameObject: { [key: string]: any } = {};\n  let parent: IResourceItem | IMenuItem;\n  let child: ITreeMenu;\n\n  for (let i = 0; i < resources.length; i++) {\n    parent = resources[i];\n\n    const route =\n      parent.route ??\n      pickNotDeprecated(parent?.meta, parent.options)?.route ??\n      \"\";\n\n    resourcesRouteObject[route] = parent;\n    resourcesRouteObject[route][\"children\"] = [];\n\n    resourcesNameObject[parent.name] = parent;\n    resourcesNameObject[parent.name][\"children\"] = [];\n  }\n\n  for (const name in resourcesRouteObject) {\n    if (Object.hasOwn(resourcesRouteObject, name)) {\n      child = resourcesRouteObject[name];\n\n      if (child.parentName && resourcesNameObject[child.parentName]) {\n        resourcesNameObject[child.parentName][\"children\"].push(child);\n      } else {\n        tree.push(child);\n      }\n    }\n  }\n\n  return tree;\n};\n", "export const humanizeString = (text: string): string => {\n  text = text.replace(/([a-z]{1})([A-Z]{1})/g, \"$1-$2\");\n  text = text.replace(/([A-Z]{1})([A-Z]{1})([a-z]{1})/g, \"$1-$2$3\");\n\n  text = text\n    .toLowerCase()\n    .replace(/[_-]+/g, \" \")\n    .replace(/\\s{2,}/g, \" \")\n    .trim();\n  text = text.charAt(0).toUpperCase() + text.slice(1);\n\n  return text;\n};\n// https://www.npmjs.com/package/humanize-string\n", "import React from \"react\";\n\nimport pluralize from \"pluralize\";\n\nimport { DefaultLayout } from \"@components/layoutWrapper/defaultLayout\";\n\nimport { humanizeString } from \"../../definitions/helpers/humanizeString\";\nimport {\n  IRefineContext,\n  IRefineContextOptions,\n  IRefineContextProvider,\n} from \"./types\";\n\nimport { LoginPage as DefaultLoginPage } from \"@components/pages\";\n\nexport const defaultRefineOptions: IRefineContextOptions = {\n  mutationMode: \"pessimistic\",\n  syncWithLocation: false,\n  undoableTimeout: 5000,\n  warnWhenUnsavedChanges: false,\n  liveMode: \"off\",\n  redirect: {\n    afterCreate: \"list\",\n    afterClone: \"list\",\n    afterEdit: \"list\",\n  },\n  overtime: {\n    interval: 1000,\n  },\n  textTransformers: {\n    humanize: humanizeString,\n    plural: pluralize.plural,\n    singular: pluralize.singular,\n  },\n  disableServerSideValidation: false,\n};\n\nexport const RefineContext = React.createContext<IRefineContext>({\n  hasDashboard: false,\n  mutationMode: \"pessimistic\",\n  warnWhenUnsavedChanges: false,\n  syncWithLocation: false,\n  undoableTimeout: 5000,\n  Title: undefined,\n  Sider: undefined,\n  Header: undefined,\n  Footer: undefined,\n  Layout: DefaultLayout,\n  OffLayoutArea: undefined,\n  liveMode: \"off\",\n  onLiveEvent: undefined,\n  options: defaultRefineOptions,\n});\n\nexport const RefineContextProvider: React.FC<IRefineContextProvider> = ({\n  hasDashboard,\n  mutationMode,\n  warnWhenUnsavedChanges,\n  syncWithLocation,\n  undoableTimeout,\n  children,\n  DashboardPage,\n  Title,\n  Layout = DefaultLayout,\n  Header,\n  Sider,\n  Footer,\n  OffLayoutArea,\n  LoginPage = DefaultLoginPage,\n  catchAll,\n  liveMode = \"off\",\n  onLiveEvent,\n  options,\n}) => {\n  return (\n    <RefineContext.Provider\n      value={{\n        __initialized: true,\n        hasDashboard,\n        mutationMode,\n        warnWhenUnsavedChanges,\n        syncWithLocation,\n        Title,\n        undoableTimeout,\n        Layout,\n        Header,\n        Sider,\n        Footer,\n        OffLayoutArea,\n        DashboardPage,\n        LoginPage,\n        catchAll,\n        liveMode,\n        onLiveEvent,\n        options,\n      }}\n    >\n      {children}\n    </RefineContext.Provider>\n  );\n};\n", "import React from \"react\";\n\nimport { LayoutProps } from \"../../../contexts/refine/types\";\n\nexport const DefaultLayout: React.FC<LayoutProps> = ({ children }) => {\n  return <div>{children}</div>;\n};\n", "import { QueryClient, QueryClientConfig } from \"@tanstack/react-query\";\n\nimport { defaultRefineOptions } from \"@contexts/refine\";\n\nimport { MutationMode } from \"../../../contexts/data/types\";\nimport { LiveModeProps } from \"../../../contexts/live/types\";\nimport {\n  IRefineContextOptions,\n  IRefineOptions,\n} from \"../../../contexts/refine/types\";\n\ntype HandleRefineOptionsProps = {\n  options?: IRefineOptions;\n  mutationMode?: MutationMode;\n  syncWithLocation?: boolean;\n  warnWhenUnsavedChanges?: boolean;\n  undoableTimeout?: number;\n  liveMode?: LiveModeProps[\"liveMode\"];\n  disableTelemetry?: boolean;\n  reactQueryClientConfig?: QueryClientConfig;\n  reactQueryDevtoolConfig?: any | false;\n};\n\ntype HandleRefineOptionsReturnValues = {\n  optionsWithDefaults: IRefineContextOptions;\n  disableTelemetryWithDefault: boolean;\n  reactQueryWithDefaults: {\n    clientConfig: QueryClientConfig | InstanceType<typeof QueryClient>;\n    devtoolConfig: false | any;\n  };\n};\n\nexport const handleRefineOptions = ({\n  options,\n  disableTelemetry,\n  liveMode,\n  mutationMode,\n  reactQueryClientConfig,\n  reactQueryDevtoolConfig,\n  syncWithLocation,\n  undoableTimeout,\n  warnWhenUnsavedChanges,\n}: HandleRefineOptionsProps = {}): HandleRefineOptionsReturnValues => {\n  const optionsWithDefaults: IRefineContextOptions = {\n    breadcrumb: options?.breadcrumb,\n    mutationMode:\n      options?.mutationMode ??\n      mutationMode ??\n      defaultRefineOptions.mutationMode,\n    undoableTimeout:\n      options?.undoableTimeout ??\n      undoableTimeout ??\n      defaultRefineOptions.undoableTimeout,\n    syncWithLocation:\n      options?.syncWithLocation ??\n      syncWithLocation ??\n      defaultRefineOptions.syncWithLocation,\n    warnWhenUnsavedChanges:\n      options?.warnWhenUnsavedChanges ??\n      warnWhenUnsavedChanges ??\n      defaultRefineOptions.warnWhenUnsavedChanges,\n    liveMode: options?.liveMode ?? liveMode ?? defaultRefineOptions.liveMode,\n    redirect: {\n      afterCreate:\n        options?.redirect?.afterCreate ??\n        defaultRefineOptions.redirect.afterCreate,\n      afterClone:\n        options?.redirect?.afterClone ??\n        defaultRefineOptions.redirect.afterClone,\n      afterEdit:\n        options?.redirect?.afterEdit ?? defaultRefineOptions.redirect.afterEdit,\n    },\n    overtime: options?.overtime ?? defaultRefineOptions.overtime,\n    textTransformers: {\n      humanize:\n        options?.textTransformers?.humanize ??\n        defaultRefineOptions.textTransformers.humanize,\n      plural:\n        options?.textTransformers?.plural ??\n        defaultRefineOptions.textTransformers.plural,\n      singular:\n        options?.textTransformers?.singular ??\n        defaultRefineOptions.textTransformers.singular,\n    },\n    disableServerSideValidation:\n      options?.disableServerSideValidation ??\n      defaultRefineOptions.disableServerSideValidation,\n    projectId: options?.projectId,\n    useNewQueryKeys: options?.useNewQueryKeys,\n  };\n\n  const disableTelemetryWithDefault =\n    options?.disableTelemetry ?? disableTelemetry ?? false;\n\n  const reactQueryWithDefaults = {\n    clientConfig:\n      options?.reactQuery?.clientConfig ?? reactQueryClientConfig ?? {},\n    devtoolConfig:\n      options?.reactQuery?.devtoolConfig ?? reactQueryDevtoolConfig ?? {},\n  };\n\n  return {\n    optionsWithDefaults,\n    disableTelemetryWithDefault,\n    reactQueryWithDefaults,\n  };\n};\n", "import { IRefineContextOptions } from \"../../../contexts/refine/types\";\nimport { Action } from \"../../../contexts/router/types\";\nimport { RedirectAction } from \"../../../hooks/form/types\";\n\ntype RedirectPageProps = {\n  redirectFromProps?: RedirectAction;\n  action: Action;\n  redirectOptions: IRefineContextOptions[\"redirect\"];\n};\n\nexport const redirectPage = ({\n  redirectFromProps,\n  action,\n  redirectOptions,\n}: RedirectPageProps): RedirectAction => {\n  if (redirectFromProps || redirectFromProps === false) {\n    return redirectFromProps;\n  }\n\n  switch (action) {\n    case \"clone\":\n      return redirectOptions.afterClone;\n    case \"create\":\n      return redirectOptions.afterCreate;\n    case \"edit\":\n      return redirectOptions.afterEdit;\n    default:\n      return false;\n  }\n};\n", "type EachResolve<TResolve, Response> = (\n  result: TResolve,\n  index: number,\n) => Response;\ntype EachReject<TReject, Response> = (\n  error: TReject,\n  index: number,\n) => Response;\n\nexport const sequentialPromises = async <\n  TResolve = unknown,\n  TReject = unknown,\n  TResolveResponse = unknown,\n  TRejectResponse = unknown,\n>(\n  promises: (() => Promise<TResolve>)[],\n  onEachResolve: EachResolve<TResolve, TResolveResponse>,\n  onEachReject: EachReject<TReject, TRejectResponse>,\n): Promise<(TResolveResponse | TRejectResponse)[]> => {\n  const results = [];\n  // @ts-expect-error Remove this when we enable `downLevelIterations`\n  for (const [index, promise] of promises.entries()) {\n    try {\n      const result = await promise();\n\n      results.push(onEachResolve(result, index));\n    } catch (error) {\n      results.push(onEachReject(error as TReject, index));\n    }\n  }\n  return results;\n};\n", "import { IResourceItem } from \"../../../contexts/resource/types\";\nimport { removeLeadingTrailingSlashes } from \"../router/remove-leading-trailing-slashes\";\n\n/**\n * Picks the resource based on the provided identifier.\n * Identifier fallbacks to `name` if `identifier` is not explicitly provided to the resource.\n * If legacy is true, then resource is matched by `route` first and then by `name`.\n */\nexport const pickResource = (\n  identifier?: string,\n  resources: IResourceItem[] = [],\n  /**\n   * If true, the identifier will be checked for `route` and `name` properties\n   */\n  legacy = false,\n): IResourceItem | undefined => {\n  if (!identifier) {\n    return undefined;\n  }\n\n  if (legacy) {\n    const resourceByRoute = resources.find(\n      (r) =>\n        removeLeadingTrailingSlashes(r.route ?? \"\") ===\n        removeLeadingTrailingSlashes(identifier),\n    );\n\n    const resource = resourceByRoute\n      ? resourceByRoute\n      : resources.find((r) => r.name === identifier);\n\n    return resource;\n  }\n\n  let resource = resources.find((r) => r.identifier === identifier);\n  if (!resource) {\n    resource = resources.find((r) => r.name === identifier);\n  }\n\n  return resource;\n};\n", "import { IResourceItem } from \"../../../contexts/resource/types\";\nimport { pickResource } from \"../pick-resource\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\n/**\n * Picks the data provider name based on the provided name or fallbacks to resource definition, or `default`.\n */\nexport const pickDataProvider = (\n  resourceName?: string,\n  dataProviderName?: string,\n  resources?: IResourceItem[],\n) => {\n  if (dataProviderName) {\n    return dataProviderName;\n  }\n\n  /**\n   * In this helper, we don't do `route` based matching therefore there's no need to check for `legacy` behaviors.\n   */\n  const resource = pickResource(resourceName, resources);\n\n  const meta = pickNotDeprecated(resource?.meta, resource?.options);\n\n  if (meta?.dataProviderName) {\n    return meta.dataProviderName;\n  }\n\n  return \"default\";\n};\n", "export const handleMultiple = async <TData = unknown>(\n  promises: Promise<{ data: TData }>[],\n): Promise<{ data: TData[] }> => {\n  return {\n    data: (await Promise.all(promises)).map((res) => res.data),\n  };\n};\n", "import { GetListResponse } from \"../../../contexts/data/types\";\n\nexport const getNextPageParam = (lastPage: GetListResponse) => {\n  const { pagination, cursor } = lastPage;\n\n  // cursor pagination\n  if (cursor?.next) {\n    return cursor.next;\n  }\n\n  const current = pagination?.current || 1;\n\n  const pageSize = pagination?.pageSize || 10;\n  const totalPages = Math.ceil((lastPage.total || 0) / pageSize);\n\n  return current < totalPages ? Number(current) + 1 : undefined;\n};\n\nexport const getPreviousPageParam = (lastPage: GetListResponse) => {\n  const { pagination, cursor } = lastPage;\n\n  // cursor pagination\n  if (cursor?.prev) {\n    return cursor.prev;\n  }\n\n  const current = pagination?.current || 1;\n\n  return current === 1 ? undefined : current - 1;\n};\n", "import { IResourceItem, ResourceProps } from \"../../../contexts/resource/types\";\nimport { routeGenerator } from \"../routeGenerator\";\n\n/**\n * For the legacy definition of resources, we did a basic transformation for provided resources\n * - This is meant to provide an easier way to access properties.\n * - In the new definition, we don't need to do transformations and properties can be accessed via helpers or manually.\n * This is kept for backward compability\n */\nexport const legacyResourceTransform = (resources: ResourceProps[]) => {\n  const _resources: IResourceItem[] = [];\n\n  resources.forEach((resource) => {\n    _resources.push({\n      ...resource,\n      label: resource.meta?.label ?? resource.options?.label,\n      route: routeGenerator(resource, resources),\n      canCreate: !!resource.create,\n      canEdit: !!resource.edit,\n      canShow: !!resource.show,\n      canDelete: resource.canDelete,\n    });\n  });\n\n  return _resources;\n};\n", "import { splitToSegments } from \"./split-to-segments\";\nimport { removeLeadingTrailingSlashes } from \"./remove-leading-trailing-slashes\";\nimport { isParameter } from \"./is-parameter\";\n\n/**\n * Picks the route parameters from the given route.\n * (e.g. /users/:id/posts/:postId => ['id', 'postId'])\n */\nexport const pickRouteParams = (route: string) => {\n  const segments = splitToSegments(removeLeadingTrailingSlashes(route));\n\n  return segments.flatMap((s) => {\n    if (isParameter(s)) {\n      return [s.slice(1)];\n    }\n\n    return [];\n  });\n};\n", "/**\n * Prepares the route params by checking the existing params and meta data.\n * Meta data is prioritized over params.\n * Params are prioritized over predetermined id, action and resource.\n * This means, we can use `meta` for user supplied params (both manually or from the query string)\n */\nexport const prepareRouteParams = <\n  TRouteParams extends Record<string, unknown> = Record<string, unknown>,\n>(\n  routeParams: (keyof TRouteParams)[],\n  meta: Record<string, unknown> = {},\n): Partial<TRouteParams> => {\n  return routeParams.reduce(\n    (acc, key) => {\n      const value = meta[key as string];\n      if (typeof value !== \"undefined\") {\n        acc[key] = value as TRouteParams[keyof TRouteParams];\n      }\n      return acc;\n    },\n    {} as Partial<TRouteParams>,\n  );\n};\n", "import { MetaQuery } from \"../../../contexts/data/types\";\nimport { ParseResponse } from \"../../../contexts/router/types\";\nimport { pickRouteParams } from \"./pick-route-params\";\nimport { prepareRouteParams } from \"./prepare-route-params\";\n\n/**\n * This function will compose a route with the given params and meta.\n * - A route can have parameters like (eg: /users/:id)\n * - First we pick the route params from the route (eg: [id])\n * - Then we prepare the route params with the given params and meta (eg: { id: 1 })\n * - Then we replace the route params with the prepared route params (eg: /users/1)\n */\nexport const composeRoute = (\n  designatedRoute: string,\n  resourceMeta: MetaQuery = {},\n  parsed: ParseResponse = {},\n  meta: Record<string, unknown> = {},\n): string => {\n  // pickRouteParams (from the route)\n  const routeParams = pickRouteParams(designatedRoute);\n  // prepareRouteParams (from route params, params and meta)\n  const preparedRouteParams = prepareRouteParams(routeParams, {\n    ...resourceMeta,\n    ...(typeof parsed?.id !== \"undefined\" ? { id: parsed.id } : {}),\n    ...(typeof parsed?.action !== \"undefined\" ? { action: parsed.action } : {}),\n    ...(typeof parsed?.resource !== \"undefined\"\n      ? { resource: parsed.resource }\n      : {}),\n    ...parsed?.params,\n    ...meta,\n  });\n  // replace route params with prepared route params\n  return designatedRoute.replace(/:([^\\/]+)/g, (match, key) => {\n    const fromParams = preparedRouteParams[key];\n    if (typeof fromParams !== \"undefined\") {\n      return `${fromParams}`;\n    }\n    return match;\n  });\n};\n", "import { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\n/**\n * @returns authProvider or legacyAuthProvider if provided, otherwise null\n * @internal\n * NOTE: Will be removed in v5\n */\nexport const useActiveAuthProvider = () => {\n  const legacyAuthProvider = useLegacyAuthContext();\n  const authProvider = useAuthBindingsContext();\n\n  if (authProvider.isProvided) {\n    return { isLegacy: false, ...authProvider };\n  }\n\n  if (legacyAuthProvider.isProvided) {\n    // legacyAuthProvider interface is different from authProvider interface\n    // we need to convert it to authProvider interface for simple usage\n    // in the future, we will remove legacyAuthProvider\n    return {\n      isLegacy: true,\n      ...legacyAuthProvider,\n      check: legacyAuthProvider.checkAuth,\n      onError: legacyAuthProvider.checkError,\n      getIdentity: legacyAuthProvider.getUserIdentity,\n    };\n  }\n\n  return null;\n};\n", "import { Pagination } from \"../../../contexts/data/types\";\nimport { pickNotDeprecated } from \"../pickNotDeprecated\";\n\ntype HandlePaginationParamsProps = {\n  hasPagination?: boolean;\n  pagination?: Pagination;\n  configPagination?: Pagination;\n};\n\nexport const handlePaginationParams = ({\n  hasPagination,\n  pagination,\n  configPagination,\n}: HandlePaginationParamsProps = {}): Required<Pagination> => {\n  const hasPaginationString = hasPagination === false ? \"off\" : \"server\";\n  const mode = pagination?.mode ?? hasPaginationString;\n\n  const current =\n    pickNotDeprecated(pagination?.current, configPagination?.current) ?? 1;\n\n  const pageSize =\n    pickNotDeprecated(pagination?.pageSize, configPagination?.pageSize) ?? 10;\n\n  return {\n    current,\n    pageSize,\n    mode,\n  };\n};\n", "import { useState, useEffect } from \"react\";\n\nexport const useMediaQuery = (query: string) => {\n  const [matches, setMatches] = useState(false);\n\n  useEffect(() => {\n    const media = window.matchMedia(query);\n    if (media.matches !== matches) {\n      setMatches(media.matches);\n    }\n    const listener = () => setMatches(media.matches);\n    window.addEventListener(\"resize\", listener);\n    return () => window.removeEventListener(\"resize\", listener);\n  }, [matches, query]);\n\n  return matches;\n};\n", "import type { useTranslate } from \"@hooks/i18n\";\n\nexport const safeTranslate = (\n  translate: ReturnType<typeof useTranslate>,\n  key: string,\n  defaultMessage?: string,\n  options?: any,\n) => {\n  const translated = options\n    ? translate(key, options, defaultMessage)\n    : translate(key, defaultMessage);\n\n  const fallback = defaultMessage ?? key;\n\n  if (translated === key || typeof translated === \"undefined\") {\n    return fallback;\n  }\n\n  return translated;\n};\n", "import type { useTranslate } from \"@hooks/i18n\";\n\nimport { IResourceItem } from \"../../../contexts/resource/types\";\nimport { safeTranslate } from \"../safe-translate\";\nimport { userFriendlyResourceName } from \"../userFriendlyResourceName\";\n\n/**\n * Generates document title for the given resource and action.\n */\nexport function generateDefaultDocumentTitle(\n  translate: ReturnType<typeof useTranslate>,\n  resource?: IResourceItem,\n  action?: string,\n  id?: string,\n  resourceName?: string,\n) {\n  const actionPrefixMatcher = {\n    create: \"Create new \",\n    clone: `#${id ?? \"\"} Clone `,\n    edit: `#${id ?? \"\"} Edit `,\n    show: `#${id ?? \"\"} Show `,\n    list: \"\",\n  };\n\n  const identifier = resource?.identifier ?? resource?.name;\n\n  const resourceNameFallback =\n    resource?.label ??\n    resource?.meta?.label ??\n    userFriendlyResourceName(\n      identifier,\n      action === \"list\" ? \"plural\" : \"singular\",\n    );\n\n  const resourceNameWithFallback = resourceName ?? resourceNameFallback;\n\n  const defaultTitle = safeTranslate(\n    translate,\n    \"documentTitle.default\",\n    \"refine\",\n  );\n  const suffix = safeTranslate(translate, \"documentTitle.suffix\", \" | refine\");\n  let autoGeneratedTitle = defaultTitle;\n\n  if (action && identifier) {\n    autoGeneratedTitle = safeTranslate(\n      translate,\n      `documentTitle.${identifier}.${action}`,\n      `${\n        actionPrefixMatcher[action as keyof typeof actionPrefixMatcher] ?? \"\"\n      }${resourceNameWithFallback}${suffix}`,\n      { id },\n    );\n  }\n\n  return autoGeneratedTitle;\n}\n", "import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { IRefineContextOptions } from \"../../contexts/refine/types\";\nimport type { MutationMode } from \"../../contexts/data/types\";\n\ntype UseMutationModeType = (\n  preferredMutationMode?: MutationMode,\n  preferredUndoableTimeout?: number,\n) => {\n  mutationMode: IRefineContextOptions[\"mutationMode\"];\n  undoableTimeout: IRefineContextOptions[\"undoableTimeout\"];\n};\n\n/**\n * Mutation mode determines which mode the mutation runs with.\n * Mutations can run under three different modes: `pessimistic`, `optimistic` and `undoable`.\n * Each mode corresponds to a different type of user experience.\n *\n * @see {@link https://refine.dev/docs/guides-and-concepts/mutation-mode} for more details.\n */\nexport const useMutationMode: UseMutationModeType = (\n  preferredMutationMode?: MutationMode,\n  preferredUndoableTimeout?: number,\n) => {\n  const { mutationMode, undoableTimeout } = useContext(RefineContext);\n\n  return {\n    mutationMode: preferredMutationMode ?? mutationMode,\n    undoableTimeout: preferredUndoableTimeout ?? undoableTimeout,\n  };\n};\n", "import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { UnsavedWarnContext } from \"@contexts/unsavedWarn\";\nimport { IRefineContextOptions } from \"../../../contexts/refine/types\";\nimport { IUnsavedWarnContext } from \"../../../contexts/unsavedWarn/types\";\n\ntype UseWarnAboutChangeType = () => {\n  warnWhenUnsavedChanges: IRefineContextOptions[\"warnWhenUnsavedChanges\"];\n  warnWhen: NonNullable<IUnsavedWarnContext[\"warnWhen\"]>;\n  setWarnWhen: NonNullable<IUnsavedWarnContext[\"setWarnWhen\"]>;\n};\n\n/**\n * When you have unsaved changes and try to leave the current page, **refine** shows a confirmation modal box.\n * To activate this feature, set the `warnWhenUnsavedChanges` to `true`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/components/refine-config#warnwhenunsavedchanges} for more details.\n */\nexport const useWarnAboutChange: UseWarnAboutChangeType = () => {\n  const { warnWhenUnsavedChanges } = useContext(RefineContext);\n\n  const { warnWhen, setWarnWhen } = useContext(UnsavedWarnContext);\n\n  return {\n    warnWhenUnsavedChanges,\n    warnWhen: Boolean(warnWhen),\n    setWarnWhen: setWarnWhen ?? (() => undefined),\n  };\n};\n", "import React, { useState, PropsWithChildren } from \"react\";\n\nimport { IUnsavedWarnContext } from \"./types\";\n\nexport const UnsavedWarnContext = React.createContext<IUnsavedWarnContext>({});\n\nexport const UnsavedWarnContextProvider: React.FC<PropsWithChildren> = ({\n  children,\n}) => {\n  const [warnWhen, setWarnWhen] = useState(false);\n\n  return (\n    <UnsavedWarnContext.Provider value={{ warnWhen, setWarnWhen }}>\n      {children}\n    </UnsavedWarnContext.Provider>\n  );\n};\n", "import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\nimport { IRefineContextOptions } from \"../../contexts/refine/types\";\n\ntype UseSyncWithLocationType = () => {\n  syncWithLocation: IRefineContextOptions[\"syncWithLocation\"];\n};\n\n/**\n * List query parameter values can be edited manually by typing directly in the URL.\n * To activate this feature `syncWithLocation` needs to be set to `true`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/components/refine-config/#syncwithlocation} for more details.\n */\nexport const useSyncWithLocation: UseSyncWithLocationType = () => {\n  const { syncWithLocation } = useContext(RefineContext);\n\n  return { syncWithLocation };\n};\n", "import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\n\nimport { TitleProps } from \"../../contexts/refine/types\";\n\n/**\n * `useTitle` returns a component that calls the `<Title>` passed to the `<Refine>`.\n * In this way, it becomes easier for us to access this component in various parts of the application.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/refine/useTitle} for more details.\n */\nexport const useTitle: () => React.FC<TitleProps> | undefined = () => {\n  const { Title } = useContext(RefineContext);\n\n  return Title;\n};\n", "import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\n\nexport const useRefineContext = () => {\n  const {\n    Footer,\n    Header,\n    Layout,\n    OffLayoutArea,\n    Sider,\n    Title,\n    hasDashboard,\n    mutationMode,\n    syncWithLocation,\n    undoableTimeout,\n    warnWhenUnsavedChanges,\n    DashboardPage,\n    LoginPage,\n    catchAll,\n    options,\n    __initialized,\n  } = useContext(RefineContext);\n\n  return {\n    __initialized,\n    Footer,\n    Header,\n    Layout,\n    OffLayoutArea,\n    Sider,\n    Title,\n    hasDashboard,\n    mutationMode,\n    syncWithLocation,\n    undoableTimeout,\n    warnWhenUnsavedChanges,\n    DashboardPage,\n    LoginPage,\n    catchAll,\n    options,\n  };\n};\n", "import { useRefineContext } from \"@hooks/refine\";\n\n/**\n * A method that the internal uses\n * @internal\n */\nexport const useUserFriendlyName = () => {\n  const {\n    options: { textTransformers },\n  } = useRefineContext();\n\n  const getFriendlyName = (name = \"\", type: \"singular\" | \"plural\"): string => {\n    const humanizeName = textTransformers.humanize(name);\n    if (type === \"singular\") {\n      return textTransformers.singular(humanizeName);\n    }\n    return textTransformers.plural(humanizeName);\n  };\n\n  return getFriendlyName;\n};\n", "const isNested = (obj: any) => typeof obj === \"object\" && obj !== null;\nconst isArray = (obj: any) => Array.isArray(obj);\n\nexport const flattenObjectKeys = (obj: any, prefix = \"\") => {\n  if (!isNested(obj)) {\n    return {\n      [prefix]: obj,\n    };\n  }\n\n  return Object.keys(obj).reduce(\n    (acc, key) => {\n      const currentPrefix = prefix.length ? `${prefix}.` : \"\";\n\n      if (isNested(obj[key]) && Object.keys(obj[key]).length) {\n        if (isArray(obj[key]) && obj[key].length) {\n          obj[key].forEach((item: unknown[], index: number) => {\n            Object.assign(\n              acc,\n              flattenObjectKeys(item, `${currentPrefix + key}.${index}`),\n            );\n          });\n        } else {\n          Object.assign(acc, flattenObjectKeys(obj[key], currentPrefix + key));\n        }\n        // Even if it's a nested object, it should be treated as a key as well\n        acc[currentPrefix + key] = obj[key];\n      } else {\n        acc[currentPrefix + key] = obj[key];\n      }\n      return acc;\n    },\n    {} as Record<string, unknown>,\n  );\n};\n", "export const propertyPathToArray = (propertyPath: string) => {\n  return propertyPath\n    .split(\".\")\n    .map((item) => (!Number.isNaN(Number(item)) ? Number(item) : item));\n};\n", "export const downloadInBrowser = (\n  filename: string,\n  content: string,\n  type?: string,\n) => {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n\n  const blob = new Blob([content], { type });\n\n  const link = document.createElement(\"a\");\n  link.setAttribute(\"visibility\", \"hidden\");\n  link.download = filename;\n  const blobUrl = URL.createObjectURL(blob);\n  link.href = blobUrl;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  // As per documentation, call URL.revokeObjectURL to remove the blob from memory.\n  setTimeout(() => {\n    URL.revokeObjectURL(blobUrl);\n  });\n};\n", "/**\n * Delays the execution of a callback function asynchronously.\n * This utility function is used to defer the execution of the provided\n * callback, allowing the current call stack to clear before the callback\n * is invoked. It is particularly useful for ensuring non-blocking behavior\n * and providing a clear intent when a 0 ms timeout is used.\n */\nexport const deferExecution = (fn: Function) => {\n  setTimeout(fn, 0);\n};\n", "import debounce from \"lodash-es/debounce.js\";\n\n// biome-ignore lint/suspicious/noExplicitAny: any is used to accept any function\ntype Callbacks<T extends (...args: any) => any> = {\n  resolve?: (value: Awaited<ReturnType<T>>) => void;\n  // biome-ignore lint/suspicious/noExplicitAny: any is used to match the type of Promise.reject\n  reject?: (reason?: any) => void;\n};\n\n// biome-ignore lint/suspicious/noExplicitAny: any is used to accept any function\ntype DebouncedFunction<T extends (...args: any) => any> = {\n  (...args: Parameters<T>): Promise<Awaited<ReturnType<T>>>;\n  flush: () => void;\n  cancel: () => void;\n};\n\n/**\n * Debounces sync and async functions with given wait time. The debounced function returns a promise which can be awaited or catched.\n * Only the last call of the debounced function will resolve or reject.\n * Previous calls will be rejected with the given cancelReason.\n *\n * The original debounce function doesn't work well with async functions,\n * It won't return a promise to resolve/reject and therefore it's not possible to await the result.\n * This will always return a promise to handle and await the result.\n * Previous calls will be rejected immediately after a new call made.\n */\n// biome-ignore lint/suspicious/noExplicitAny: any is used to accept any function\nexport const asyncDebounce = <T extends (...args: any[]) => any>(\n  func: T,\n  wait = 1000,\n  cancelReason?: string,\n): DebouncedFunction<T> => {\n  let callbacks: Array<Callbacks<T>> = [];\n\n  const cancelPrevious = () => {\n    callbacks.forEach((cb) => cb.reject?.(cancelReason));\n    callbacks = [];\n  };\n\n  const debouncedFunc = debounce((...args: Parameters<T>) => {\n    const { resolve, reject } = callbacks.pop() || {};\n    Promise.resolve(func(...args))\n      .then(resolve)\n      .catch(reject);\n  }, wait);\n\n  const runner = (...args: Parameters<T>) => {\n    return new Promise<Awaited<ReturnType<T>>>((resolve, reject) => {\n      cancelPrevious();\n\n      callbacks.push({\n        resolve,\n        reject,\n      });\n\n      debouncedFunc(...args);\n    });\n  };\n\n  runner.flush = () => debouncedFunc.flush();\n  runner.cancel = () => {\n    debouncedFunc.cancel();\n    cancelPrevious();\n  };\n\n  return runner;\n};\n", "import type { QueryFunctionContext, QueryKey } from \"@tanstack/react-query\";\n\nexport const prepareQueryContext = (\n  context: QueryFunctionContext<QueryKey, any>,\n): Omit<QueryFunctionContext<QueryKey, any>, \"meta\"> => {\n  const queryContext = {\n    queryKey: context.queryKey,\n    pageParam: context.pageParam,\n  };\n\n  Object.defineProperty(queryContext, \"signal\", {\n    enumerable: true,\n    get: () => {\n      return context.signal;\n    },\n  });\n\n  return queryContext;\n};\n", "export const file2Base64 = (file: any): Promise<string> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    const resultHandler = () => {\n      if (reader.result) {\n        reader.removeEventListener(\"load\", resultHandler, false);\n\n        resolve(reader.result as string);\n      }\n    };\n\n    reader.addEventListener(\"load\", resultHandler, false);\n\n    reader.readAsDataURL(file.originFileObj as Blob);\n    reader.onerror = (error) => {\n      reader.removeEventListener(\"load\", resultHandler, false);\n      return reject(error);\n    };\n  });\n};\n", "import { useRefineContext } from \"..\";\nimport { keys } from \"@definitions/index\";\n\nexport const useKeys = () => {\n  const {\n    options: { useNewQueryKeys },\n  } = useRefineContext();\n\n  return {\n    keys,\n    preferLegacyKeys: !useNewQueryKeys,\n  };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseQueryOptions,\n  UseQueryResult,\n  useQuery,\n} from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nimport { IdentityResponse } from \"../../../contexts/auth/types\";\n\nexport type UseGetIdentityLegacyProps<TData> = {\n  v3LegacyAuthProviderCompatible: true;\n  queryOptions?: UseQueryOptions<TData>;\n};\n\nexport type UseGetIdentityProps<TData = IdentityResponse> = {\n  v3LegacyAuthProviderCompatible?: false;\n  queryOptions?: UseQueryOptions<TData>;\n};\n\nexport type UseGetIdentityCombinedProps<TData = any> = {\n  v3LegacyAuthProviderCompatible: boolean;\n  queryOptions?: UseQueryOptions<TData> | UseQueryOptions<IdentityResponse>;\n};\n\nexport type UseGetIdentityLegacyReturnType<TData> = UseQueryResult<\n  TData,\n  unknown\n>;\n\nexport type UseGetIdentityReturnType<TData = IdentityResponse> = UseQueryResult<\n  TData,\n  unknown\n>;\n\nexport type UsePermissionsCombinedReturnType<TData = any> =\n  | UseQueryResult<TData, unknown>\n  | UseQueryResult<IdentityResponse, unknown>;\n\nexport function useGetIdentity<TData = any>(\n  props: UseGetIdentityLegacyProps<TData>,\n): UseGetIdentityLegacyReturnType<TData>;\n\nexport function useGetIdentity<TData = IdentityResponse>(\n  props?: UseGetIdentityProps<TData>,\n): UseGetIdentityReturnType<TData>;\n\nexport function useGetIdentity<TData = any>(\n  props?: UseGetIdentityCombinedProps<TData>,\n): UsePermissionsCombinedReturnType<TData>;\n\n/**\n * `useGetIdentity` calls the `getUserIdentity` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useGetIdentity} for more details.\n *\n * @typeParam TData - Result data of the query\n *\n */\nexport function useGetIdentity<TData = any>({\n  v3LegacyAuthProviderCompatible = false,\n  queryOptions,\n}: UseGetIdentityProps<TData> | UseGetIdentityLegacyProps<TData> = {}):\n  | UseGetIdentityReturnType<TData>\n  | UseGetIdentityLegacyReturnType<TData> {\n  const { getUserIdentity: legacyGetUserIdentity } = useLegacyAuthContext();\n  const { getIdentity } = useAuthBindingsContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const queryResponse = useQuery<TData>({\n    queryKey: keys().auth().action(\"identity\").get(preferLegacyKeys),\n    // Enabled check for `getIdentity` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n    queryFn:\n      (getIdentity as (params?: unknown) => Promise<TData>) ??\n      (() => Promise.resolve({})),\n    enabled: !v3LegacyAuthProviderCompatible && !!getIdentity,\n    retry: false,\n    ...(v3LegacyAuthProviderCompatible === true ? {} : queryOptions),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible === true ? {} : queryOptions?.meta),\n      ...getXRay(\"useGetIdentity\", preferLegacyKeys),\n    },\n  });\n\n  const legacyQueryResponse = useQuery<TData>({\n    queryKey: [\n      ...keys().auth().action(\"identity\").get(preferLegacyKeys),\n      \"v3LegacyAuthProviderCompatible\",\n    ],\n    // Enabled check for `getUserIdentity` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n    queryFn: legacyGetUserIdentity ?? (() => Promise.resolve({})),\n    enabled: v3LegacyAuthProviderCompatible && !!legacyGetUserIdentity,\n    retry: false,\n    ...(v3LegacyAuthProviderCompatible ? queryOptions : {}),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible ? queryOptions?.meta : {}),\n      ...getXRay(\"useGetIdentity\", preferLegacyKeys),\n    },\n  });\n\n  return v3LegacyAuthProviderCompatible ? legacyQueryResponse : queryResponse;\n}\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n} from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport {\n  useGo,\n  useKeys,\n  useNavigation,\n  useNotification,\n  useRouterType,\n} from \"@hooks\";\n\nimport {\n  AuthActionResponse,\n  SuccessNotificationResponse,\n  TLogoutData,\n} from \"../../../contexts/auth/types\";\nimport { RefineError } from \"../../../contexts/data/types\";\nimport { OpenNotificationParams } from \"../../../contexts/notification/types\";\nimport { useInvalidateAuthStore } from \"../useInvalidateAuthStore\";\n\ntype Variables = {\n  redirectPath?: string | false;\n};\n\nexport type UseLogoutLegacyProps<TVariables> = {\n  v3LegacyAuthProviderCompatible: true;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      TLogoutData,\n      Error | RefineError,\n      (TVariables & Variables) | void,\n      unknown\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\"\n  >;\n};\n\nexport type UseLogoutProps<TVariables> = {\n  v3LegacyAuthProviderCompatible?: false;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      AuthActionResponse,\n      Error | RefineError,\n      (TVariables & Variables) | void,\n      unknown\n    >,\n    \"mutationFn\"\n  >;\n};\n\nexport type UseLogoutCombinedProps<TVariables> = {\n  v3LegacyAuthProviderCompatible: boolean;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      AuthActionResponse | TLogoutData,\n      Error | RefineError,\n      (TVariables & Variables) | void,\n      unknown\n    >,\n    \"mutationFn\"\n  >;\n};\n\nexport type UseLogoutLegacyReturnType<TVariables> = UseMutationResult<\n  TLogoutData,\n  Error | RefineError,\n  (TVariables & Variables) | void,\n  unknown\n>;\n\nexport type UseLogoutReturnType<TVariables> = UseMutationResult<\n  AuthActionResponse,\n  Error | RefineError,\n  (TVariables & Variables) | void,\n  unknown\n>;\n\nexport type UseLogoutCombinedReturnType<TVariables> = UseMutationResult<\n  AuthActionResponse | TLogoutData,\n  Error | RefineError,\n  (TVariables & Variables) | void,\n  unknown\n>;\n\nexport function useLogout<TVariables = {}>(\n  props: UseLogoutLegacyProps<TVariables>,\n): UseLogoutLegacyReturnType<TVariables>;\n\nexport function useLogout<TVariables = {}>(\n  props?: UseLogoutProps<TVariables>,\n): UseLogoutReturnType<TVariables>;\n\nexport function useLogout<TVariables = {}>(\n  props?: UseLogoutCombinedProps<TVariables>,\n): UseLogoutCombinedReturnType<TVariables>;\n\n/**\n * `useLogout` calls the `logout` method from the {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useLogout} for more details.\n *\n */\nexport function useLogout<TVariables = {}>({\n  v3LegacyAuthProviderCompatible,\n  mutationOptions,\n}: UseLogoutProps<TVariables> | UseLogoutLegacyProps<TVariables> = {}):\n  | UseLogoutLegacyReturnType<TVariables>\n  | UseLogoutReturnType<TVariables> {\n  const invalidateAuthStore = useInvalidateAuthStore();\n  const routerType = useRouterType();\n  const go = useGo();\n  const { push } = useNavigation();\n  const { open, close } = useNotification();\n  const { logout: legacyLogoutFromContext } = useLegacyAuthContext();\n  const { logout: logoutFromContext } = useAuthBindingsContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    AuthActionResponse,\n    Error | RefineError,\n    (TVariables & Variables) | void,\n    unknown\n  >({\n    mutationKey: keys().auth().action(\"logout\").get(preferLegacyKeys),\n    mutationFn: logoutFromContext,\n    onSuccess: async (data, variables) => {\n      const { success, error, redirectTo, successNotification } = data;\n      const { redirectPath } = variables ?? {};\n\n      const redirect = redirectPath ?? redirectTo;\n\n      if (success) {\n        close?.(\"useLogout-error\");\n\n        if (successNotification) {\n          open?.(buildSuccessNotification(successNotification));\n        }\n      }\n\n      if (error || !success) {\n        open?.(buildNotification(error));\n      }\n\n      if (redirect !== false) {\n        if (routerType === \"legacy\") {\n          push(redirect ?? \"/login\");\n        } else {\n          if (redirect) {\n            go({ to: redirect });\n          }\n        }\n      }\n\n      await invalidateAuthStore();\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions?.meta),\n      ...getXRay(\"useLogout\", preferLegacyKeys),\n    },\n  });\n\n  const v3LegacyAuthProviderCompatibleMutation = useMutation<\n    TLogoutData,\n    Error | RefineError,\n    (TVariables & Variables) | void,\n    unknown\n  >({\n    mutationKey: [\n      ...keys().auth().action(\"logout\").get(preferLegacyKeys),\n      \"v3LegacyAuthProviderCompatible\",\n    ],\n    mutationFn: legacyLogoutFromContext,\n    onSuccess: async (data, variables) => {\n      const redirectPath = variables?.redirectPath ?? data;\n\n      if (redirectPath === false) {\n        return;\n      }\n\n      if (redirectPath) {\n        if (routerType === \"legacy\") {\n          push(redirectPath);\n        } else {\n          go({ to: redirectPath });\n        }\n        return;\n      }\n\n      if (routerType === \"legacy\") {\n        push(\"/login\");\n      } else {\n        go({ to: \"/login\" });\n      }\n\n      await invalidateAuthStore();\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible ? mutationOptions?.meta : {}),\n      ...getXRay(\"useLogout\", preferLegacyKeys),\n    },\n  });\n\n  return v3LegacyAuthProviderCompatible\n    ? v3LegacyAuthProviderCompatibleMutation\n    : mutation;\n}\n\nconst buildNotification = (\n  error?: Error | RefineError,\n): OpenNotificationParams => {\n  return {\n    key: \"useLogout-error\",\n    type: \"error\",\n    message: error?.name || \"Logout Error\",\n    description: error?.message || \"Something went wrong during logout\",\n  };\n};\n\nconst buildSuccessNotification = (\n  successNotification: SuccessNotificationResponse,\n): OpenNotificationParams => {\n  return {\n    message: successNotification.message,\n    description: successNotification.description,\n    key: \"logout-success\",\n    type: \"success\",\n  };\n};\n", "import { useKeys } from \"@hooks/useKeys\";\nimport { useQueryClient } from \"@tanstack/react-query\";\n\nexport const useInvalidateAuthStore = () => {\n  const queryClient = useQueryClient();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const invalidate = async () => {\n    await Promise.all(\n      ([\"check\", \"identity\", \"permissions\"] as const).map((action) =>\n        queryClient.invalidateQueries(\n          keys().auth().action(action).get(preferLegacyKeys),\n        ),\n      ),\n    );\n  };\n\n  return invalidate;\n};\n", "import React from \"react\";\n\nimport { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n} from \"@tanstack/react-query\";\nimport qs from \"qs\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport {\n  useGo,\n  useKeys,\n  useNavigation,\n  useNotification,\n  useParsed,\n  useRouterContext,\n  useRouterType,\n} from \"@hooks\";\n\nimport {\n  AuthActionResponse,\n  SuccessNotificationResponse,\n  TLoginData,\n} from \"../../../contexts/auth/types\";\nimport { RefineError } from \"../../../contexts/data/types\";\nimport { OpenNotificationParams } from \"../../../contexts/notification/types\";\nimport { useInvalidateAuthStore } from \"../useInvalidateAuthStore\";\n\nexport type UseLoginLegacyProps<TVariables> = {\n  v3LegacyAuthProviderCompatible: true;\n  mutationOptions?: Omit<\n    UseMutationOptions<TLoginData, Error | RefineError, TVariables, unknown>,\n    \"mutationFn\" | \"onError\" | \"onSuccess\"\n  >;\n};\n\nexport type UseLoginProps<TVariables> = {\n  v3LegacyAuthProviderCompatible?: false;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      AuthActionResponse,\n      Error | RefineError,\n      TVariables,\n      unknown\n    >,\n    \"mutationFn\"\n  >;\n};\n\nexport type UseLoginCombinedProps<TVariables> = {\n  v3LegacyAuthProviderCompatible: boolean;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      AuthActionResponse | TLoginData,\n      Error | RefineError,\n      TVariables,\n      unknown\n    >,\n    \"mutationFn\"\n  >;\n};\n\nexport type UseLoginLegacyReturnType<TVariables> = UseMutationResult<\n  TLoginData,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport type UseLoginReturnType<TVariables> = UseMutationResult<\n  AuthActionResponse,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport type UseLoginCombinedReturnType<TVariables> = UseMutationResult<\n  AuthActionResponse | TLoginData,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport function useLogin<TVariables = {}>(\n  props: UseLoginLegacyProps<TVariables>,\n): UseLoginLegacyReturnType<TVariables>;\n\nexport function useLogin<TVariables = {}>(\n  props?: UseLoginProps<TVariables>,\n): UseLoginReturnType<TVariables>;\n\nexport function useLogin<TVariables = {}>(\n  props?: UseLoginCombinedProps<TVariables>,\n): UseLoginCombinedReturnType<TVariables>;\n\n/**\n * `useLogin` calls `login` method from {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useLogin} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useLogin<TVariables = {}>({\n  v3LegacyAuthProviderCompatible,\n  mutationOptions,\n}: UseLoginProps<TVariables> | UseLoginLegacyProps<TVariables> = {}):\n  | UseLoginLegacyReturnType<TVariables>\n  | UseLoginReturnType<TVariables> {\n  const invalidateAuthStore = useInvalidateAuthStore();\n  const routerType = useRouterType();\n\n  const go = useGo();\n  const { replace } = useNavigation();\n\n  const parsed = useParsed();\n\n  const { useLocation } = useRouterContext();\n  const { search } = useLocation();\n\n  const { close, open } = useNotification();\n  const { login: legacyLoginFromContext } = useLegacyAuthContext();\n  const { login: loginFromContext } = useAuthBindingsContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const to = React.useMemo(() => {\n    if (routerType === \"legacy\") {\n      const legacySearch = qs.parse(search, {\n        ignoreQueryPrefix: true,\n      });\n      return legacySearch.to;\n    }\n    return parsed.params?.to;\n  }, [routerType, parsed.params, search]);\n\n  const mutation = useMutation<\n    AuthActionResponse,\n    Error | RefineError,\n    TVariables,\n    unknown\n  >({\n    mutationKey: keys().auth().action(\"login\").get(preferLegacyKeys),\n    mutationFn: loginFromContext,\n    onSuccess: async ({ success, redirectTo, error, successNotification }) => {\n      if (success) {\n        close?.(\"login-error\");\n\n        if (successNotification) {\n          open?.(buildSuccessNotification(successNotification));\n        }\n      }\n\n      if (error || !success) {\n        open?.(buildNotification(error));\n      }\n\n      if (to && success) {\n        if (routerType === \"legacy\") {\n          replace(to as string);\n        } else {\n          go({ to: to as string, type: \"replace\" });\n        }\n      } else if (redirectTo) {\n        if (routerType === \"legacy\") {\n          replace(redirectTo);\n        } else {\n          go({ to: redirectTo, type: \"replace\" });\n        }\n      } else {\n        if (routerType === \"legacy\") {\n          replace(\"/\");\n        }\n      }\n\n      await invalidateAuthStore();\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions?.meta),\n      ...getXRay(\"useLogin\", preferLegacyKeys),\n    },\n  });\n\n  const v3LegacyAuthProviderCompatibleMutation = useMutation<\n    TLoginData,\n    Error | RefineError,\n    TVariables,\n    unknown\n  >({\n    mutationKey: [\n      ...keys().auth().action(\"login\").get(preferLegacyKeys),\n      \"v3LegacyAuthProviderCompatible\",\n    ],\n    mutationFn: legacyLoginFromContext,\n    onSuccess: async (redirectPathFromAuth) => {\n      if (to) {\n        replace(to as string);\n      }\n\n      if (redirectPathFromAuth !== false && !to) {\n        if (typeof redirectPathFromAuth === \"string\") {\n          if (routerType === \"legacy\") {\n            replace(redirectPathFromAuth);\n          } else {\n            go({ to: redirectPathFromAuth, type: \"replace\" });\n          }\n        } else {\n          if (routerType === \"legacy\") {\n            replace(\"/\");\n          } else {\n            go({ to: \"/\", type: \"replace\" });\n          }\n        }\n      }\n\n      await invalidateAuthStore();\n\n      close?.(\"login-error\");\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible ? mutationOptions?.meta : {}),\n      ...getXRay(\"useLogin\", preferLegacyKeys),\n    },\n  });\n\n  return v3LegacyAuthProviderCompatible\n    ? v3LegacyAuthProviderCompatibleMutation\n    : mutation;\n}\n\nconst buildNotification = (\n  error?: Error | RefineError,\n): OpenNotificationParams => {\n  return {\n    message: error?.name || \"Login Error\",\n    description: error?.message || \"Invalid credentials\",\n    key: \"login-error\",\n    type: \"error\",\n  };\n};\n\nconst buildSuccessNotification = (\n  successNotification: SuccessNotificationResponse,\n): OpenNotificationParams => {\n  return {\n    message: successNotification.message,\n    description: successNotification.description,\n    key: \"login-success\",\n    type: \"success\",\n  };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n} from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport {\n  useGo,\n  useKeys,\n  useNavigation,\n  useNotification,\n  useRouterType,\n} from \"@hooks\";\n\nimport {\n  AuthActionResponse,\n  SuccessNotificationResponse,\n  TLoginData,\n  TRegisterData,\n} from \"../../../contexts/auth/types\";\nimport { RefineError } from \"../../../contexts/data/types\";\nimport { OpenNotificationParams } from \"../../../contexts/notification/types\";\nimport { useInvalidateAuthStore } from \"../useInvalidateAuthStore\";\n\nexport type UseRegisterLegacyProps<TVariables> = {\n  v3LegacyAuthProviderCompatible: true;\n  mutationOptions?: Omit<\n    UseMutationOptions<TRegisterData, Error | RefineError, TVariables, unknown>,\n    \"mutationFn\" | \"onError\" | \"onSuccess\"\n  >;\n};\n\nexport type UseRegisterProps<TVariables> = {\n  v3LegacyAuthProviderCompatible?: false;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      AuthActionResponse,\n      Error | RefineError,\n      TVariables,\n      unknown\n    >,\n    \"mutationFn\"\n  >;\n};\n\nexport type UseRegisterCombinedProps<TVariables> = {\n  v3LegacyAuthProviderCompatible: boolean;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      AuthActionResponse | TRegisterData,\n      Error | RefineError,\n      TVariables,\n      unknown\n    >,\n    \"mutationFn\"\n  >;\n};\n\nexport type UseRegisterLegacyReturnType<TVariables> = UseMutationResult<\n  TRegisterData,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport type UseRegisterReturnType<TVariables> = UseMutationResult<\n  AuthActionResponse,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport type UseRegisterCombinedReturnType<TVariables> = UseMutationResult<\n  AuthActionResponse | TLoginData,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport function useRegister<TVariables = {}>(\n  props: UseRegisterLegacyProps<TVariables>,\n): UseRegisterLegacyReturnType<TVariables>;\n\nexport function useRegister<TVariables = {}>(\n  props?: UseRegisterProps<TVariables>,\n): UseRegisterReturnType<TVariables>;\n\nexport function useRegister<TVariables = {}>(\n  props?: UseRegisterCombinedProps<TVariables>,\n): UseRegisterCombinedReturnType<TVariables>;\n\n/**\n * `useRegister` calls `register` method from {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useRegister} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useRegister<TVariables = {}>({\n  v3LegacyAuthProviderCompatible,\n  mutationOptions,\n}: UseRegisterProps<TVariables> | UseRegisterLegacyProps<TVariables> = {}):\n  | UseRegisterReturnType<TVariables>\n  | UseRegisterLegacyReturnType<TVariables> {\n  const invalidateAuthStore = useInvalidateAuthStore();\n  const routerType = useRouterType();\n  const go = useGo();\n  const { replace } = useNavigation();\n  const { register: legacyRegisterFromContext } = useLegacyAuthContext();\n  const { register: registerFromContext } = useAuthBindingsContext();\n  const { close, open } = useNotification();\n\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    AuthActionResponse,\n    Error | RefineError,\n    TVariables,\n    unknown\n  >({\n    mutationKey: keys().auth().action(\"register\").get(preferLegacyKeys),\n    mutationFn: registerFromContext,\n    onSuccess: async ({ success, redirectTo, error, successNotification }) => {\n      if (success) {\n        close?.(\"register-error\");\n\n        if (successNotification) {\n          open?.(buildSuccessNotification(successNotification));\n        }\n      }\n\n      if (error || !success) {\n        open?.(buildNotification(error));\n      }\n\n      if (redirectTo) {\n        if (routerType === \"legacy\") {\n          replace(redirectTo);\n        } else {\n          go({ to: redirectTo, type: \"replace\" });\n        }\n      } else {\n        if (routerType === \"legacy\") {\n          replace(\"/\");\n        }\n      }\n\n      await invalidateAuthStore();\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions?.meta),\n      ...getXRay(\"useRegister\", preferLegacyKeys),\n    },\n  });\n\n  const v3LegacyAuthProviderCompatibleMutation = useMutation<\n    TRegisterData,\n    Error | RefineError,\n    TVariables,\n    unknown\n  >({\n    mutationKey: [\n      ...keys().auth().action(\"register\").get(preferLegacyKeys),\n      \"v3LegacyAuthProviderCompatible\",\n    ],\n    mutationFn: legacyRegisterFromContext,\n    onSuccess: async (redirectPathFromAuth) => {\n      if (redirectPathFromAuth !== false) {\n        if (redirectPathFromAuth) {\n          if (routerType === \"legacy\") {\n            replace(redirectPathFromAuth);\n          } else {\n            go({ to: redirectPathFromAuth, type: \"replace\" });\n          }\n        } else {\n          if (routerType === \"legacy\") {\n            replace(\"/\");\n          } else {\n            go({ to: \"/\", type: \"replace\" });\n          }\n        }\n\n        await invalidateAuthStore();\n\n        close?.(\"register-error\");\n      }\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible ? mutationOptions?.meta : {}),\n      ...getXRay(\"useRegister\", preferLegacyKeys),\n    },\n  });\n\n  return v3LegacyAuthProviderCompatible\n    ? v3LegacyAuthProviderCompatibleMutation\n    : mutation;\n}\n\nconst buildNotification = (\n  error?: Error | RefineError,\n): OpenNotificationParams => {\n  return {\n    message: error?.name || \"Register Error\",\n    description: error?.message || \"Error while registering\",\n    key: \"register-error\",\n    type: \"error\",\n  };\n};\n\nconst buildSuccessNotification = (\n  successNotification: SuccessNotificationResponse,\n): OpenNotificationParams => {\n  return {\n    message: successNotification.message,\n    description: successNotification.description,\n    key: \"register-success\",\n    type: \"success\",\n  };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n} from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport {\n  useGo,\n  useKeys,\n  useNavigation,\n  useNotification,\n  useRouterType,\n} from \"@hooks\";\n\nimport {\n  AuthActionResponse,\n  SuccessNotificationResponse,\n  TForgotPasswordData,\n} from \"../../../contexts/auth/types\";\nimport { RefineError } from \"../../../contexts/data/types\";\nimport { OpenNotificationParams } from \"../../../contexts/notification/types\";\n\nexport type UseForgotPasswordLegacyProps<TVariables> = {\n  v3LegacyAuthProviderCompatible: true;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      TForgotPasswordData,\n      Error | RefineError,\n      TVariables,\n      unknown\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\"\n  >;\n};\n\nexport type UseForgotPasswordProps<TVariables> = {\n  v3LegacyAuthProviderCompatible?: false;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      AuthActionResponse,\n      Error | RefineError,\n      TVariables,\n      unknown\n    >,\n    \"mutationFn\"\n  >;\n};\n\nexport type UseForgotPasswordCombinedProps<TVariables> = {\n  v3LegacyAuthProviderCompatible: boolean;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      AuthActionResponse | TForgotPasswordData,\n      Error | RefineError,\n      TVariables,\n      unknown\n    >,\n    \"mutationFn\"\n  >;\n};\n\nexport type UseForgotPasswordLegacyReturnType<TVariables> = UseMutationResult<\n  TForgotPasswordData,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport type UseForgotPasswordReturnType<TVariables> = UseMutationResult<\n  AuthActionResponse,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport type UseForgotPasswordCombinedReturnType<TVariables> = UseMutationResult<\n  AuthActionResponse | TForgotPasswordData,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport function useForgotPassword<TVariables = {}>(\n  props: UseForgotPasswordLegacyProps<TVariables>,\n): UseForgotPasswordLegacyReturnType<TVariables>;\n\nexport function useForgotPassword<TVariables = {}>(\n  props?: UseForgotPasswordProps<TVariables>,\n): UseForgotPasswordReturnType<TVariables>;\n\nexport function useForgotPassword<TVariables = {}>(\n  props?: UseForgotPasswordCombinedProps<TVariables>,\n): UseForgotPasswordCombinedReturnType<TVariables>;\n\n/**\n * `useForgotPassword` calls `forgotPassword` method from {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useForgotPassword} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useForgotPassword<TVariables = {}>({\n  v3LegacyAuthProviderCompatible,\n  mutationOptions,\n}:\n  | UseForgotPasswordProps<TVariables>\n  | UseForgotPasswordLegacyProps<TVariables> = {}):\n  | UseForgotPasswordReturnType<TVariables>\n  | UseForgotPasswordLegacyReturnType<TVariables> {\n  const routerType = useRouterType();\n  const go = useGo();\n  const { replace } = useNavigation();\n  const {\n    forgotPassword: v3LegacyAuthProviderCompatibleForgotPasswordFromContext,\n  } = useLegacyAuthContext();\n  const { forgotPassword: forgotPasswordFromContext } =\n    useAuthBindingsContext();\n  const { close, open } = useNotification();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    AuthActionResponse,\n    Error | RefineError,\n    TVariables,\n    unknown\n  >({\n    mutationKey: keys().auth().action(\"forgotPassword\").get(preferLegacyKeys),\n    mutationFn: forgotPasswordFromContext,\n    onSuccess: ({ success, redirectTo, error, successNotification }) => {\n      if (success) {\n        close?.(\"forgot-password-error\");\n\n        if (successNotification) {\n          open?.(buildSuccessNotification(successNotification));\n        }\n      }\n\n      if (error || !success) {\n        open?.(buildNotification(error));\n      }\n\n      if (redirectTo) {\n        if (routerType === \"legacy\") {\n          replace(redirectTo);\n        } else {\n          go({ to: redirectTo, type: \"replace\" });\n        }\n      }\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions?.meta),\n      ...getXRay(\"useForgotPassword\", preferLegacyKeys),\n    },\n  });\n\n  const v3LegacyAuthProviderCompatibleMutation = useMutation<\n    TForgotPasswordData,\n    Error | RefineError,\n    TVariables,\n    unknown\n  >({\n    mutationKey: [\n      ...keys().auth().action(\"forgotPassword\").get(preferLegacyKeys),\n      \"v3LegacyAuthProviderCompatible\",\n    ],\n    mutationFn: v3LegacyAuthProviderCompatibleForgotPasswordFromContext,\n    onSuccess: (redirectPathFromAuth) => {\n      if (redirectPathFromAuth !== false) {\n        if (redirectPathFromAuth) {\n          if (routerType === \"legacy\") {\n            replace(redirectPathFromAuth);\n          } else {\n            go({ to: redirectPathFromAuth, type: \"replace\" });\n          }\n        }\n      }\n      close?.(\"forgot-password-error\");\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible ? mutationOptions?.meta : {}),\n      ...getXRay(\"useForgotPassword\", preferLegacyKeys),\n    },\n  });\n\n  return v3LegacyAuthProviderCompatible\n    ? v3LegacyAuthProviderCompatibleMutation\n    : mutation;\n}\n\nconst buildNotification = (\n  error?: Error | RefineError,\n): OpenNotificationParams => {\n  return {\n    message: error?.name || \"Forgot Password Error\",\n    description: error?.message || \"Error while resetting password\",\n    key: \"forgot-password-error\",\n    type: \"error\",\n  };\n};\n\nconst buildSuccessNotification = (\n  successNotification: SuccessNotificationResponse,\n): OpenNotificationParams => {\n  return {\n    message: successNotification.message,\n    description: successNotification.description,\n    key: \"forgot-password-success\",\n    type: \"success\",\n  };\n};\n", "import React from \"react\";\n\nimport { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n} from \"@tanstack/react-query\";\nimport qs from \"qs\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport {\n  useGo,\n  useKeys,\n  useNavigation,\n  useNotification,\n  useParsed,\n  useRouterContext,\n  useRouterType,\n} from \"@hooks\";\n\nimport { UpdatePasswordFormTypes } from \"../../../components/pages/auth/types\";\nimport {\n  AuthActionResponse,\n  SuccessNotificationResponse,\n  TUpdatePasswordData,\n} from \"../../../contexts/auth/types\";\nimport { RefineError } from \"../../../contexts/data/types\";\nimport { OpenNotificationParams } from \"../../../contexts/notification/types\";\n\nexport type UseUpdatePasswordLegacyProps<\n  TVariables extends UpdatePasswordFormTypes,\n> = {\n  v3LegacyAuthProviderCompatible: true;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      TUpdatePasswordData,\n      Error | RefineError,\n      TVariables,\n      unknown\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\"\n  >;\n};\n\nexport type UseUpdatePasswordProps<TVariables extends UpdatePasswordFormTypes> =\n  {\n    v3LegacyAuthProviderCompatible?: false;\n    mutationOptions?: Omit<\n      UseMutationOptions<\n        AuthActionResponse,\n        Error | RefineError,\n        TVariables,\n        unknown\n      >,\n      \"mutationFn\"\n    >;\n  };\n\nexport type UseUpdatePasswordCombinedProps<\n  TVariables extends UpdatePasswordFormTypes,\n> = {\n  v3LegacyAuthProviderCompatible: boolean;\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      AuthActionResponse | TUpdatePasswordData,\n      Error | RefineError,\n      TVariables,\n      unknown\n    >,\n    \"mutationFn\"\n  >;\n};\n\nexport type UseUpdatePasswordLegacyReturnType<\n  TVariables extends UpdatePasswordFormTypes,\n> = UseMutationResult<\n  TUpdatePasswordData,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport type UseUpdatePasswordReturnType<\n  TVariables extends UpdatePasswordFormTypes,\n> = UseMutationResult<\n  AuthActionResponse,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport type UseUpdatePasswordCombinedReturnType<\n  TVariables extends UpdatePasswordFormTypes,\n> = UseMutationResult<\n  AuthActionResponse | TUpdatePasswordData,\n  Error | RefineError,\n  TVariables,\n  unknown\n>;\n\nexport function useUpdatePassword<TVariables extends UpdatePasswordFormTypes>(\n  props: UseUpdatePasswordLegacyProps<TVariables>,\n): UseUpdatePasswordLegacyReturnType<TVariables>;\n\nexport function useUpdatePassword<TVariables extends UpdatePasswordFormTypes>(\n  props?: UseUpdatePasswordProps<TVariables>,\n): UseUpdatePasswordReturnType<TVariables>;\n\nexport function useUpdatePassword<TVariables extends UpdatePasswordFormTypes>(\n  props?: UseUpdatePasswordCombinedProps<TVariables>,\n): UseUpdatePasswordCombinedReturnType<TVariables>;\n\n/**\n * `useUpdatePassword` calls `updatePassword` method from {@link https://refine.dev/docs/api-reference/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useUpdatePassword} for more details.\n *\n * @typeParam TData - Result data of the query\n * @typeParam TVariables - Values for mutation function. default `{}`\n *\n */\nexport function useUpdatePassword<\n  TVariables extends UpdatePasswordFormTypes = {},\n>({\n  v3LegacyAuthProviderCompatible,\n  mutationOptions,\n}:\n  | UseUpdatePasswordProps<TVariables>\n  | UseUpdatePasswordLegacyProps<TVariables> = {}):\n  | UseUpdatePasswordReturnType<TVariables>\n  | UseUpdatePasswordLegacyReturnType<TVariables> {\n  const routerType = useRouterType();\n\n  const go = useGo();\n  const { replace } = useNavigation();\n  const { updatePassword: legacyUpdatePasswordFromContext } =\n    useLegacyAuthContext();\n  const { updatePassword: updatePasswordFromContext } =\n    useAuthBindingsContext();\n  const { close, open } = useNotification();\n\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const parsed = useParsed();\n  const { useLocation } = useRouterContext();\n  const { search } = useLocation();\n\n  const params = React.useMemo(() => {\n    if (routerType === \"legacy\") {\n      const queryStrings = qs.parse(search, {\n        ignoreQueryPrefix: true,\n      });\n      return queryStrings ?? {};\n    }\n    return parsed.params ?? {};\n  }, [search, parsed, routerType]);\n\n  const mutation = useMutation<AuthActionResponse, Error, TVariables, unknown>({\n    mutationKey: keys().auth().action(\"updatePassword\").get(preferLegacyKeys),\n    mutationFn: async (variables) => {\n      return updatePasswordFromContext?.({\n        ...params,\n        ...variables,\n      }) as Promise<AuthActionResponse>;\n    },\n    onSuccess: ({ success, redirectTo, error, successNotification }) => {\n      if (success) {\n        close?.(\"update-password-error\");\n\n        if (successNotification) {\n          open?.(buildSuccessNotification(successNotification));\n        }\n      }\n\n      if (error || !success) {\n        open?.(buildNotification(error));\n      }\n\n      if (redirectTo) {\n        if (routerType === \"legacy\") {\n          replace(redirectTo);\n        } else {\n          go({ to: redirectTo, type: \"replace\" });\n        }\n      }\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible === true ? {} : mutationOptions?.meta),\n      ...getXRay(\"useUpdatePassword\", preferLegacyKeys),\n    },\n  });\n\n  const v3LegacyAuthProviderCompatibleMutation = useMutation<\n    TUpdatePasswordData,\n    Error | RefineError,\n    TVariables,\n    unknown\n  >({\n    mutationKey: [\n      ...keys().auth().action(\"updatePassword\").get(preferLegacyKeys),\n      \"v3LegacyAuthProviderCompatible\",\n    ],\n    mutationFn: async (variables) => {\n      return legacyUpdatePasswordFromContext?.({\n        ...params,\n        ...variables,\n      });\n    },\n    onSuccess: (redirectPathFromAuth) => {\n      if (redirectPathFromAuth !== false) {\n        if (redirectPathFromAuth) {\n          if (routerType === \"legacy\") {\n            replace(redirectPathFromAuth);\n          } else {\n            go({ to: redirectPathFromAuth, type: \"replace\" });\n          }\n        }\n      }\n      close?.(\"update-password-error\");\n    },\n    onError: (error: any) => {\n      open?.(buildNotification(error));\n    },\n    ...(v3LegacyAuthProviderCompatible ? mutationOptions : {}),\n    meta: {\n      ...(v3LegacyAuthProviderCompatible ? mutationOptions?.meta : {}),\n      ...getXRay(\"useUpdatePassword\", preferLegacyKeys),\n    },\n  });\n\n  return v3LegacyAuthProviderCompatible\n    ? v3LegacyAuthProviderCompatibleMutation\n    : mutation;\n}\n\nconst buildNotification = (\n  error?: Error | RefineError,\n): OpenNotificationParams => {\n  return {\n    message: error?.name || \"Update Password Error\",\n    description: error?.message || \"Error while updating password\",\n    key: \"update-password-error\",\n    type: \"error\",\n  };\n};\n\nconst buildSuccessNotification = (\n  successNotification: SuccessNotificationResponse,\n): OpenNotificationParams => {\n  return {\n    message: successNotification.message,\n    description: successNotification.description,\n    key: \"update-password-success\",\n    type: \"success\",\n  };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport { UseQueryResult, useQuery } from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nimport { CheckResponse } from \"../../../contexts/auth/types\";\n\nexport type UseIsAuthenticatedLegacyProps = {\n  v3LegacyAuthProviderCompatible: true;\n  params?: any;\n};\n\nexport type UseIsAuthenticatedProps = {\n  v3LegacyAuthProviderCompatible?: false;\n  params?: any;\n};\n\nexport type UseIsAuthenticatedCombinedProps = {\n  v3LegacyAuthProviderCompatible: boolean;\n  params?: any;\n};\n\nexport type UseIsAuthenticatedLegacyReturnType = UseQueryResult<any, any>;\n\nexport type UseIsAuthenticatedReturnType = UseQueryResult<CheckResponse, any>;\n\nexport type UseIsAuthenticatedCombinedReturnType = UseQueryResult<\n  CheckResponse | any,\n  any\n>;\n\nexport function useIsAuthenticated(\n  props: UseIsAuthenticatedLegacyProps,\n): UseIsAuthenticatedLegacyReturnType;\n\nexport function useIsAuthenticated(\n  props?: UseIsAuthenticatedProps,\n): UseIsAuthenticatedReturnType;\n\nexport function useIsAuthenticated(\n  props?: UseIsAuthenticatedCombinedProps,\n): UseIsAuthenticatedCombinedReturnType;\n\n/**\n *  `useIsAuthenticated` calls the `checkAuth` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useAuthenticated} for more details.\n */\nexport function useIsAuthenticated({\n  v3LegacyAuthProviderCompatible = false,\n  params,\n}: UseIsAuthenticatedProps | UseIsAuthenticatedLegacyProps = {}):\n  | UseIsAuthenticatedReturnType\n  | UseIsAuthenticatedLegacyReturnType {\n  const { checkAuth } = useLegacyAuthContext();\n  const { check } = useAuthBindingsContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const queryResponse = useQuery({\n    queryKey: keys()\n      .auth()\n      .action(\"check\")\n      .params(params)\n      .get(preferLegacyKeys),\n    queryFn: async () => (await check?.(params)) ?? {},\n    retry: false,\n    enabled: !v3LegacyAuthProviderCompatible,\n    meta: {\n      ...getXRay(\"useIsAuthenticated\", preferLegacyKeys),\n    },\n  });\n\n  const legacyQueryResponse = useQuery({\n    queryKey: [\n      ...keys().auth().action(\"check\").params(params).get(preferLegacyKeys),\n      \"v3LegacyAuthProviderCompatible\",\n    ],\n    queryFn: async () => (await checkAuth?.(params)) ?? {},\n    retry: false,\n    enabled: v3LegacyAuthProviderCompatible,\n    meta: {\n      ...getXRay(\"useIsAuthenticated\", preferLegacyKeys),\n    },\n  });\n\n  return v3LegacyAuthProviderCompatible ? legacyQueryResponse : queryResponse;\n}\n\n/**\n * @deprecated `useAuthenticated` is deprecated with refine@4, use `useIsAuthenticated` instead, however, we still support `useAuthenticated` for backward compatibility.\n */\nexport const useAuthenticated = useIsAuthenticated;\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport { UseMutationResult, useMutation } from \"@tanstack/react-query\";\n\nimport { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\nimport { useGo, useLogout, useNavigation, useRouterType } from \"@hooks\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nimport { OnErrorResponse } from \"../../../contexts/auth/types\";\n\nexport type UseOnErrorLegacyProps = {\n  v3LegacyAuthProviderCompatible: true;\n};\n\nexport type UseOnErrorProps = {\n  v3LegacyAuthProviderCompatible?: false;\n};\n\nexport type UseOnErrorCombinedProps = {\n  v3LegacyAuthProviderCompatible: boolean;\n};\n\nexport type UseOnErrorLegacyReturnType = UseMutationResult<\n  void,\n  string | undefined,\n  any,\n  unknown\n>;\n\nexport type UseOnErrorReturnType = UseMutationResult<\n  OnErrorResponse,\n  unknown,\n  unknown,\n  unknown\n>;\nexport type UseOnErrorCombinedReturnType = UseMutationResult<\n  OnErrorResponse | void,\n  unknown,\n  unknown,\n  unknown\n>;\n\nexport function useOnError(\n  props: UseOnErrorLegacyProps,\n): UseOnErrorLegacyReturnType;\n\nexport function useOnError(props?: UseOnErrorProps): UseOnErrorReturnType;\n\nexport function useOnError(\n  props?: UseOnErrorCombinedProps,\n): UseOnErrorCombinedReturnType;\n\n/**\n * `useOnError` calls the `checkError` method from the {@link https://refine.dev/docs/core/providers/auth-provider `authProvider`} under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/auth/useCheckError} for more details.\n *\n */\nexport function useOnError({\n  v3LegacyAuthProviderCompatible = false,\n}: UseOnErrorProps | UseOnErrorLegacyProps = {}):\n  | UseOnErrorReturnType\n  | UseOnErrorLegacyReturnType {\n  const routerType = useRouterType();\n  const go = useGo();\n  const { replace } = useNavigation();\n\n  const { checkError: legacyCheckErrorFromContext } = useLegacyAuthContext();\n  const { onError: onErrorFromContext } = useAuthBindingsContext();\n\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const { mutate: legacyLogout } = useLogout({\n    v3LegacyAuthProviderCompatible: Boolean(v3LegacyAuthProviderCompatible),\n  });\n  const { mutate: logout } = useLogout({\n    v3LegacyAuthProviderCompatible: Boolean(v3LegacyAuthProviderCompatible),\n  });\n\n  const mutation = useMutation<OnErrorResponse, unknown, unknown, unknown>({\n    mutationKey: keys().auth().action(\"onError\").get(preferLegacyKeys),\n    ...(onErrorFromContext\n      ? {\n          mutationFn: onErrorFromContext,\n          onSuccess: ({ logout: shouldLogout, redirectTo }) => {\n            if (shouldLogout) {\n              logout({ redirectPath: redirectTo });\n              return;\n            }\n\n            if (redirectTo) {\n              if (routerType === \"legacy\") {\n                replace(redirectTo);\n              } else {\n                go({ to: redirectTo, type: \"replace\" });\n              }\n              return;\n            }\n          },\n        }\n      : {\n          mutationFn: () => ({}) as Promise<OnErrorResponse>,\n        }),\n    meta: {\n      ...getXRay(\"useOnError\", preferLegacyKeys),\n    },\n  });\n\n  const v3LegacyAuthProviderCompatibleMutation = useMutation({\n    mutationKey: [\n      ...keys().auth().action(\"onError\").get(preferLegacyKeys),\n      \"v3LegacyAuthProviderCompatible\",\n    ],\n    mutationFn: legacyCheckErrorFromContext,\n    onError: (redirectPath?: string) => {\n      legacyLogout({ redirectPath });\n    },\n    meta: {\n      ...getXRay(\"useOnError\", preferLegacyKeys),\n    },\n  });\n\n  return v3LegacyAuthProviderCompatible\n    ? v3LegacyAuthProviderCompatibleMutation\n    : mutation;\n}\n\n/**\n * @deprecated `useCheckError` is deprecated with refine@4, use `useOnError` instead, however, we still support `useCheckError` for backward compatibility.\n */\nexport const useCheckError = useOnError;\n", "import { useAuthBindingsContext, useLegacyAuthContext } from \"@contexts/auth\";\n\n/**\n * A hook that the UI uses\n * @internal\n */\nexport const useIsExistAuthentication = (): boolean => {\n  const { isProvided: legacyIsProvided } = useLegacyAuthContext();\n  const { isProvided } = useAuthBindingsContext();\n\n  return Boolean(isProvided || legacyIsProvided);\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  QueryObserverResult,\n  UseQueryOptions,\n  useQuery,\n} from \"@tanstack/react-query\";\n\nimport {\n  handlePaginationParams,\n  pickDataProvider,\n  pickNotDeprecated,\n  prepareQueryContext,\n  useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n  useDataProvider,\n  useHandleNotification,\n  useKeys,\n  useMeta,\n  useOnError,\n  useResource,\n  useResourceSubscription,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseRecord,\n  CrudFilter,\n  CrudSort,\n  GetListResponse,\n  HttpError,\n  MetaQuery,\n  Pagination,\n  Prettify,\n} from \"../../contexts/data/types\";\nimport { LiveModeProps } from \"../../contexts/live/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nexport interface UseListConfig {\n  pagination?: Pagination;\n  hasPagination?: boolean;\n  sort?: CrudSort[];\n  filters?: CrudFilter[];\n}\n\nexport type BaseListProps = {\n  /**\n   * Configuration for pagination, sorting and filtering\n   * @type [`UseListConfig`](/docs/api-reference/core/hooks/data/useList/#config-parameters)\n   * @deprecated `config` property is deprecated. Use `pagination`, `hasPagination`, `sorters` and `filters` instead.\n   */\n  config?: UseListConfig;\n  /**\n   * Pagination properties\n   */\n  pagination?: Pagination;\n  /**\n   * Whether to use server-side pagination or not\n   * @deprecated `hasPagination` property is deprecated. Use `pagination.mode` instead.\n   */\n  hasPagination?: boolean;\n  /**\n   * Sorter parameters\n   */\n  sorters?: CrudSort[];\n  /**\n   * Filter parameters\n   */\n  filters?: CrudFilter[];\n  /**\n   * Meta data query for `dataProvider`\n   */\n  meta?: MetaQuery;\n  /**\n   * Meta data query for `dataProvider`\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use\n   */\n  dataProviderName?: string;\n};\n\nexport type UseListProps<TQueryFnData, TError, TData> = {\n  /**\n   * Resource name for API data interactions\n   */\n  resource?: string;\n\n  /**\n   * Tanstack Query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n   */\n  queryOptions?: UseQueryOptions<\n    GetListResponse<TQueryFnData>,\n    TError,\n    GetListResponse<TData>\n  >;\n} & BaseListProps &\n  SuccessErrorNotification<\n    GetListResponse<TData>,\n    TError,\n    Prettify<BaseListProps>\n  > &\n  LiveModeProps &\n  UseLoadingOvertimeOptionsProps;\n\n/**\n * `useList` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving items from a `resource` with pagination, sort, and filter configurations.\n *\n * It uses the `getList` method as the query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useList} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useList = <\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TData extends BaseRecord = TQueryFnData,\n>({\n  resource: resourceFromProp,\n  config,\n  filters,\n  hasPagination,\n  pagination,\n  sorters,\n  queryOptions,\n  successNotification,\n  errorNotification,\n  meta,\n  metaData,\n  liveMode,\n  onLiveEvent,\n  liveParams,\n  dataProviderName,\n  overtimeOptions,\n}: UseListProps<TQueryFnData, TError, TData> = {}): QueryObserverResult<\n  GetListResponse<TData>,\n  TError\n> &\n  UseLoadingOvertimeReturnType => {\n  const { resources, resource, identifier } = useResource(resourceFromProp);\n\n  const dataProvider = useDataProvider();\n  const translate = useTranslate();\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const handleNotification = useHandleNotification();\n  const getMeta = useMeta();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const pickedDataProvider = pickDataProvider(\n    identifier,\n    dataProviderName,\n    resources,\n  );\n  const preferredMeta = pickNotDeprecated(meta, metaData);\n  const prefferedFilters = pickNotDeprecated(filters, config?.filters);\n  const prefferedSorters = pickNotDeprecated(sorters, config?.sort);\n  const prefferedHasPagination = pickNotDeprecated(\n    hasPagination,\n    config?.hasPagination,\n  );\n  const prefferedPagination = handlePaginationParams({\n    pagination,\n    configPagination: config?.pagination,\n    hasPagination: prefferedHasPagination,\n  });\n  const isServerPagination = prefferedPagination.mode === \"server\";\n\n  const combinedMeta = getMeta({ resource, meta: preferredMeta });\n\n  const notificationValues = {\n    meta: combinedMeta,\n    metaData: combinedMeta,\n    filters: prefferedFilters,\n    hasPagination: isServerPagination,\n    pagination: prefferedPagination,\n    sorters: prefferedSorters,\n    config: {\n      ...config,\n      sort: prefferedSorters,\n    },\n  };\n\n  const isEnabled =\n    queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n  const { getList } = dataProvider(pickedDataProvider);\n\n  useResourceSubscription({\n    resource: identifier,\n    types: [\"*\"],\n    params: {\n      meta: combinedMeta,\n      metaData: combinedMeta,\n      pagination: prefferedPagination,\n      hasPagination: isServerPagination,\n      sort: prefferedSorters,\n      sorters: prefferedSorters,\n      filters: prefferedFilters,\n      subscriptionType: \"useList\",\n      ...liveParams,\n    },\n    channel: `resources/${resource?.name}`,\n    enabled: isEnabled,\n    liveMode,\n    onLiveEvent,\n    dataProviderName: pickedDataProvider,\n    meta: {\n      ...meta,\n      dataProviderName,\n    },\n  });\n\n  const queryResponse = useQuery<\n    GetListResponse<TQueryFnData>,\n    TError,\n    GetListResponse<TData>\n  >({\n    queryKey: keys()\n      .data(pickedDataProvider)\n      .resource(identifier ?? \"\")\n      .action(\"list\")\n      .params({\n        ...(preferredMeta || {}),\n        filters: prefferedFilters,\n        hasPagination: isServerPagination,\n        ...(isServerPagination && {\n          pagination: prefferedPagination,\n        }),\n        ...(sorters && {\n          sorters,\n        }),\n        ...(config?.sort && {\n          sort: config?.sort,\n        }),\n      })\n      .get(preferLegacyKeys),\n    queryFn: (context) => {\n      const meta = {\n        ...combinedMeta,\n        queryContext: prepareQueryContext(context),\n      };\n      return getList<TQueryFnData>({\n        resource: resource?.name ?? \"\",\n        pagination: prefferedPagination,\n        hasPagination: isServerPagination,\n        filters: prefferedFilters,\n        sort: prefferedSorters,\n        sorters: prefferedSorters,\n        meta,\n        metaData: meta,\n      });\n    },\n    ...queryOptions,\n    enabled:\n      typeof queryOptions?.enabled !== \"undefined\"\n        ? queryOptions?.enabled\n        : !!resource?.name,\n    select: (rawData) => {\n      let data = rawData;\n\n      const { current, mode, pageSize } = prefferedPagination;\n\n      if (mode === \"client\") {\n        data = {\n          ...data,\n          data: data.data.slice((current - 1) * pageSize, current * pageSize),\n          total: data.total,\n        };\n      }\n\n      if (queryOptions?.select) {\n        return queryOptions?.select?.(data);\n      }\n\n      return data as unknown as GetListResponse<TData>;\n    },\n    onSuccess: (data) => {\n      queryOptions?.onSuccess?.(data);\n\n      const notificationConfig =\n        typeof successNotification === \"function\"\n          ? successNotification(data, notificationValues, identifier)\n          : successNotification;\n\n      handleNotification(notificationConfig);\n    },\n    onError: (err: TError) => {\n      checkError(err);\n      queryOptions?.onError?.(err);\n\n      const notificationConfig =\n        typeof errorNotification === \"function\"\n          ? errorNotification(err, notificationValues, identifier)\n          : errorNotification;\n\n      handleNotification(notificationConfig, {\n        key: `${identifier}-useList-notification`,\n        message: translate(\n          \"notifications.error\",\n          { statusCode: err.statusCode },\n          `Error (status code: ${err.statusCode})`,\n        ),\n        description: err.message,\n        type: \"error\",\n      });\n    },\n    meta: {\n      ...queryOptions?.meta,\n      ...getXRay(\"useList\", preferLegacyKeys, resource?.name),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: queryResponse.isFetching,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...queryResponse, overtime: { elapsedTime } };\n};\n", "import { useEffect, useState } from \"react\";\nimport { useRefineContext } from \"..\";\n\nexport type UseLoadingOvertimeRefineContext = Omit<\n  UseLoadingOvertimeCoreProps,\n  \"isLoading\" | \"interval\"\n> &\n  Required<Pick<UseLoadingOvertimeCoreProps, \"interval\">>;\n\nexport type UseLoadingOvertimeOptionsProps = {\n  overtimeOptions?: UseLoadingOvertimeCoreOptions;\n};\n\nexport type UseLoadingOvertimeReturnType = {\n  overtime: {\n    elapsedTime?: number;\n  };\n};\n\ntype UseLoadingOvertimeCoreOptions = Omit<\n  UseLoadingOvertimeCoreProps,\n  \"isLoading\"\n>;\n\ntype UseLoadingOvertimeCoreReturnType = {\n  elapsedTime?: number;\n};\n\nexport type UseLoadingOvertimeCoreProps = {\n  /**\n   * The loading state. If true, the elapsed time will be calculated.\n   */\n  isLoading: boolean;\n\n  /**\n   * The interval in milliseconds. If the loading time exceeds this time, the `onInterval` callback will be called.\n   * If not specified, the `interval` value from the `overtime` option of the `RefineProvider` will be used.\n   *\n   * @default: 1000 (1 second)\n   */\n  interval?: number;\n\n  /**\n   * The callback function that will be called when the loading time exceeds the specified time.\n   * If not specified, the `onInterval` value from the `overtime` option of the `RefineProvider` will be used.\n   *\n   * @param elapsedInterval The elapsed time in milliseconds.\n   */\n  onInterval?: (elapsedInterval: number) => void;\n};\n\n/**\n * if you need to do something when the loading time exceeds the specified time, refine provides the `useLoadingOvertime` hook.\n * It returns the elapsed time in milliseconds.\n *\n * @example\n * const { elapsedTime } = useLoadingOvertime({\n *    isLoading,\n *    interval: 1000,\n *    onInterval(elapsedInterval) {\n *        console.log(\"loading overtime\", elapsedInterval);\n *    },\n * });\n */\nexport const useLoadingOvertime = ({\n  isLoading,\n  interval: intervalProp,\n  onInterval: onIntervalProp,\n}: UseLoadingOvertimeCoreProps): UseLoadingOvertimeCoreReturnType => {\n  const [elapsedTime, setElapsedTime] = useState<number | undefined>(undefined);\n  // get overtime options from refine context\n  const { options } = useRefineContext();\n  const { overtime } = options;\n\n  // pick props or refine context options\n  const interval = intervalProp ?? overtime.interval;\n  const onInterval = onIntervalProp ?? overtime?.onInterval;\n\n  useEffect(() => {\n    let intervalFn: ReturnType<typeof setInterval>;\n\n    if (isLoading) {\n      intervalFn = setInterval(() => {\n        // increase elapsed time\n        setElapsedTime((prevElapsedTime) => {\n          if (prevElapsedTime === undefined) {\n            return interval;\n          }\n\n          return prevElapsedTime + interval;\n        });\n      }, interval);\n    }\n\n    return () => {\n      clearInterval(intervalFn);\n      // reset elapsed time\n      setElapsedTime(undefined);\n    };\n  }, [isLoading, interval]);\n\n  useEffect(() => {\n    // call onInterval callback\n    if (onInterval && elapsedTime) {\n      onInterval(elapsedTime);\n    }\n  }, [elapsedTime]);\n\n  return {\n    elapsedTime,\n  };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  QueryObserverResult,\n  UseQueryOptions,\n  useQuery,\n} from \"@tanstack/react-query\";\n\nimport {\n  pickDataProvider,\n  pickNotDeprecated,\n  prepareQueryContext,\n  useActiveAuthProvider,\n} from \"@definitions\";\nimport {\n  useDataProvider,\n  useHandleNotification,\n  useKeys,\n  useMeta,\n  useOnError,\n  useResource,\n  useResourceSubscription,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseKey,\n  BaseRecord,\n  GetOneResponse,\n  HttpError,\n  MetaQuery,\n  Prettify,\n} from \"../../contexts/data/types\";\nimport { LiveModeProps } from \"../../contexts/live/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nexport type UseOneProps<TQueryFnData, TError, TData> = {\n  /**\n   * Resource name for API data interactions\n   */\n  resource?: string;\n  /**\n   * id of the item in the resource\n   * @type [`BaseKey`](/docs/api-reference/core/interfaceReferences/#basekey)\n   */\n  id?: BaseKey;\n  /**\n   * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n   */\n  queryOptions?: UseQueryOptions<\n    GetOneResponse<TQueryFnData>,\n    TError,\n    GetOneResponse<TData>\n  >;\n  /**\n   * Metadata query for `dataProvider`,\n   */\n  meta?: MetaQuery;\n  /**\n   * Meta data query for `dataProvider`,\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   * @default `\"default\"``\n   */\n  dataProviderName?: string;\n} & SuccessErrorNotification<\n  GetOneResponse<TData>,\n  TError,\n  Prettify<{ id?: BaseKey } & MetaQuery>\n> &\n  LiveModeProps &\n  UseLoadingOvertimeOptionsProps;\n\n/**\n * `useOne` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving single items from a `resource`.\n *\n * It uses `getOne` method as query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useOne} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useOne = <\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TData extends BaseRecord = TQueryFnData,\n>({\n  resource: resourceFromProp,\n  id,\n  queryOptions,\n  successNotification,\n  errorNotification,\n  meta,\n  metaData,\n  liveMode,\n  onLiveEvent,\n  liveParams,\n  dataProviderName,\n  overtimeOptions,\n}: UseOneProps<TQueryFnData, TError, TData>): QueryObserverResult<\n  GetOneResponse<TData>,\n  TError\n> &\n  UseLoadingOvertimeReturnType => {\n  const { resources, resource, identifier } = useResource(resourceFromProp);\n\n  const dataProvider = useDataProvider();\n  const translate = useTranslate();\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const handleNotification = useHandleNotification();\n  const getMeta = useMeta();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const preferredMeta = pickNotDeprecated(meta, metaData);\n  const pickedDataProvider = pickDataProvider(\n    identifier,\n    dataProviderName,\n    resources,\n  );\n\n  const { getOne } = dataProvider(pickedDataProvider);\n\n  const combinedMeta = getMeta({ resource, meta: preferredMeta });\n\n  useResourceSubscription({\n    resource: identifier,\n    types: [\"*\"],\n    channel: `resources/${resource?.name}`,\n    params: {\n      ids: id ? [id] : [],\n      id: id,\n      meta: combinedMeta,\n      metaData: combinedMeta,\n      subscriptionType: \"useOne\",\n      ...liveParams,\n    },\n    enabled:\n      typeof queryOptions?.enabled !== \"undefined\"\n        ? queryOptions?.enabled\n        : typeof resource?.name !== \"undefined\" && typeof id !== \"undefined\",\n    liveMode,\n    onLiveEvent,\n    dataProviderName: pickedDataProvider,\n    meta: {\n      ...meta,\n      dataProviderName,\n    },\n  });\n\n  const queryResponse = useQuery<\n    GetOneResponse<TQueryFnData>,\n    TError,\n    GetOneResponse<TData>\n  >({\n    queryKey: keys()\n      .data(pickedDataProvider)\n      .resource(identifier ?? \"\")\n      .action(\"one\")\n      .id(id ?? \"\")\n      .params({\n        ...(preferredMeta || {}),\n      })\n      .get(preferLegacyKeys),\n    queryFn: (context) =>\n      getOne<TQueryFnData>({\n        resource: resource?.name ?? \"\",\n        id: id!,\n        meta: {\n          ...combinedMeta,\n          queryContext: prepareQueryContext(context),\n        },\n        metaData: {\n          ...combinedMeta,\n          queryContext: prepareQueryContext(context),\n        },\n      }),\n    ...queryOptions,\n    enabled:\n      typeof queryOptions?.enabled !== \"undefined\"\n        ? queryOptions?.enabled\n        : typeof id !== \"undefined\",\n    onSuccess: (data) => {\n      queryOptions?.onSuccess?.(data);\n\n      const notificationConfig =\n        typeof successNotification === \"function\"\n          ? successNotification(\n              data,\n              {\n                id,\n                ...combinedMeta,\n              },\n              identifier,\n            )\n          : successNotification;\n\n      handleNotification(notificationConfig);\n    },\n    onError: (err: TError) => {\n      checkError(err);\n      queryOptions?.onError?.(err);\n\n      const notificationConfig =\n        typeof errorNotification === \"function\"\n          ? errorNotification(\n              err,\n              {\n                id,\n                ...combinedMeta,\n              },\n              identifier,\n            )\n          : errorNotification;\n\n      handleNotification(notificationConfig, {\n        key: `${id}-${identifier}-getOne-notification`,\n        message: translate(\n          \"notifications.error\",\n          { statusCode: err.statusCode },\n          `Error (status code: ${err.statusCode})`,\n        ),\n        description: err.message,\n        type: \"error\",\n      });\n    },\n    meta: {\n      ...queryOptions?.meta,\n      ...getXRay(\"useOne\", preferLegacyKeys, resource?.name),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: queryResponse.isFetching,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...queryResponse, overtime: { elapsedTime } };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  QueryObserverResult,\n  UseQueryOptions,\n  useQuery,\n} from \"@tanstack/react-query\";\n\nimport {\n  handleMultiple,\n  pickDataProvider,\n  pickNotDeprecated,\n  prepareQueryContext,\n  useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n  useDataProvider,\n  useHandleNotification,\n  useKeys,\n  useMeta,\n  useOnError,\n  useResource,\n  useResourceSubscription,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseKey,\n  BaseRecord,\n  GetManyResponse,\n  HttpError,\n  MetaQuery,\n} from \"../../contexts/data/types\";\nimport { LiveModeProps } from \"../../contexts/live/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nexport type UseManyProps<TQueryFnData, TError, TData> = {\n  /**\n   * Resource name for API data interactions\n   */\n  resource: string;\n  /**\n   * ids of the item in the resource\n   * @type [`BaseKey[]`](/docs/api-reference/core/interfaceReferences/#basekey)\n   */\n  ids: BaseKey[];\n  /**\n   * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n   */\n  queryOptions?: UseQueryOptions<\n    GetManyResponse<TQueryFnData>,\n    TError,\n    GetManyResponse<TData>\n  >;\n  /**\n   * Metadata query for `dataProvider`,\n   */\n  meta?: MetaQuery;\n  /**\n   * Metadata query for `dataProvider`,\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   * @default \"default\"\n   */\n  dataProviderName?: string;\n} & SuccessErrorNotification<GetManyResponse<TData>, TError, BaseKey[]> &\n  LiveModeProps &\n  UseLoadingOvertimeOptionsProps;\n\n/**\n * `useMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for retrieving multiple items from a `resource`.\n *\n * It uses `getMany` method as query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useMany} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useMany = <\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TData extends BaseRecord = TQueryFnData,\n>({\n  resource: resourceFromProp,\n  ids,\n  queryOptions,\n  successNotification,\n  errorNotification,\n  meta,\n  metaData,\n  liveMode,\n  onLiveEvent,\n  liveParams,\n  dataProviderName,\n  overtimeOptions,\n}: UseManyProps<TQueryFnData, TError, TData>): QueryObserverResult<\n  GetManyResponse<TData>,\n  TError\n> &\n  UseLoadingOvertimeReturnType => {\n  const { resources, resource, identifier } = useResource(resourceFromProp);\n  const dataProvider = useDataProvider();\n  const translate = useTranslate();\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const handleNotification = useHandleNotification();\n  const getMeta = useMeta();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const preferredMeta = pickNotDeprecated(meta, metaData);\n  const pickedDataProvider = pickDataProvider(\n    identifier,\n    dataProviderName,\n    resources,\n  );\n  const isEnabled =\n    queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n  const { getMany, getOne } = dataProvider(pickedDataProvider);\n\n  const combinedMeta = getMeta({ resource, meta: preferredMeta });\n\n  useResourceSubscription({\n    resource: identifier,\n    types: [\"*\"],\n    params: {\n      ids: ids,\n      meta: combinedMeta,\n      metaData: combinedMeta,\n      subscriptionType: \"useMany\",\n      ...liveParams,\n    },\n    channel: `resources/${resource.name}`,\n    enabled: isEnabled,\n    liveMode,\n    onLiveEvent,\n    dataProviderName: pickedDataProvider,\n    meta: {\n      ...meta,\n      dataProviderName,\n    },\n  });\n\n  const queryResponse = useQuery<\n    GetManyResponse<TQueryFnData>,\n    TError,\n    GetManyResponse<TData>\n  >({\n    queryKey: keys()\n      .data(pickedDataProvider)\n      .resource(identifier)\n      .action(\"many\")\n      .ids(...ids)\n      .params({\n        ...(preferredMeta || {}),\n      })\n      .get(preferLegacyKeys),\n    queryFn: (context) => {\n      const meta = {\n        ...combinedMeta,\n        queryContext: prepareQueryContext(context),\n      };\n\n      if (getMany) {\n        return getMany({\n          resource: resource?.name,\n          ids,\n          meta,\n          metaData: meta,\n        });\n      }\n      return handleMultiple(\n        ids.map((id) =>\n          getOne<TQueryFnData>({\n            resource: resource?.name,\n            id,\n            meta,\n            metaData: meta,\n          }),\n        ),\n      );\n    },\n    ...queryOptions,\n    onSuccess: (data) => {\n      queryOptions?.onSuccess?.(data);\n\n      const notificationConfig =\n        typeof successNotification === \"function\"\n          ? successNotification(data, ids, identifier)\n          : successNotification;\n\n      handleNotification(notificationConfig);\n    },\n    onError: (err: TError) => {\n      checkError(err);\n      queryOptions?.onError?.(err);\n\n      const notificationConfig =\n        typeof errorNotification === \"function\"\n          ? errorNotification(err, ids, identifier)\n          : errorNotification;\n\n      handleNotification(notificationConfig, {\n        key: `${ids[0]}-${identifier}-getMany-notification`,\n        message: translate(\n          \"notifications.error\",\n          { statusCode: err.statusCode },\n          `Error (status code: ${err.statusCode})`,\n        ),\n        description: err.message,\n        type: \"error\",\n      });\n    },\n    meta: {\n      ...queryOptions?.meta,\n      ...getXRay(\"useMany\", preferLegacyKeys, resource?.name),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: queryResponse.isFetching,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...queryResponse, overtime: { elapsedTime } };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n  useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport {\n  pickDataProvider,\n  pickNotDeprecated,\n  queryKeysReplacement,\n  useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n  useCancelNotification,\n  useDataProvider,\n  useHandleNotification,\n  useInvalidate,\n  useKeys,\n  useLog,\n  useMeta,\n  useMutationMode,\n  useOnError,\n  usePublish,\n  useRefineContext,\n  useResource,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseKey,\n  BaseRecord,\n  GetListResponse,\n  GetManyResponse,\n  GetOneResponse,\n  HttpError,\n  IQueryKeys,\n  MetaQuery,\n  MutationMode,\n  PrevContext as UpdateContext,\n  PreviousQuery,\n  UpdateResponse,\n} from \"../../contexts/data/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport { ActionTypes } from \"../../contexts/undoableQueue/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nexport type OptimisticUpdateMapType<TData, TVariables> = {\n  list?:\n    | ((\n        previous: GetListResponse<TData> | null | undefined,\n        values: TVariables,\n        id: BaseKey,\n      ) => GetListResponse<TData> | null)\n    | boolean;\n  many?:\n    | ((\n        previous: GetManyResponse<TData> | null | undefined,\n        values: TVariables,\n        id: BaseKey,\n      ) => GetManyResponse<TData> | null)\n    | boolean;\n  detail?:\n    | ((\n        previous: GetOneResponse<TData> | null | undefined,\n        values: TVariables,\n        id: BaseKey,\n      ) => GetOneResponse<TData> | null)\n    | boolean;\n};\n\nexport type UpdateParams<TData, TError, TVariables> = {\n  /**\n   * Resource name for API data interactions\n   */\n  resource: string;\n  /**\n   * id for mutation function\n   */\n  id: BaseKey;\n  /**\n   * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n   */\n  mutationMode?: MutationMode;\n  /**\n   * Duration in ms to wait before executing the mutation when `mutationMode = \"undoable\"`\n   */\n  undoableTimeout?: number;\n  /**\n   * Provides a function to cancel the mutation when `mutationMode = \"undoable\"`\n   */\n  onCancel?: (cancelMutation: () => void) => void;\n  /**\n   * Values for mutation function\n   */\n  values: TVariables;\n  /**\n   * Metadata query for dataProvider\n   */\n  meta?: MetaQuery;\n  /**\n   * Metadata query for dataProvider\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   * @default \"default\"\n   */\n  dataProviderName?: string;\n  /**\n   *  You can use it to manage the invalidations that will occur at the end of the mutation.\n   */\n  invalidates?: Array<keyof IQueryKeys>;\n  /**\n   * You can use it to customize the optimistic update logic.\n   * @default {\n   *   list: true,\n   *   many: true,\n   *   detail: true,\n   * }\n   */\n  optimisticUpdateMap?: OptimisticUpdateMapType<TData, TVariables>;\n} & SuccessErrorNotification<\n  UpdateResponse<TData>,\n  TError,\n  { id: BaseKey; values: TVariables }\n>;\n\nexport type UseUpdateReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = UseMutationResult<\n  UpdateResponse<TData>,\n  TError,\n  UpdateParams<TData, TError, TVariables>,\n  UpdateContext<TData>\n> &\n  UseLoadingOvertimeReturnType;\n\nexport type UseUpdateProps<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = {\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      UpdateResponse<TData>,\n      TError,\n      UpdateParams<TData, TError, TVariables>,\n      UpdateContext<TData>\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n  >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useUpdate` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for update mutations.\n *\n * It uses `update` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useUpdate} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useUpdate = <\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n>({\n  mutationOptions,\n  overtimeOptions,\n}: UseUpdateProps<TData, TError, TVariables> = {}): UseUpdateReturnType<\n  TData,\n  TError,\n  TVariables\n> => {\n  const { resources, select } = useResource();\n  const queryClient = useQueryClient();\n  const dataProvider = useDataProvider();\n\n  const {\n    mutationMode: mutationModeContext,\n    undoableTimeout: undoableTimeoutContext,\n  } = useMutationMode();\n  const translate = useTranslate();\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const publish = usePublish();\n  const { log } = useLog();\n  const { notificationDispatch } = useCancelNotification();\n  const handleNotification = useHandleNotification();\n  const invalidateStore = useInvalidate();\n  const getMeta = useMeta();\n  const {\n    options: { textTransformers },\n  } = useRefineContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    UpdateResponse<TData>,\n    TError,\n    UpdateParams<TData, TError, TVariables>,\n    UpdateContext<TData>\n  >({\n    mutationFn: ({\n      id,\n      values,\n      resource: resourceName,\n      mutationMode,\n      undoableTimeout,\n      onCancel,\n      meta,\n      metaData,\n      dataProviderName,\n    }) => {\n      const { resource, identifier } = select(resourceName);\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const mutationModePropOrContext = mutationMode ?? mutationModeContext;\n\n      const undoableTimeoutPropOrContext =\n        undoableTimeout ?? undoableTimeoutContext;\n\n      if (!(mutationModePropOrContext === \"undoable\")) {\n        return dataProvider(\n          pickDataProvider(identifier, dataProviderName, resources),\n        ).update<TData, TVariables>({\n          resource: resource.name,\n          id,\n          variables: values,\n          meta: combinedMeta,\n          metaData: combinedMeta,\n        });\n      }\n      const updatePromise = new Promise<UpdateResponse<TData>>(\n        (resolve, reject) => {\n          const doMutation = () => {\n            dataProvider(\n              pickDataProvider(identifier, dataProviderName, resources),\n            )\n              .update<TData, TVariables>({\n                resource: resource.name,\n                id,\n                variables: values,\n                meta: combinedMeta,\n                metaData: combinedMeta,\n              })\n              .then((result) => resolve(result))\n              .catch((err) => reject(err));\n          };\n\n          const cancelMutation = () => {\n            reject({ message: \"mutationCancelled\" });\n          };\n\n          if (onCancel) {\n            onCancel(cancelMutation);\n          }\n\n          notificationDispatch({\n            type: ActionTypes.ADD,\n            payload: {\n              id: id,\n              resource: identifier,\n              cancelMutation: cancelMutation,\n              doMutation: doMutation,\n              seconds: undoableTimeoutPropOrContext,\n              isSilent: !!onCancel,\n            },\n          });\n        },\n      );\n      return updatePromise;\n    },\n    onMutate: async ({\n      resource: resourceName,\n      id,\n      mutationMode,\n      values,\n      dataProviderName,\n      meta,\n      metaData,\n      optimisticUpdateMap = { list: true, many: true, detail: true },\n    }) => {\n      const { identifier } = select(resourceName);\n\n      const {\n        gqlMutation: _,\n        gqlQuery: __,\n        ...preferredMeta\n      } = pickNotDeprecated(meta, metaData) ?? {};\n\n      const queryKey = queryKeysReplacement(preferLegacyKeys)(\n        identifier,\n        pickDataProvider(identifier, dataProviderName, resources),\n        preferredMeta,\n      );\n\n      const resourceKeys = keys()\n        .data(pickDataProvider(identifier, dataProviderName, resources))\n        .resource(identifier);\n\n      const previousQueries: PreviousQuery<TData>[] =\n        queryClient.getQueriesData(resourceKeys.get(preferLegacyKeys));\n\n      const mutationModePropOrContext = mutationMode ?? mutationModeContext;\n\n      await queryClient.cancelQueries(\n        resourceKeys.get(preferLegacyKeys),\n        undefined,\n        {\n          silent: true,\n        },\n      );\n\n      if (mutationModePropOrContext !== \"pessimistic\") {\n        if (optimisticUpdateMap.list) {\n          // Set the previous queries to the new ones:\n          queryClient.setQueriesData(\n            resourceKeys\n              .action(\"list\")\n              .params(preferredMeta ?? {})\n              .get(preferLegacyKeys),\n            (previous?: GetListResponse<TData> | null) => {\n              if (typeof optimisticUpdateMap.list === \"function\") {\n                return optimisticUpdateMap.list(previous, values, id);\n              }\n\n              if (!previous) {\n                return null;\n              }\n\n              const data = previous.data.map((record: TData) => {\n                if (record.id?.toString() === id?.toString()) {\n                  return {\n                    id,\n                    ...record,\n                    ...values,\n                  } as unknown as TData;\n                }\n                return record;\n              });\n\n              return {\n                ...previous,\n                data,\n              };\n            },\n          );\n        }\n\n        if (optimisticUpdateMap.many) {\n          queryClient.setQueriesData(\n            resourceKeys.action(\"many\").get(preferLegacyKeys),\n            (previous?: GetManyResponse<TData> | null) => {\n              if (typeof optimisticUpdateMap.many === \"function\") {\n                return optimisticUpdateMap.many(previous, values, id);\n              }\n\n              if (!previous) {\n                return null;\n              }\n\n              const data = previous.data.map((record: TData) => {\n                if (record.id?.toString() === id?.toString()) {\n                  record = {\n                    id,\n                    ...record,\n                    ...values,\n                  } as unknown as TData;\n                }\n                return record;\n              });\n              return {\n                ...previous,\n                data,\n              };\n            },\n          );\n        }\n\n        if (optimisticUpdateMap.detail) {\n          queryClient.setQueriesData(\n            resourceKeys\n              .action(\"one\")\n              .id(id)\n              .params(preferredMeta ?? {})\n              .get(preferLegacyKeys),\n            (previous?: GetOneResponse<TData> | null) => {\n              if (typeof optimisticUpdateMap.detail === \"function\") {\n                return optimisticUpdateMap.detail(previous, values, id);\n              }\n\n              if (!previous) {\n                return null;\n              }\n\n              return {\n                ...previous,\n                data: {\n                  ...previous.data,\n                  ...values,\n                },\n              };\n            },\n          );\n        }\n      }\n\n      return {\n        previousQueries,\n        queryKey,\n      };\n    },\n    onSettled: (\n      _data,\n      _error,\n      {\n        id,\n        resource: resourceName,\n        dataProviderName,\n        invalidates = [\"list\", \"many\", \"detail\"],\n      },\n    ) => {\n      const { identifier } = select(resourceName);\n\n      invalidateStore({\n        resource: identifier,\n        dataProviderName: pickDataProvider(\n          identifier,\n          dataProviderName,\n          resources,\n        ),\n        invalidates,\n        id,\n      });\n\n      notificationDispatch({\n        type: ActionTypes.REMOVE,\n        payload: { id, resource: identifier },\n      });\n    },\n    onSuccess: (\n      data,\n      {\n        id,\n        resource: resourceName,\n        successNotification,\n        dataProviderName: dataProviderNameFromProp,\n        values,\n        meta,\n        metaData,\n      },\n      context,\n    ) => {\n      const { resource, identifier } = select(resourceName);\n      const resourceSingular = textTransformers.singular(identifier);\n\n      const dataProviderName = pickDataProvider(\n        identifier,\n        dataProviderNameFromProp,\n        resources,\n      );\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const notificationConfig =\n        typeof successNotification === \"function\"\n          ? successNotification(data, { id, values }, identifier)\n          : successNotification;\n\n      handleNotification(notificationConfig, {\n        key: `${id}-${identifier}-notification`,\n        description: translate(\"notifications.success\", \"Successful\"),\n        message: translate(\n          \"notifications.editSuccess\",\n          {\n            resource: translate(\n              `${identifier}.${identifier}`,\n              resourceSingular,\n            ),\n          },\n          `Successfully updated ${resourceSingular}`,\n        ),\n        type: \"success\",\n      });\n\n      publish?.({\n        channel: `resources/${resource.name}`,\n        type: \"updated\",\n        payload: {\n          ids: data.data?.id ? [data.data.id] : undefined,\n        },\n        date: new Date(),\n        meta: {\n          ...combinedMeta,\n          dataProviderName,\n        },\n      });\n\n      let previousData: any;\n      if (context) {\n        const queryData = queryClient.getQueryData<UpdateResponse<TData>>(\n          context.queryKey.detail(id),\n        );\n\n        previousData = Object.keys(values || {}).reduce<any>((acc, item) => {\n          acc[item] = queryData?.data?.[item];\n          return acc;\n        }, {});\n      }\n\n      const {\n        fields: _fields,\n        operation: _operation,\n        variables: _variables,\n        ...rest\n      } = combinedMeta || {};\n      log?.mutate({\n        action: \"update\",\n        resource: resource.name,\n        data: values,\n        previousData,\n        meta: {\n          id,\n          dataProviderName,\n          ...rest,\n        },\n      });\n    },\n    onError: (\n      err: TError,\n      { id, resource: resourceName, errorNotification, values },\n      context,\n    ) => {\n      const { identifier } = select(resourceName);\n\n      // set back the queries to the context:\n      if (context) {\n        for (const query of context.previousQueries) {\n          queryClient.setQueryData(query[0], query[1]);\n        }\n      }\n\n      if (err.message !== \"mutationCancelled\") {\n        checkError?.(err);\n\n        const resourceSingular = textTransformers.singular(identifier);\n\n        const notificationConfig =\n          typeof errorNotification === \"function\"\n            ? errorNotification(err, { id, values }, identifier)\n            : errorNotification;\n\n        handleNotification(notificationConfig, {\n          key: `${id}-${identifier}-notification`,\n          message: translate(\n            \"notifications.editError\",\n            {\n              resource: translate(\n                `${identifier}.${identifier}`,\n                resourceSingular,\n              ),\n              statusCode: err.statusCode,\n            },\n            `Error when updating ${resourceSingular} (status code: ${err.statusCode})`,\n          ),\n          description: err.message,\n          type: \"error\",\n        });\n      }\n    },\n    mutationKey: keys().data().mutation(\"update\").get(preferLegacyKeys),\n    ...mutationOptions,\n    meta: {\n      ...mutationOptions?.meta,\n      ...getXRay(\"useUpdate\", preferLegacyKeys),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: mutation.isLoading,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...mutation, overtime: { elapsedTime } };\n};\n", "import {\n  pickDataProvider,\n  pickNotDeprecated,\n  useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n} from \"@tanstack/react-query\";\n\nimport {\n  useDataProvider,\n  useHandleNotification,\n  useInvalidate,\n  useKeys,\n  useLog,\n  useMeta,\n  useOnError,\n  usePublish,\n  useRefineContext,\n  useResource,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseRecord,\n  CreateResponse,\n  HttpError,\n  IQueryKeys,\n  MetaQuery,\n} from \"../../contexts/data/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nexport type UseCreateParams<TData, TError, TVariables> = {\n  /**\n   * Resource name for API data interactions\n   */\n  resource: string;\n  /**\n   * Values for mutation function\n   */\n  values: TVariables;\n  /**\n   * Meta data for `dataProvider`\n   */\n  meta?: MetaQuery;\n  /**\n   * Meta data for `dataProvider`\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   */\n  dataProviderName?: string;\n  /**\n   * You can use it to manage the invalidations that will occur at the end of the mutation.\n   */\n  invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification<CreateResponse<TData>, TError, TVariables>;\n\nexport type UseCreateReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = UseMutationResult<\n  CreateResponse<TData>,\n  TError,\n  UseCreateParams<TData, TError, TVariables>,\n  unknown\n>;\n\nexport type UseCreateProps<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = {\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      CreateResponse<TData>,\n      TError,\n      UseCreateParams<TData, TError, TVariables>,\n      unknown\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\"\n  >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useCreate` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for create mutations.\n *\n * It uses `create` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useCreate} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\n\nexport const useCreate = <\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n>({\n  mutationOptions,\n  overtimeOptions,\n}: UseCreateProps<TData, TError, TVariables> = {}): UseCreateReturnType<\n  TData,\n  TError,\n  TVariables\n> &\n  UseLoadingOvertimeReturnType => {\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const dataProvider = useDataProvider();\n  const invalidateStore = useInvalidate();\n  const { resources, select } = useResource();\n  const translate = useTranslate();\n  const publish = usePublish();\n  const { log } = useLog();\n  const handleNotification = useHandleNotification();\n  const getMeta = useMeta();\n  const {\n    options: { textTransformers },\n  } = useRefineContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    CreateResponse<TData>,\n    TError,\n    UseCreateParams<TData, TError, TVariables>,\n    unknown\n  >({\n    mutationFn: ({\n      resource: resourceName,\n      values,\n      meta,\n      metaData,\n      dataProviderName,\n    }: UseCreateParams<TData, TError, TVariables>) => {\n      const { resource, identifier } = select(resourceName);\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      return dataProvider(\n        pickDataProvider(identifier, dataProviderName, resources),\n      ).create<TData, TVariables>({\n        resource: resource.name,\n        variables: values,\n        meta: combinedMeta,\n        metaData: combinedMeta,\n      });\n    },\n    onSuccess: (\n      data,\n      {\n        resource: resourceName,\n        successNotification: successNotificationFromProp,\n        dataProviderName: dataProviderNameFromProp,\n        invalidates = [\"list\", \"many\"],\n        values,\n        meta,\n        metaData,\n      },\n    ) => {\n      const { resource, identifier } = select(resourceName);\n      const resourceSingular = textTransformers.singular(identifier);\n\n      const dataProviderName = pickDataProvider(\n        identifier,\n        dataProviderNameFromProp,\n        resources,\n      );\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const notificationConfig =\n        typeof successNotificationFromProp === \"function\"\n          ? successNotificationFromProp(data, values, identifier)\n          : successNotificationFromProp;\n\n      handleNotification(notificationConfig, {\n        key: `create-${identifier}-notification`,\n        message: translate(\n          \"notifications.createSuccess\",\n          {\n            resource: translate(\n              `${identifier}.${identifier}`,\n              resourceSingular,\n            ),\n          },\n          `Successfully created ${resourceSingular}`,\n        ),\n        description: translate(\"notifications.success\", \"Success\"),\n        type: \"success\",\n      });\n\n      invalidateStore({\n        resource: identifier,\n        dataProviderName,\n        invalidates,\n      });\n\n      publish?.({\n        channel: `resources/${resource.name}`,\n        type: \"created\",\n        payload: {\n          ids: data?.data?.id ? [data.data.id] : undefined,\n        },\n        date: new Date(),\n        meta: {\n          ...combinedMeta,\n          dataProviderName,\n        },\n      });\n\n      const {\n        fields: _fields,\n        operation: _operation,\n        variables: _variables,\n        ...rest\n      } = combinedMeta || {};\n      log?.mutate({\n        action: \"create\",\n        resource: resource.name,\n        data: values,\n        meta: {\n          dataProviderName,\n          id: data?.data?.id ?? undefined,\n          ...rest,\n        },\n      });\n    },\n    onError: (\n      err: TError,\n      {\n        resource: resourceName,\n        errorNotification: errorNotificationFromProp,\n        values,\n      },\n    ) => {\n      checkError(err);\n\n      const { identifier } = select(resourceName);\n\n      const resourceSingular = textTransformers.singular(identifier);\n\n      const notificationConfig =\n        typeof errorNotificationFromProp === \"function\"\n          ? errorNotificationFromProp(err, values, identifier)\n          : errorNotificationFromProp;\n\n      handleNotification(notificationConfig, {\n        key: `create-${identifier}-notification`,\n        description: err.message,\n        message: translate(\n          \"notifications.createError\",\n          {\n            resource: translate(\n              `${identifier}.${identifier}`,\n              resourceSingular,\n            ),\n            statusCode: err.statusCode,\n          },\n          `There was an error creating ${resourceSingular} (status code: ${err.statusCode})`,\n        ),\n        type: \"error\",\n      });\n    },\n    mutationKey: keys().data().mutation(\"create\").get(preferLegacyKeys),\n    ...mutationOptions,\n    meta: {\n      ...mutationOptions?.meta,\n      ...getXRay(\"useCreate\", preferLegacyKeys),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: mutation.isLoading,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...mutation, overtime: { elapsedTime } };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n  useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport {\n  pickDataProvider,\n  pickNotDeprecated,\n  queryKeysReplacement,\n  useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n  useCancelNotification,\n  useDataProvider,\n  useHandleNotification,\n  useInvalidate,\n  useKeys,\n  useLog,\n  useMeta,\n  useMutationMode,\n  useOnError,\n  usePublish,\n  useRefineContext,\n  useResource,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseKey,\n  BaseRecord,\n  DeleteOneResponse,\n  GetListResponse,\n  HttpError,\n  IQueryKeys,\n  MetaQuery,\n  MutationMode,\n  PrevContext as DeleteContext,\n  PreviousQuery,\n} from \"../../contexts/data/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport { ActionTypes } from \"../../contexts/undoableQueue/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nexport type DeleteParams<TData, TError, TVariables> = {\n  /**\n   * id for mutation function\n   */\n  id: BaseKey;\n  /**\n   * Resource name for API data interactions\n   */\n  resource: string;\n  /**\n   * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n   */\n  mutationMode?: MutationMode;\n  /**\n   * Duration in ms to wait before executing the mutation when `mutationMode = \"undoable\"`\n   */\n  undoableTimeout?: number;\n  /**\n   * Provides a function to cancel the mutation when `mutationMode = \"undoable\"`\n   */\n  onCancel?: (cancelMutation: () => void) => void;\n  /**\n   * Metadata query for dataProvider\n   */\n  meta?: MetaQuery;\n  /**\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   * @default \"default\"\n   */\n  dataProviderName?: string;\n  /**\n   *  You can use it to manage the invalidations that will occur at the end of the mutation.\n   */\n  invalidates?: Array<keyof IQueryKeys>;\n  /**\n   * Values for mutation function\n   */\n  values?: TVariables;\n} & SuccessErrorNotification<DeleteOneResponse<TData>, TError, BaseKey>;\n\nexport type UseDeleteReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError = HttpError,\n  TVariables = {},\n> = UseMutationResult<\n  DeleteOneResponse<TData>,\n  TError,\n  DeleteParams<TData, TError, TVariables>,\n  DeleteContext<TData>\n> &\n  UseLoadingOvertimeReturnType;\n\nexport type UseDeleteProps<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = {\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      DeleteOneResponse<TData>,\n      TError,\n      DeleteParams<TData, TError, TVariables>,\n      DeleteContext<TData>\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n  >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useDelete` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for delete mutations.\n *\n * It uses `deleteOne` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useDelete} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n */\nexport const useDelete = <\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n>({\n  mutationOptions,\n  overtimeOptions,\n}: UseDeleteProps<TData, TError, TVariables> = {}): UseDeleteReturnType<\n  TData,\n  TError,\n  TVariables\n> => {\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const dataProvider = useDataProvider();\n\n  const { resources, select } = useResource();\n  const queryClient = useQueryClient();\n\n  const {\n    mutationMode: mutationModeContext,\n    undoableTimeout: undoableTimeoutContext,\n  } = useMutationMode();\n\n  const { notificationDispatch } = useCancelNotification();\n  const translate = useTranslate();\n  const publish = usePublish();\n  const { log } = useLog();\n  const handleNotification = useHandleNotification();\n  const invalidateStore = useInvalidate();\n  const getMeta = useMeta();\n  const {\n    options: { textTransformers },\n  } = useRefineContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    DeleteOneResponse<TData>,\n    TError,\n    DeleteParams<TData, TError, TVariables>,\n    DeleteContext<TData>\n  >({\n    mutationFn: ({\n      id,\n      mutationMode,\n      undoableTimeout,\n      resource: resourceName,\n      onCancel,\n      meta,\n      metaData,\n      dataProviderName,\n      values,\n    }) => {\n      const { resource, identifier } = select(resourceName);\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const mutationModePropOrContext = mutationMode ?? mutationModeContext;\n\n      const undoableTimeoutPropOrContext =\n        undoableTimeout ?? undoableTimeoutContext;\n\n      if (!(mutationModePropOrContext === \"undoable\")) {\n        return dataProvider(\n          pickDataProvider(identifier, dataProviderName, resources),\n        ).deleteOne<TData, TVariables>({\n          resource: resource.name,\n          id,\n          meta: combinedMeta,\n          metaData: combinedMeta,\n          variables: values,\n        });\n      }\n\n      const deletePromise = new Promise<DeleteOneResponse<TData>>(\n        (resolve, reject) => {\n          const doMutation = () => {\n            dataProvider(\n              pickDataProvider(identifier, dataProviderName, resources),\n            )\n              .deleteOne<TData, TVariables>({\n                resource: resource.name,\n                id,\n                meta: combinedMeta,\n                metaData: combinedMeta,\n                variables: values,\n              })\n              .then((result) => resolve(result))\n              .catch((err) => reject(err));\n          };\n\n          const cancelMutation = () => {\n            reject({ message: \"mutationCancelled\" });\n          };\n\n          if (onCancel) {\n            onCancel(cancelMutation);\n          }\n\n          notificationDispatch({\n            type: ActionTypes.ADD,\n            payload: {\n              id,\n              resource: identifier,\n              cancelMutation: cancelMutation,\n              doMutation: doMutation,\n              seconds: undoableTimeoutPropOrContext,\n              isSilent: !!onCancel,\n            },\n          });\n        },\n      );\n      return deletePromise;\n    },\n    onMutate: async ({\n      id,\n      resource: resourceName,\n      mutationMode,\n      dataProviderName,\n      meta,\n      metaData,\n    }) => {\n      const { identifier } = select(resourceName);\n\n      const {\n        gqlMutation: _,\n        gqlQuery: __,\n        ...preferredMeta\n      } = pickNotDeprecated(meta, metaData) ?? {};\n\n      const queryKey = queryKeysReplacement(preferLegacyKeys)(\n        identifier,\n        pickDataProvider(identifier, dataProviderName, resources),\n        preferredMeta,\n      );\n\n      const resourceKeys = keys()\n        .data(pickDataProvider(identifier, dataProviderName, resources))\n        .resource(identifier);\n\n      const mutationModePropOrContext = mutationMode ?? mutationModeContext;\n\n      await queryClient.cancelQueries(\n        resourceKeys.get(preferLegacyKeys),\n        undefined,\n        {\n          silent: true,\n        },\n      );\n\n      const previousQueries: PreviousQuery<TData>[] =\n        queryClient.getQueriesData(resourceKeys.get(preferLegacyKeys));\n\n      if (mutationModePropOrContext !== \"pessimistic\") {\n        // Set the previous queries to the new ones:\n        queryClient.setQueriesData(\n          resourceKeys\n            .action(\"list\")\n            .params(preferredMeta ?? {})\n            .get(preferLegacyKeys),\n          (previous?: GetListResponse<TData> | null) => {\n            if (!previous) {\n              return null;\n            }\n            const data = previous.data.filter(\n              (record: TData) => record.id?.toString() !== id.toString(),\n            );\n\n            return {\n              data,\n              total: previous.total - 1,\n            };\n          },\n        );\n\n        queryClient.setQueriesData(\n          resourceKeys.action(\"many\").get(preferLegacyKeys),\n          (previous?: GetListResponse<TData> | null) => {\n            if (!previous) {\n              return null;\n            }\n            const data = previous.data.filter((record: TData) => {\n              return record.id?.toString() !== id?.toString();\n            });\n\n            return {\n              ...previous,\n              data,\n            };\n          },\n        );\n      }\n\n      return {\n        previousQueries,\n        queryKey,\n      };\n    },\n    onSettled: (\n      _data,\n      _error,\n      {\n        id,\n        resource: resourceName,\n        dataProviderName,\n        invalidates = [\"list\", \"many\"],\n      },\n    ) => {\n      const { identifier } = select(resourceName);\n\n      // invalidate the cache for the list and many queries:\n      invalidateStore({\n        resource: identifier,\n        dataProviderName: pickDataProvider(\n          identifier,\n          dataProviderName,\n          resources,\n        ),\n        invalidates,\n      });\n\n      notificationDispatch({\n        type: ActionTypes.REMOVE,\n        payload: { id, resource: identifier },\n      });\n    },\n    onSuccess: (\n      _data,\n      {\n        id,\n        resource: resourceName,\n        successNotification,\n        dataProviderName: dataProviderNameFromProp,\n        meta,\n        metaData,\n      },\n      context,\n    ) => {\n      const { resource, identifier } = select(resourceName);\n      const resourceSingular = textTransformers.singular(identifier);\n\n      const dataProviderName = pickDataProvider(\n        identifier,\n        dataProviderNameFromProp,\n        resources,\n      );\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      // Remove the queries from the cache:\n      queryClient.removeQueries(context?.queryKey.detail(id));\n\n      const notificationConfig =\n        typeof successNotification === \"function\"\n          ? successNotification(_data, id, identifier)\n          : successNotification;\n\n      handleNotification(notificationConfig, {\n        key: `${id}-${identifier}-notification`,\n        description: translate(\"notifications.success\", \"Success\"),\n        message: translate(\n          \"notifications.deleteSuccess\",\n          {\n            resource: translate(\n              `${identifier}.${identifier}`,\n              resourceSingular,\n            ),\n          },\n          `Successfully deleted a ${resourceSingular}`,\n        ),\n        type: \"success\",\n      });\n\n      publish?.({\n        channel: `resources/${resource.name}`,\n        type: \"deleted\",\n        payload: {\n          ids: [id],\n        },\n        date: new Date(),\n        meta: {\n          ...combinedMeta,\n          dataProviderName,\n        },\n      });\n\n      const {\n        fields: _fields,\n        operation: _operation,\n        variables: _variables,\n        ...rest\n      } = combinedMeta || {};\n      log?.mutate({\n        action: \"delete\",\n        resource: resource.name,\n        meta: {\n          id,\n          dataProviderName,\n          ...rest,\n        },\n      });\n\n      // Remove the queries from the cache:\n      queryClient.removeQueries(context?.queryKey.detail(id));\n    },\n    onError: (\n      err: TError,\n      { id, resource: resourceName, errorNotification },\n      context,\n    ) => {\n      const { identifier } = select(resourceName);\n\n      // set back the queries to the context:\n      if (context) {\n        for (const query of context.previousQueries) {\n          queryClient.setQueryData(query[0], query[1]);\n        }\n      }\n\n      if (err.message !== \"mutationCancelled\") {\n        checkError(err);\n\n        const resourceSingular = textTransformers.singular(identifier);\n\n        const notificationConfig =\n          typeof errorNotification === \"function\"\n            ? errorNotification(err, id, identifier)\n            : errorNotification;\n\n        handleNotification(notificationConfig, {\n          key: `${id}-${identifier}-notification`,\n          message: translate(\n            \"notifications.deleteError\",\n            {\n              resource: resourceSingular,\n              statusCode: err.statusCode,\n            },\n            `Error (status code: ${err.statusCode})`,\n          ),\n          description: err.message,\n          type: \"error\",\n        });\n      }\n    },\n    mutationKey: keys().data().mutation(\"delete\").get(preferLegacyKeys),\n    ...mutationOptions,\n    meta: {\n      ...mutationOptions?.meta,\n      ...getXRay(\"useDelete\", preferLegacyKeys),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: mutation.isLoading,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...mutation, overtime: { elapsedTime } };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n} from \"@tanstack/react-query\";\n\nimport {\n  handleMultiple,\n  pickDataProvider,\n  pickNotDeprecated,\n} from \"@definitions\";\nimport {\n  useDataProvider,\n  useHandleNotification,\n  useInvalidate,\n  useKeys,\n  useLog,\n  useMeta,\n  usePublish,\n  useRefineContext,\n  useResource,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseRecord,\n  CreateManyResponse,\n  HttpError,\n  IQueryKeys,\n  MetaQuery,\n} from \"../../contexts/data/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\ntype useCreateManyParams<TData, TError, TVariables> = {\n  resource: string;\n  values: TVariables[];\n  meta?: MetaQuery;\n  metaData?: MetaQuery;\n  dataProviderName?: string;\n  invalidates?: Array<keyof IQueryKeys>;\n} & SuccessErrorNotification<CreateManyResponse<TData>, TError, TVariables[]>;\n\nexport type UseCreateManyReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError = HttpError,\n  TVariables = {},\n> = UseMutationResult<\n  CreateManyResponse<TData>,\n  TError,\n  useCreateManyParams<TData, TError, TVariables>,\n  unknown\n>;\n\nexport type UseCreateManyProps<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = {\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      CreateManyResponse<TData>,\n      TError,\n      useCreateManyParams<TData, TError, TVariables>\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\"\n  >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useCreateMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple create mutations.\n *\n * It uses `createMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useCreateMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useCreateMany = <\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n>({\n  mutationOptions,\n  overtimeOptions,\n}: UseCreateManyProps<TData, TError, TVariables> = {}): UseCreateManyReturnType<\n  TData,\n  TError,\n  TVariables\n> &\n  UseLoadingOvertimeReturnType => {\n  const dataProvider = useDataProvider();\n  const { resources, select } = useResource();\n  const translate = useTranslate();\n  const publish = usePublish();\n  const handleNotification = useHandleNotification();\n  const invalidateStore = useInvalidate();\n  const { log } = useLog();\n  const getMeta = useMeta();\n  const {\n    options: { textTransformers },\n  } = useRefineContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    CreateManyResponse<TData>,\n    TError,\n    useCreateManyParams<TData, TError, TVariables>\n  >({\n    mutationFn: ({\n      resource: resourceName,\n      values,\n      meta,\n      metaData,\n      dataProviderName,\n    }: useCreateManyParams<TData, TError, TVariables>) => {\n      const { resource, identifier } = select(resourceName);\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const selectedDataProvider = dataProvider(\n        pickDataProvider(identifier, dataProviderName, resources),\n      );\n\n      if (selectedDataProvider.createMany) {\n        return selectedDataProvider.createMany<TData, TVariables>({\n          resource: resource.name,\n          variables: values,\n          meta: combinedMeta,\n          metaData: combinedMeta,\n        });\n      }\n      return handleMultiple(\n        values.map((val) =>\n          selectedDataProvider.create<TData, TVariables>({\n            resource: resource.name,\n            variables: val,\n            meta: combinedMeta,\n            metaData: combinedMeta,\n          }),\n        ),\n      );\n    },\n    onSuccess: (\n      response,\n      {\n        resource: resourceName,\n        successNotification,\n        dataProviderName: dataProviderNameFromProp,\n        invalidates = [\"list\", \"many\"],\n        values,\n        meta,\n        metaData,\n      },\n    ) => {\n      const { resource, identifier } = select(resourceName);\n      const resourcePlural = textTransformers.plural(identifier);\n\n      const dataProviderName = pickDataProvider(\n        identifier,\n        dataProviderNameFromProp,\n        resources,\n      );\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const notificationConfig =\n        typeof successNotification === \"function\"\n          ? successNotification(response, values, identifier)\n          : successNotification;\n\n      handleNotification(notificationConfig, {\n        key: `createMany-${identifier}-notification`,\n        message: translate(\n          \"notifications.createSuccess\",\n          {\n            resource: translate(`${identifier}.${identifier}`, identifier),\n          },\n          `Successfully created ${resourcePlural}`,\n        ),\n        description: translate(\"notifications.success\", \"Success\"),\n        type: \"success\",\n      });\n\n      invalidateStore({\n        resource: identifier,\n        dataProviderName,\n        invalidates,\n      });\n\n      const ids = response?.data\n        .filter((item) => item?.id !== undefined)\n        .map((item) => item.id!);\n      publish?.({\n        channel: `resources/${resource.name}`,\n        type: \"created\",\n        payload: {\n          ids,\n        },\n        date: new Date(),\n        meta: {\n          ...combinedMeta,\n          dataProviderName,\n        },\n      });\n\n      const {\n        fields: _fields,\n        operation: _operation,\n        variables: _variables,\n        ...rest\n      } = combinedMeta || {};\n      log?.mutate({\n        action: \"createMany\",\n        resource: resource.name,\n        data: values,\n        meta: {\n          dataProviderName,\n          ids,\n          ...rest,\n        },\n      });\n    },\n    onError: (\n      err: TError,\n      { resource: resourceName, errorNotification, values },\n    ) => {\n      const { identifier } = select(resourceName);\n\n      const notificationConfig =\n        typeof errorNotification === \"function\"\n          ? errorNotification(err, values, identifier)\n          : errorNotification;\n\n      handleNotification(notificationConfig, {\n        key: `createMany-${identifier}-notification`,\n        description: err.message,\n        message: translate(\n          \"notifications.createError\",\n          {\n            resource: translate(`${identifier}.${identifier}`, identifier),\n            statusCode: err.statusCode,\n          },\n          `There was an error creating ${identifier} (status code: ${err.statusCode}`,\n        ),\n        type: \"error\",\n      });\n    },\n    mutationKey: keys().data().mutation(\"createMany\").get(preferLegacyKeys),\n    ...mutationOptions,\n    meta: {\n      ...mutationOptions?.meta,\n      ...getXRay(\"useCreateMany\", preferLegacyKeys),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: mutation.isLoading,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...mutation, overtime: { elapsedTime } };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n  useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport {\n  handleMultiple,\n  pickDataProvider,\n  pickNotDeprecated,\n  queryKeysReplacement,\n  useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n  useCancelNotification,\n  useDataProvider,\n  useHandleNotification,\n  useInvalidate,\n  useKeys,\n  useLog,\n  useMeta,\n  useMutationMode,\n  useOnError,\n  usePublish,\n  useRefineContext,\n  useResource,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseKey,\n  BaseRecord,\n  GetListResponse,\n  GetManyResponse,\n  GetOneResponse,\n  HttpError,\n  IQueryKeys,\n  MetaQuery,\n  MutationMode,\n  PrevContext as UpdateContext,\n  QueryResponse,\n  UpdateManyResponse,\n} from \"../../contexts/data/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport { ActionTypes } from \"../../contexts/undoableQueue/types\";\n\nexport type OptimisticUpdateManyMapType<TData, TVariables> = {\n  list?:\n    | ((\n        previous: GetListResponse<TData> | null | undefined,\n        values: TVariables,\n        ids: BaseKey[],\n      ) => GetListResponse<TData> | null)\n    | boolean;\n  many?:\n    | ((\n        previous: GetManyResponse<TData> | null | undefined,\n        values: TVariables,\n        ids: BaseKey[],\n      ) => GetManyResponse<TData> | null)\n    | boolean;\n  detail?:\n    | ((\n        previous: GetOneResponse<TData> | null | undefined,\n        values: TVariables,\n        id: BaseKey,\n      ) => GetOneResponse<TData> | null)\n    | boolean;\n};\n\ntype UpdateManyParams<TData, TError, TVariables> = {\n  /**\n   * ids for mutation function\n   */\n  ids: BaseKey[];\n  /**\n   * Resource name for API data interactions\n   */\n  resource: string;\n  /**\n   * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n   */\n  mutationMode?: MutationMode;\n  /**\n   * Duration in ms to wait before executing the mutation when `mutationMode = \"undoable\"`\n   */\n  undoableTimeout?: number;\n  /**\n   * Provides a function to cancel the mutation when `mutationMode = \"undoable\"`\n   */\n  onCancel?: (cancelMutation: () => void) => void;\n  /**\n   * Values for mutation function\n   */\n  values: TVariables;\n  /**\n   * meta data for `dataProvider`\n   */\n  meta?: MetaQuery;\n  /**\n   * meta data for `dataProvider`\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   * @default \"default\"\n   */\n  dataProviderName?: string;\n  /**\n   *  You can use it to manage the invalidations that will occur at the end of the mutation.\n   */\n  invalidates?: Array<keyof IQueryKeys>;\n  /**\n   * You can use it to manage the invalidations that will occur at the end of the mutation.\n   * @default {\n   *   list: true,\n   *   many: true,\n   *   detail: true,\n   * }\n   */\n  optimisticUpdateMap?: OptimisticUpdateManyMapType<TData, TVariables>;\n} & SuccessErrorNotification<\n  UpdateManyResponse<TData>,\n  TError,\n  { ids: BaseKey[]; values: TVariables }\n>;\n\ntype UseUpdateManyReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = UseMutationResult<\n  UpdateManyResponse<TData>,\n  TError,\n  UpdateManyParams<TData, TError, TVariables>,\n  UpdateContext<TData>\n> &\n  UseLoadingOvertimeReturnType;\n\nexport type UseUpdateManyProps<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = {\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      UpdateManyResponse<TData>,\n      TError,\n      UpdateManyParams<TData, TError, TVariables>,\n      UpdateContext<TData>\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n  >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useUpdateMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple update mutations.\n *\n * It uses `updateMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useUpdateMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useUpdateMany = <\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n>({\n  mutationOptions,\n  overtimeOptions,\n}: UseUpdateManyProps<TData, TError, TVariables> = {}): UseUpdateManyReturnType<\n  TData,\n  TError,\n  TVariables\n> => {\n  const { resources, select } = useResource();\n  const queryClient = useQueryClient();\n  const dataProvider = useDataProvider();\n  const translate = useTranslate();\n  const {\n    mutationMode: mutationModeContext,\n    undoableTimeout: undoableTimeoutContext,\n  } = useMutationMode();\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const { notificationDispatch } = useCancelNotification();\n  const publish = usePublish();\n  const handleNotification = useHandleNotification();\n  const invalidateStore = useInvalidate();\n  const { log } = useLog();\n  const getMeta = useMeta();\n  const {\n    options: { textTransformers },\n  } = useRefineContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    UpdateManyResponse<TData>,\n    TError,\n    UpdateManyParams<TData, TError, TVariables>,\n    UpdateContext<TData>\n  >({\n    mutationFn: ({\n      ids,\n      values,\n      resource: resourceName,\n      onCancel,\n      mutationMode,\n      undoableTimeout,\n      meta,\n      metaData,\n      dataProviderName,\n    }: UpdateManyParams<TData, TError, TVariables>) => {\n      const { resource, identifier } = select(resourceName);\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const mutationModePropOrContext = mutationMode ?? mutationModeContext;\n\n      const undoableTimeoutPropOrContext =\n        undoableTimeout ?? undoableTimeoutContext;\n\n      const selectedDataProvider = dataProvider(\n        pickDataProvider(identifier, dataProviderName, resources),\n      );\n\n      const mutationFn = () => {\n        if (selectedDataProvider.updateMany) {\n          return selectedDataProvider.updateMany<TData, TVariables>({\n            resource: resource.name,\n            ids,\n            variables: values,\n            meta: combinedMeta,\n            metaData: combinedMeta,\n          });\n        }\n        return handleMultiple(\n          ids.map((id) =>\n            selectedDataProvider.update<TData, TVariables>({\n              resource: resource.name,\n              id,\n              variables: values,\n              meta: combinedMeta,\n              metaData: combinedMeta,\n            }),\n          ),\n        );\n      };\n\n      if (!(mutationModePropOrContext === \"undoable\")) {\n        return mutationFn();\n      }\n\n      const updatePromise = new Promise<UpdateManyResponse<TData>>(\n        (resolve, reject) => {\n          const doMutation = () => {\n            mutationFn()\n              .then((result) => resolve(result))\n              .catch((err) => reject(err));\n          };\n\n          const cancelMutation = () => {\n            reject({ message: \"mutationCancelled\" });\n          };\n\n          if (onCancel) {\n            onCancel(cancelMutation);\n          }\n\n          notificationDispatch({\n            type: ActionTypes.ADD,\n            payload: {\n              id: ids,\n              resource: identifier,\n              cancelMutation: cancelMutation,\n              doMutation: doMutation,\n              seconds: undoableTimeoutPropOrContext,\n              isSilent: !!onCancel,\n            },\n          });\n        },\n      );\n      return updatePromise;\n    },\n    onMutate: async ({\n      resource: resourceName,\n      ids,\n      values,\n      mutationMode,\n      dataProviderName,\n      meta,\n      metaData,\n      optimisticUpdateMap = { list: true, many: true, detail: true },\n    }) => {\n      const { identifier } = select(resourceName);\n      const {\n        gqlMutation: _,\n        gqlQuery: __,\n        ...preferredMeta\n      } = pickNotDeprecated(meta, metaData) ?? {};\n\n      const queryKey = queryKeysReplacement(preferLegacyKeys)(\n        identifier,\n        pickDataProvider(identifier, dataProviderName, resources),\n        preferredMeta,\n      );\n\n      const resourceKeys = keys()\n        .data(pickDataProvider(identifier, dataProviderName, resources))\n        .resource(identifier);\n\n      const mutationModePropOrContext = mutationMode ?? mutationModeContext;\n\n      await queryClient.cancelQueries(\n        resourceKeys.get(preferLegacyKeys),\n        undefined,\n        {\n          silent: true,\n        },\n      );\n\n      const previousQueries = queryClient.getQueriesData<QueryResponse<TData>>(\n        resourceKeys.get(preferLegacyKeys),\n      );\n\n      if (mutationModePropOrContext !== \"pessimistic\") {\n        if (optimisticUpdateMap.list) {\n          // Set the previous queries to the new ones:\n          queryClient.setQueriesData(\n            resourceKeys\n              .action(\"list\")\n              .params(preferredMeta ?? {})\n              .get(preferLegacyKeys),\n            (previous?: GetListResponse<TData> | null) => {\n              if (typeof optimisticUpdateMap.list === \"function\") {\n                return optimisticUpdateMap.list(previous, values, ids);\n              }\n\n              if (!previous) {\n                return null;\n              }\n\n              const data = previous.data.map((record: TData) => {\n                if (\n                  record.id !== undefined &&\n                  ids\n                    .filter((id) => id !== undefined)\n                    .map(String)\n                    .includes(record.id.toString())\n                ) {\n                  return {\n                    ...record,\n                    ...values,\n                  };\n                }\n\n                return record;\n              });\n\n              return {\n                ...previous,\n                data,\n              };\n            },\n          );\n        }\n\n        if (optimisticUpdateMap.many) {\n          queryClient.setQueriesData(\n            resourceKeys.action(\"many\").get(preferLegacyKeys),\n            (previous?: GetManyResponse<TData> | null) => {\n              if (typeof optimisticUpdateMap.many === \"function\") {\n                return optimisticUpdateMap.many(previous, values, ids);\n              }\n\n              if (!previous) {\n                return null;\n              }\n\n              const data = previous.data.map((record: TData) => {\n                if (\n                  record.id !== undefined &&\n                  ids\n                    .filter((id) => id !== undefined)\n                    .map(String)\n                    .includes(record.id.toString())\n                ) {\n                  return {\n                    ...record,\n                    ...values,\n                  };\n                }\n                return record;\n              });\n              return {\n                ...previous,\n                data,\n              };\n            },\n          );\n        }\n\n        if (optimisticUpdateMap.detail) {\n          for (const id of ids) {\n            queryClient.setQueriesData(\n              resourceKeys\n                .action(\"one\")\n                .id(id)\n                .params(preferredMeta ?? {})\n                .get(preferLegacyKeys),\n              (previous?: GetOneResponse<TData> | null) => {\n                if (typeof optimisticUpdateMap.detail === \"function\") {\n                  return optimisticUpdateMap.detail(previous, values, id);\n                }\n\n                if (!previous) {\n                  return null;\n                }\n\n                const data = {\n                  ...previous.data,\n                  ...values,\n                };\n                return {\n                  ...previous,\n                  data,\n                };\n              },\n            );\n          }\n        }\n      }\n\n      return {\n        previousQueries,\n        queryKey,\n      };\n    },\n    onSettled: (\n      _data,\n      _error,\n      { ids, resource: resourceName, dataProviderName },\n    ) => {\n      const { identifier } = select(resourceName);\n\n      // invalidate the cache for the list and many queries:\n      invalidateStore({\n        resource: identifier,\n        invalidates: [\"list\", \"many\"],\n        dataProviderName: pickDataProvider(\n          identifier,\n          dataProviderName,\n          resources,\n        ),\n      });\n\n      ids.forEach((id) =>\n        invalidateStore({\n          resource: identifier,\n          invalidates: [\"detail\"],\n          dataProviderName: pickDataProvider(\n            identifier,\n            dataProviderName,\n            resources,\n          ),\n          id,\n        }),\n      );\n\n      notificationDispatch({\n        type: ActionTypes.REMOVE,\n        payload: { id: ids, resource: identifier },\n      });\n    },\n    onSuccess: (\n      data,\n      {\n        ids,\n        resource: resourceName,\n        meta,\n        metaData,\n        dataProviderName: dataProviderNameFromProp,\n        successNotification,\n        values,\n      },\n      context,\n    ) => {\n      const { resource, identifier } = select(resourceName);\n      const resourceSingular = textTransformers.singular(identifier);\n\n      const dataProviderName = pickDataProvider(\n        identifier,\n        dataProviderNameFromProp,\n        resources,\n      );\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const notificationConfig =\n        typeof successNotification === \"function\"\n          ? successNotification(data, { ids, values }, identifier)\n          : successNotification;\n\n      handleNotification(notificationConfig, {\n        key: `${ids}-${identifier}-notification`,\n        description: translate(\"notifications.success\", \"Successful\"),\n        message: translate(\n          \"notifications.editSuccess\",\n          {\n            resource: translate(`${identifier}.${identifier}`, identifier),\n          },\n          `Successfully updated ${resourceSingular}`,\n        ),\n        type: \"success\",\n      });\n\n      publish?.({\n        channel: `resources/${resource.name}`,\n        type: \"updated\",\n        payload: {\n          ids: ids.map(String),\n        },\n        date: new Date(),\n        meta: {\n          ...combinedMeta,\n          dataProviderName,\n        },\n      });\n\n      const previousData: any[] = [];\n      if (context) {\n        ids.forEach((id) => {\n          const queryData = queryClient.getQueryData<UpdateManyResponse<TData>>(\n            context.queryKey.detail(id),\n          );\n\n          previousData.push(\n            Object.keys(values || {}).reduce<any>((acc, item: any) => {\n              acc[item] = queryData?.data?.[item];\n              return acc;\n            }, {}),\n          );\n        });\n      }\n\n      const {\n        fields: _fields,\n        operation: _operation,\n        variables: _variables,\n        ...rest\n      } = combinedMeta || {};\n      log?.mutate({\n        action: \"updateMany\",\n        resource: resource.name,\n        data: values,\n        previousData,\n        meta: {\n          ids,\n          dataProviderName,\n          ...rest,\n        },\n      });\n    },\n    onError: (\n      err: TError,\n      { ids, resource: resourceName, errorNotification, values },\n      context,\n    ) => {\n      const { identifier } = select(resourceName);\n\n      // set back the queries to the context:\n      if (context) {\n        for (const query of context.previousQueries) {\n          queryClient.setQueryData(query[0], query[1]);\n        }\n      }\n\n      if (err.message !== \"mutationCancelled\") {\n        checkError?.(err);\n\n        const resourceSingular = textTransformers.singular(identifier);\n\n        const notificationConfig =\n          typeof errorNotification === \"function\"\n            ? errorNotification(err, { ids, values }, identifier)\n            : errorNotification;\n\n        handleNotification(notificationConfig, {\n          key: `${ids}-${identifier}-updateMany-error-notification`,\n          message: translate(\n            \"notifications.editError\",\n            {\n              resource: resourceSingular,\n              statusCode: err.statusCode,\n            },\n            `Error when updating ${resourceSingular} (status code: ${err.statusCode})`,\n          ),\n          description: err.message,\n          type: \"error\",\n        });\n      }\n    },\n    mutationKey: keys().data().mutation(\"updateMany\").get(preferLegacyKeys),\n    ...mutationOptions,\n    meta: {\n      ...mutationOptions?.meta,\n      ...getXRay(\"useUpdateMany\", preferLegacyKeys),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: mutation.isLoading,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...mutation, overtime: { elapsedTime } };\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n  useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport {\n  handleMultiple,\n  pickDataProvider,\n  pickNotDeprecated,\n  queryKeysReplacement,\n  useActiveAuthProvider,\n} from \"@definitions\";\nimport {\n  useCancelNotification,\n  useDataProvider,\n  useHandleNotification,\n  useInvalidate,\n  useKeys,\n  useLog,\n  useMeta,\n  useMutationMode,\n  useOnError,\n  usePublish,\n  useRefineContext,\n  useResource,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseKey,\n  BaseRecord,\n  DeleteManyResponse,\n  GetListResponse,\n  HttpError,\n  IQueryKeys,\n  MetaQuery,\n  MutationMode,\n  PrevContext as DeleteContext,\n  PreviousQuery,\n} from \"../../contexts/data/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport { ActionTypes } from \"../../contexts/undoableQueue/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nexport type DeleteManyParams<TData, TError, TVariables> = {\n  /**\n   * ids for mutation function\n   */\n  ids: BaseKey[];\n  /**\n   * Resource name for API data interactions\n   */\n  resource: string;\n  /**\n   * [Determines when mutations are executed](/advanced-tutorials/mutation-mode.md)\n   */\n  mutationMode?: MutationMode;\n  /**\n   * Duration in ms to wait before executing the mutation when `mutationMode = \"undoable\"`\n   */\n  undoableTimeout?: number;\n  /**\n   * Provides a function to cancel the mutation when `mutationMode = \"undoable\"`\n   */\n  onCancel?: (cancelMutation: () => void) => void;\n  /**\n   * Metadata query for dataProvider\n   */\n  meta?: MetaQuery;\n  /**\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   * @default \"default\"\n   */\n  dataProviderName?: string;\n  /**\n   *  You can use it to manage the invalidations that will occur at the end of the mutation.\n   */\n  invalidates?: Array<keyof IQueryKeys>;\n  /**\n   * Values for mutation function\n   */\n  values?: TVariables;\n} & SuccessErrorNotification<DeleteManyResponse<TData>, TError, BaseKey[]>;\n\nexport type UseDeleteManyReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError = HttpError,\n  TVariables = {},\n> = UseMutationResult<\n  DeleteManyResponse<TData>,\n  TError,\n  DeleteManyParams<TData, TError, TVariables>,\n  unknown\n> &\n  UseLoadingOvertimeReturnType;\n\nexport type UseDeleteManyProps<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = {\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      DeleteManyResponse<TData>,\n      TError,\n      DeleteManyParams<TData, TError, TVariables>,\n      DeleteContext<TData>\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\" | \"onSettled\" | \"onMutate\"\n  >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useDeleteMany` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for multiple delete mutations.\n *\n * It uses `deleteMany` method as mutation function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useDeleteMany} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n *\n */\nexport const useDeleteMany = <\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n>({\n  mutationOptions,\n  overtimeOptions,\n}: UseDeleteManyProps<TData, TError, TVariables> = {}): UseDeleteManyReturnType<\n  TData,\n  TError,\n  TVariables\n> => {\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n\n  const {\n    mutationMode: mutationModeContext,\n    undoableTimeout: undoableTimeoutContext,\n  } = useMutationMode();\n  const dataProvider = useDataProvider();\n  const { notificationDispatch } = useCancelNotification();\n  const translate = useTranslate();\n  const publish = usePublish();\n  const handleNotification = useHandleNotification();\n  const invalidateStore = useInvalidate();\n  const { log } = useLog();\n  const { resources, select } = useResource();\n  const queryClient = useQueryClient();\n  const getMeta = useMeta();\n  const {\n    options: { textTransformers },\n  } = useRefineContext();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    DeleteManyResponse<TData>,\n    TError,\n    DeleteManyParams<TData, TError, TVariables>,\n    DeleteContext<TData>\n  >({\n    mutationFn: ({\n      resource: resourceName,\n      ids,\n      mutationMode,\n      undoableTimeout,\n      onCancel,\n      meta,\n      metaData,\n      dataProviderName,\n      values,\n    }: DeleteManyParams<TData, TError, TVariables>) => {\n      const { resource, identifier } = select(resourceName);\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const mutationModePropOrContext = mutationMode ?? mutationModeContext;\n\n      const undoableTimeoutPropOrContext =\n        undoableTimeout ?? undoableTimeoutContext;\n\n      const selectedDataProvider = dataProvider(\n        pickDataProvider(identifier, dataProviderName, resources),\n      );\n\n      const mutationFn = () => {\n        if (selectedDataProvider.deleteMany) {\n          return selectedDataProvider.deleteMany<TData, TVariables>({\n            resource: resource.name,\n            ids,\n            meta: combinedMeta,\n            metaData: combinedMeta,\n            variables: values,\n          });\n        }\n        return handleMultiple(\n          ids.map((id) =>\n            selectedDataProvider.deleteOne<TData, TVariables>({\n              resource: resource.name,\n              id,\n              meta: combinedMeta,\n              metaData: combinedMeta,\n              variables: values,\n            }),\n          ),\n        );\n      };\n\n      if (!(mutationModePropOrContext === \"undoable\")) {\n        return mutationFn();\n      }\n\n      const updatePromise = new Promise<DeleteManyResponse<TData>>(\n        (resolve, reject) => {\n          const doMutation = () => {\n            mutationFn()\n              .then((result) => resolve(result))\n              .catch((err) => reject(err));\n          };\n\n          const cancelMutation = () => {\n            reject({ message: \"mutationCancelled\" });\n          };\n\n          if (onCancel) {\n            onCancel(cancelMutation);\n          }\n\n          notificationDispatch({\n            type: ActionTypes.ADD,\n            payload: {\n              id: ids,\n              resource: identifier,\n              cancelMutation: cancelMutation,\n              doMutation: doMutation,\n              seconds: undoableTimeoutPropOrContext,\n              isSilent: !!onCancel,\n            },\n          });\n        },\n      );\n      return updatePromise;\n    },\n    onMutate: async ({\n      ids,\n      resource: resourceName,\n      mutationMode,\n      dataProviderName,\n      meta,\n      metaData,\n    }) => {\n      const { identifier } = select(resourceName);\n\n      const {\n        gqlMutation: _,\n        gqlQuery: __,\n        ...preferredMeta\n      } = pickNotDeprecated(meta, metaData) ?? {};\n\n      const queryKey = queryKeysReplacement(preferLegacyKeys)(\n        identifier,\n        pickDataProvider(identifier, dataProviderName, resources),\n        preferredMeta,\n      );\n\n      const resourceKeys = keys()\n        .data(pickDataProvider(identifier, dataProviderName, resources))\n        .resource(identifier);\n\n      const mutationModePropOrContext = mutationMode ?? mutationModeContext;\n\n      await queryClient.cancelQueries(\n        resourceKeys.get(preferLegacyKeys),\n        undefined,\n        {\n          silent: true,\n        },\n      );\n\n      const previousQueries: PreviousQuery<TData>[] =\n        queryClient.getQueriesData(resourceKeys.get(preferLegacyKeys));\n\n      if (mutationModePropOrContext !== \"pessimistic\") {\n        // Set the previous queries to the new ones:\n        queryClient.setQueriesData(\n          resourceKeys\n            .action(\"list\")\n            .params(preferredMeta ?? {})\n            .get(preferLegacyKeys),\n          (previous?: GetListResponse<TData> | null) => {\n            if (!previous) {\n              return null;\n            }\n\n            const data = previous.data.filter(\n              (item) =>\n                item.id && !ids.map(String).includes(item.id.toString()),\n            );\n\n            return {\n              data,\n              total: previous.total - 1,\n            };\n          },\n        );\n\n        queryClient.setQueriesData(\n          resourceKeys.action(\"many\").get(preferLegacyKeys),\n          (previous?: GetListResponse<TData> | null) => {\n            if (!previous) {\n              return null;\n            }\n\n            const data = previous.data.filter((record: TData) => {\n              if (record.id) {\n                return !ids.map(String).includes(record.id.toString());\n              }\n              return false;\n            });\n\n            return {\n              ...previous,\n              data,\n            };\n          },\n        );\n\n        for (const id of ids) {\n          queryClient.setQueriesData(\n            resourceKeys\n              .action(\"one\")\n              .id(id)\n              .params(preferredMeta)\n              .get(preferLegacyKeys),\n            (previous?: any | null) => {\n              if (!previous || previous.data.id === id) {\n                return null;\n              }\n              return {\n                ...previous,\n              };\n            },\n          );\n        }\n      }\n\n      return {\n        previousQueries,\n        queryKey,\n      };\n    },\n    // Always refetch after error or success:\n    onSettled: (\n      _data,\n      _error,\n      {\n        resource: resourceName,\n        ids,\n        dataProviderName,\n        invalidates = [\"list\", \"many\"],\n      },\n    ) => {\n      const { identifier } = select(resourceName);\n\n      // invalidate the cache for the list and many queries:\n      invalidateStore({\n        resource: identifier,\n        dataProviderName: pickDataProvider(\n          identifier,\n          dataProviderName,\n          resources,\n        ),\n        invalidates,\n      });\n\n      notificationDispatch({\n        type: ActionTypes.REMOVE,\n        payload: { id: ids, resource: identifier },\n      });\n    },\n    onSuccess: (\n      _data,\n      {\n        ids,\n        resource: resourceName,\n        meta,\n        metaData,\n        dataProviderName: dataProviderNameFromProp,\n        successNotification,\n      },\n      context,\n    ) => {\n      const { resource, identifier } = select(resourceName);\n\n      const dataProviderName = pickDataProvider(\n        identifier,\n        dataProviderNameFromProp,\n        resources,\n      );\n\n      const combinedMeta = getMeta({\n        resource,\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      // Remove the queries from the cache:\n      ids.forEach((id) =>\n        queryClient.removeQueries(context?.queryKey.detail(id)),\n      );\n\n      const notificationConfig =\n        typeof successNotification === \"function\"\n          ? successNotification(_data, ids, identifier)\n          : successNotification;\n\n      handleNotification(notificationConfig, {\n        key: `${ids}-${identifier}-notification`,\n        description: translate(\"notifications.success\", \"Success\"),\n        message: translate(\n          \"notifications.deleteSuccess\",\n          {\n            resource: translate(`${identifier}.${identifier}`, identifier),\n          },\n          `Successfully deleted ${identifier}`,\n        ),\n        type: \"success\",\n      });\n\n      publish?.({\n        channel: `resources/${resource.name}`,\n        type: \"deleted\",\n        payload: { ids },\n        date: new Date(),\n        meta: {\n          ...combinedMeta,\n          dataProviderName,\n        },\n      });\n\n      const {\n        fields: _fields,\n        operation: _operation,\n        variables: _variables,\n        ...rest\n      } = combinedMeta || {};\n      log?.mutate({\n        action: \"deleteMany\",\n        resource: resource.name,\n        meta: {\n          ids,\n          dataProviderName,\n          ...rest,\n        },\n      });\n\n      // Remove the queries from the cache:\n      ids.forEach((id) =>\n        queryClient.removeQueries(context?.queryKey.detail(id)),\n      );\n    },\n    onError: (\n      err,\n      { ids, resource: resourceName, errorNotification },\n      context,\n    ) => {\n      const { identifier } = select(resourceName);\n\n      // set back the queries to the context:\n      if (context) {\n        for (const query of context.previousQueries) {\n          queryClient.setQueryData(query[0], query[1]);\n        }\n      }\n\n      if (err.message !== \"mutationCancelled\") {\n        checkError(err);\n        const resourceSingular = textTransformers.singular(identifier);\n\n        const notificationConfig =\n          typeof errorNotification === \"function\"\n            ? errorNotification(err, ids, identifier)\n            : errorNotification;\n\n        handleNotification(notificationConfig, {\n          key: `${ids}-${identifier}-notification`,\n          message: translate(\n            \"notifications.deleteError\",\n            {\n              resource: resourceSingular,\n              statusCode: err.statusCode,\n            },\n            `Error (status code: ${err.statusCode})`,\n          ),\n          description: err.message,\n          type: \"error\",\n        });\n      }\n    },\n    mutationKey: keys().data().mutation(\"deleteMany\").get(preferLegacyKeys),\n    ...mutationOptions,\n    meta: {\n      ...mutationOptions?.meta,\n      ...getXRay(\"useDeleteMany\", preferLegacyKeys),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: mutation.isLoading,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...mutation, overtime: { elapsedTime } };\n};\n", "import { pickNotDeprecated } from \"@definitions/index\";\nimport { useDataProvider, useResource } from \"@hooks\";\n\nexport const useApiUrl = (dataProviderName?: string): string => {\n  const dataProvider = useDataProvider();\n  const { resource } = useResource();\n\n  const { getApiUrl } = dataProvider(\n    dataProviderName ??\n      pickNotDeprecated(resource?.meta, resource?.options)?.dataProviderName,\n  );\n\n  return getApiUrl();\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  QueryObserverResult,\n  UseQueryOptions,\n  useQuery,\n} from \"@tanstack/react-query\";\n\nimport {\n  pickNotDeprecated,\n  useActiveAuthProvider,\n  prepareQueryContext,\n} from \"@definitions/helpers\";\nimport {\n  useDataProvider,\n  useHandleNotification,\n  useKeys,\n  useMeta,\n  useOnError,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseRecord,\n  CrudFilter,\n  CrudSort,\n  CustomResponse,\n  HttpError,\n  MetaQuery,\n  Prettify,\n} from \"../../contexts/data/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\ninterface UseCustomConfig<TQuery, TPayload> {\n  /**\n   * @deprecated `sort` is deprecated, use `sorters` instead.\n   */\n  sort?: CrudSort[];\n  sorters?: CrudSort[];\n  filters?: CrudFilter[];\n  query?: TQuery;\n  payload?: TPayload;\n  headers?: {};\n}\n\nexport type UseCustomProps<TQueryFnData, TError, TQuery, TPayload, TData> = {\n  /**\n   * request's URL\n   */\n  url: string;\n  /**\n   * request's method (`GET`, `POST`, etc.)\n   */\n  method: \"get\" | \"delete\" | \"head\" | \"options\" | \"post\" | \"put\" | \"patch\";\n  /**\n   * The config of your request. You can send headers, payload, query, filters and sorters using this field\n   */\n  config?: UseCustomConfig<TQuery, TPayload>;\n  /**\n   * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\"\n   */\n  queryOptions?: UseQueryOptions<\n    CustomResponse<TQueryFnData>,\n    TError,\n    CustomResponse<TData>\n  >;\n  /**\n   * meta data for `dataProvider`\n   */\n  meta?: MetaQuery;\n  /**\n   * meta data for `dataProvider`\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   */\n  dataProviderName?: string;\n} & SuccessErrorNotification<\n  CustomResponse<TData>,\n  TError,\n  Prettify<UseCustomConfig<TQuery, TPayload> & MetaQuery>\n> &\n  UseLoadingOvertimeOptionsProps;\n\n/**\n * `useCustom` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`} used for custom requests.\n *\n * It uses the `custom` method from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useCustom} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TQuery - Values for query params\n * @typeParam TPayload - Values for params\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useCustom = <\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TQuery = unknown,\n  TPayload = unknown,\n  TData extends BaseRecord = TQueryFnData,\n>({\n  url,\n  method,\n  config,\n  queryOptions,\n  successNotification,\n  errorNotification,\n  meta,\n  metaData,\n  dataProviderName,\n  overtimeOptions,\n}: UseCustomProps<\n  TQueryFnData,\n  TError,\n  TQuery,\n  TPayload,\n  TData\n>): QueryObserverResult<CustomResponse<TData>, TError> &\n  UseLoadingOvertimeReturnType => {\n  const dataProvider = useDataProvider();\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const translate = useTranslate();\n  const handleNotification = useHandleNotification();\n  const getMeta = useMeta();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const preferredMeta = pickNotDeprecated(meta, metaData);\n\n  const { custom } = dataProvider(dataProviderName);\n\n  const combinedMeta = getMeta({ meta: preferredMeta });\n\n  if (custom) {\n    const queryResponse = useQuery<\n      CustomResponse<TQueryFnData>,\n      TError,\n      CustomResponse<TData>\n    >({\n      queryKey: keys()\n        .data(dataProviderName)\n        .mutation(\"custom\")\n        .params({\n          method,\n          url,\n          ...config,\n          ...(preferredMeta || {}),\n        })\n        .get(preferLegacyKeys),\n      queryFn: (context) =>\n        custom<TQueryFnData>({\n          url,\n          method,\n          ...config,\n          meta: {\n            ...combinedMeta,\n            queryContext: prepareQueryContext(context),\n          },\n          metaData: {\n            ...combinedMeta,\n            queryContext: prepareQueryContext(context),\n          },\n        }),\n      ...queryOptions,\n      onSuccess: (data) => {\n        queryOptions?.onSuccess?.(data);\n\n        const notificationConfig =\n          typeof successNotification === \"function\"\n            ? successNotification(data, {\n                ...config,\n                ...combinedMeta,\n              })\n            : successNotification;\n\n        handleNotification(notificationConfig);\n      },\n      onError: (err: TError) => {\n        checkError(err);\n        queryOptions?.onError?.(err);\n\n        const notificationConfig =\n          typeof errorNotification === \"function\"\n            ? errorNotification(err, {\n                ...config,\n                ...combinedMeta,\n              })\n            : errorNotification;\n\n        handleNotification(notificationConfig, {\n          key: `${method}-notification`,\n          message: translate(\n            \"notifications.error\",\n            { statusCode: err.statusCode },\n            `Error (status code: ${err.statusCode})`,\n          ),\n          description: err.message,\n          type: \"error\",\n        });\n      },\n      meta: {\n        ...queryOptions?.meta,\n        ...getXRay(\"useCustom\", preferLegacyKeys),\n      },\n    });\n    const { elapsedTime } = useLoadingOvertime({\n      isLoading: queryResponse.isFetching,\n      interval: overtimeOptions?.interval,\n      onInterval: overtimeOptions?.onInterval,\n    });\n\n    return { ...queryResponse, overtime: { elapsedTime } };\n  }\n  throw Error(\"Not implemented custom on data provider.\");\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n} from \"@tanstack/react-query\";\n\nimport { pickNotDeprecated, useActiveAuthProvider } from \"@definitions/helpers\";\nimport {\n  useDataProvider,\n  useHandleNotification,\n  useKeys,\n  useMeta,\n  useOnError,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseRecord,\n  CreateResponse,\n  HttpError,\n  MetaQuery,\n  Prettify,\n} from \"../../contexts/data/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\ninterface UseCustomMutationConfig {\n  headers?: {};\n}\n\ntype useCustomMutationParams<TData, TError, TVariables> = {\n  url: string;\n  method: \"post\" | \"put\" | \"patch\" | \"delete\";\n  values: TVariables;\n  /**\n   * Meta data for `dataProvider`\n   */\n  meta?: MetaQuery;\n  /**\n   * Meta data for `dataProvider`\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  dataProviderName?: string;\n  config?: UseCustomMutationConfig;\n} & SuccessErrorNotification<\n  CreateResponse<TData>,\n  TError,\n  Prettify<UseCustomMutationConfig & MetaQuery>\n>;\n\nexport type UseCustomMutationReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = UseMutationResult<\n  CreateResponse<TData>,\n  TError,\n  useCustomMutationParams<TData, TError, TVariables>,\n  unknown\n>;\n\nexport type UseCustomMutationProps<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = {\n  mutationOptions?: Omit<\n    UseMutationOptions<\n      CreateResponse<TData>,\n      TError,\n      useCustomMutationParams<TData, TError, TVariables>,\n      unknown\n    >,\n    \"mutationFn\" | \"onError\" | \"onSuccess\"\n  >;\n} & UseLoadingOvertimeOptionsProps;\n\n/**\n * `useCustomMutation` is a modified version of `react-query`'s {@link https://react-query.tanstack.com/reference/useMutation `useMutation`} for create mutations.\n *\n * It uses the `custom` method from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useCustomMutation} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\n\nexport const useCustomMutation = <\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n>({\n  mutationOptions,\n  overtimeOptions,\n}: UseCustomMutationProps<\n  TData,\n  TError,\n  TVariables\n> = {}): UseCustomMutationReturnType<TData, TError, TVariables> &\n  UseLoadingOvertimeReturnType => {\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const handleNotification = useHandleNotification();\n  const dataProvider = useDataProvider();\n  const translate = useTranslate();\n  const getMeta = useMeta();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const mutation = useMutation<\n    CreateResponse<TData>,\n    TError,\n    useCustomMutationParams<TData, TError, TVariables>,\n    unknown\n  >(\n    ({\n      url,\n      method,\n      values,\n      meta,\n      metaData,\n      dataProviderName,\n      config,\n    }: useCustomMutationParams<TData, TError, TVariables>) => {\n      const combinedMeta = getMeta({\n        meta: pickNotDeprecated(meta, metaData),\n      });\n\n      const { custom } = dataProvider(dataProviderName);\n\n      if (custom) {\n        return custom<TData>({\n          url,\n          method,\n          payload: values,\n          meta: combinedMeta,\n          metaData: combinedMeta,\n          headers: { ...config?.headers },\n        });\n      }\n\n      throw Error(\"Not implemented custom on data provider.\");\n    },\n    {\n      onSuccess: (\n        data,\n        {\n          successNotification: successNotificationFromProp,\n          config,\n          meta,\n          metaData,\n        },\n      ) => {\n        const notificationConfig =\n          typeof successNotificationFromProp === \"function\"\n            ? successNotificationFromProp(data, {\n                ...config,\n                ...(pickNotDeprecated(meta, metaData) || {}),\n              })\n            : successNotificationFromProp;\n\n        handleNotification(notificationConfig);\n      },\n      onError: (\n        err: TError,\n        {\n          errorNotification: errorNotificationFromProp,\n          method,\n          config,\n          meta,\n          metaData,\n        },\n      ) => {\n        checkError(err);\n\n        const notificationConfig =\n          typeof errorNotificationFromProp === \"function\"\n            ? errorNotificationFromProp(err, {\n                ...config,\n                ...(pickNotDeprecated(meta, metaData) || {}),\n              })\n            : errorNotificationFromProp;\n\n        handleNotification(notificationConfig, {\n          key: `${method}-notification`,\n          message: translate(\n            \"notifications.error\",\n            { statusCode: err.statusCode },\n            `Error (status code: ${err.statusCode})`,\n          ),\n          description: err.message,\n          type: \"error\",\n        });\n      },\n      mutationKey: keys()\n        .data()\n        .mutation(\"customMutation\")\n        .get(preferLegacyKeys),\n      ...mutationOptions,\n      meta: {\n        ...mutationOptions?.meta,\n        ...getXRay(\"useCustomMutation\", preferLegacyKeys),\n      },\n    },\n  );\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: mutation.isLoading,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...mutation, overtime: { elapsedTime } };\n};\n", "import { useCallback, useContext } from \"react\";\n\nimport { DataContext } from \"@contexts/data\";\nimport { DataProvider, IDataContext } from \"../../contexts/data/types\";\nexport const useDataProvider = (): ((\n  /**\n   * The name of the `data provider` you want to access\n   */\n  dataProviderName?: string,\n) => DataProvider) => {\n  const context = useContext(DataContext);\n\n  const handleDataProvider = useCallback(\n    (dataProviderName?: string) => {\n      if (dataProviderName) {\n        const dataProvider = context?.[dataProviderName];\n        if (!dataProvider) {\n          throw new Error(`\"${dataProviderName}\" Data provider not found`);\n        }\n\n        if (dataProvider && !context?.default) {\n          throw new Error(\n            \"If you have multiple data providers, you must provide default data provider property\",\n          );\n        }\n\n        return context[dataProviderName];\n      }\n\n      if (context.default) {\n        return context.default;\n      }\n\n      throw new Error(\n        `There is no \"default\" data provider. Please pass dataProviderName.`,\n      );\n    },\n    [context],\n  );\n\n  return handleDataProvider;\n};\n", "import React, { PropsWithChildren } from \"react\";\n\nimport { DataProvider, DataProviders, IDataContext } from \"./types\";\n\nexport const defaultDataProvider: DataProviders = {\n  default: {} as DataProvider,\n};\n\nexport const DataContext =\n  React.createContext<IDataContext>(defaultDataProvider);\n\ntype Props = PropsWithChildren<{\n  dataProvider?: DataProvider | DataProviders;\n}>;\n\nexport const DataContextProvider: React.FC<Props> = ({\n  children,\n  dataProvider,\n}) => {\n  let providerValue = defaultDataProvider;\n\n  if (dataProvider) {\n    if (\n      !(\"default\" in dataProvider) &&\n      (\"getList\" in dataProvider || \"getOne\" in dataProvider)\n    ) {\n      providerValue = {\n        default: dataProvider,\n      };\n    } else {\n      providerValue = dataProvider;\n    }\n  }\n\n  return (\n    <DataContext.Provider value={providerValue}>\n      {children}\n    </DataContext.Provider>\n  );\n};\n", "import { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  InfiniteData,\n  InfiniteQueryObserverResult,\n  UseInfiniteQueryOptions,\n  useInfiniteQuery,\n} from \"@tanstack/react-query\";\n\nimport {\n  getNextPageParam,\n  getPreviousPageParam,\n  handlePaginationParams,\n  pickDataProvider,\n  pickNotDeprecated,\n  prepareQueryContext,\n  useActiveAuthProvider,\n} from \"@definitions/helpers\";\nimport {\n  useDataProvider,\n  useHandleNotification,\n  useKeys,\n  useMeta,\n  useOnError,\n  useResource,\n  useResourceSubscription,\n  useTranslate,\n} from \"@hooks\";\n\nimport {\n  BaseRecord,\n  CrudFilter,\n  CrudSort,\n  GetListResponse,\n  HttpError,\n  MetaQuery,\n  Pagination,\n  Prettify,\n} from \"../../contexts/data/types\";\nimport { LiveModeProps } from \"../../contexts/live/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nexport interface UseInfiniteListConfig {\n  pagination?: Pagination;\n  hasPagination?: boolean;\n  sort?: CrudSort[];\n  filters?: CrudFilter[];\n}\n\ntype BaseInfiniteListProps = {\n  /**\n   *  Metadata query for `dataProvider`\n   */\n  meta?: MetaQuery;\n  /**\n   *  Metadata query for `dataProvider`\n   *  @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * Configuration for pagination, sorting and filtering\n   * @type [`useInfiniteListConfig`](/docs/api-reference/core/hooks/data/useInfiniteList/#config-parameters)\n   * @deprecated `config` property is deprecated. Use `pagination`, `hasPagination`, `sorters` and `filters` instead.\n   */\n  config?: UseInfiniteListConfig;\n  /**\n   * Pagination properties\n   */\n  pagination?: Pagination;\n  /**\n   * Whether to use server-side pagination or not\n   * @deprecated `hasPagination` property is deprecated. Use `pagination.mode` instead.\n   */\n  hasPagination?: boolean;\n  /**\n   * Sorter parameters\n   */\n  sorters?: CrudSort[];\n  /**\n   * Filter parameters\n   */\n  filters?: CrudFilter[];\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use\n   */\n  dataProviderName?: string;\n};\n\nexport type UseInfiniteListProps<TQueryFnData, TError, TData> = {\n  /**\n   * Resource name for API data interactions\n   */\n  resource: string;\n  /**\n   * Tanstack Query's [useInfiniteQuery](https://tanstack.com/query/v4/docs/react/reference/useInfiniteQuery) options\n   */\n  queryOptions?: UseInfiniteQueryOptions<\n    GetListResponse<TQueryFnData>,\n    TError,\n    GetListResponse<TData>\n  >;\n} & BaseInfiniteListProps &\n  SuccessErrorNotification<\n    InfiniteData<GetListResponse<TData>>,\n    TError,\n    Prettify<BaseInfiniteListProps>\n  > &\n  LiveModeProps &\n  UseLoadingOvertimeOptionsProps;\n\n/**\n * `useInfiniteList` is a modified version of `react-query`'s {@link https://tanstack.com/query/latest/docs/react/guides/infinite-queries `useInfiniteQuery`} used for retrieving items from a `resource` with pagination, sort, and filter configurations.\n *\n * It uses the `getList` method as the query function from the `dataProvider` which is passed to `<Refine>`.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/data/useInfiniteList} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useInfiniteList = <\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TData extends BaseRecord = TQueryFnData,\n>({\n  resource: resourceFromProp,\n  config,\n  filters,\n  hasPagination,\n  pagination,\n  sorters,\n  queryOptions,\n  successNotification,\n  errorNotification,\n  meta,\n  metaData,\n  liveMode,\n  onLiveEvent,\n  liveParams,\n  dataProviderName,\n  overtimeOptions,\n}: UseInfiniteListProps<\n  TQueryFnData,\n  TError,\n  TData\n>): InfiniteQueryObserverResult<GetListResponse<TData>, TError> &\n  UseLoadingOvertimeReturnType => {\n  const { resources, resource, identifier } = useResource(resourceFromProp);\n\n  const dataProvider = useDataProvider();\n  const translate = useTranslate();\n  const authProvider = useActiveAuthProvider();\n  const { mutate: checkError } = useOnError({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n  const handleNotification = useHandleNotification();\n  const getMeta = useMeta();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const pickedDataProvider = pickDataProvider(\n    identifier,\n    dataProviderName,\n    resources,\n  );\n  const preferredMeta = pickNotDeprecated(meta, metaData);\n  const prefferedFilters = pickNotDeprecated(filters, config?.filters);\n  const prefferedSorters = pickNotDeprecated(sorters, config?.sort);\n  const prefferedHasPagination = pickNotDeprecated(\n    hasPagination,\n    config?.hasPagination,\n  );\n  const prefferedPagination = handlePaginationParams({\n    pagination,\n    configPagination: config?.pagination,\n    hasPagination: prefferedHasPagination,\n  });\n  const isServerPagination = prefferedPagination.mode === \"server\";\n  const notificationValues = {\n    meta: preferredMeta,\n    metaData: preferredMeta,\n    filters: prefferedFilters,\n    hasPagination: isServerPagination,\n    pagination: prefferedPagination,\n    sorters: prefferedSorters,\n    config: {\n      ...config,\n      sort: prefferedSorters,\n    },\n  };\n\n  const isEnabled =\n    queryOptions?.enabled === undefined || queryOptions?.enabled === true;\n\n  const combinedMeta = getMeta({ resource, meta: preferredMeta });\n\n  const { getList } = dataProvider(pickedDataProvider);\n\n  useResourceSubscription({\n    resource: identifier,\n    types: [\"*\"],\n    params: {\n      meta: combinedMeta,\n      metaData: combinedMeta,\n      pagination: prefferedPagination,\n      hasPagination: isServerPagination,\n      sort: prefferedSorters,\n      sorters: prefferedSorters,\n      filters: prefferedFilters,\n      subscriptionType: \"useList\",\n      ...liveParams,\n    },\n    channel: `resources/${resource.name}`,\n    enabled: isEnabled,\n    liveMode,\n    onLiveEvent,\n    dataProviderName: pickedDataProvider,\n    meta: {\n      ...combinedMeta,\n      dataProviderName,\n    },\n  });\n\n  const queryResponse = useInfiniteQuery<\n    GetListResponse<TQueryFnData>,\n    TError,\n    GetListResponse<TData>\n  >({\n    queryKey: keys()\n      .data(pickedDataProvider)\n      .resource(identifier)\n      .action(\"infinite\")\n      .params({\n        ...(preferredMeta || {}),\n        filters: prefferedFilters,\n        hasPagination: isServerPagination,\n        ...(isServerPagination && {\n          pagination: prefferedPagination,\n        }),\n        ...(sorters && {\n          sorters,\n        }),\n        ...(config?.sort && {\n          sort: config?.sort,\n        }),\n      })\n      .get(preferLegacyKeys),\n    queryFn: (context) => {\n      const paginationProperties = {\n        ...prefferedPagination,\n        current: context.pageParam,\n      };\n\n      const meta = {\n        ...combinedMeta,\n        queryContext: prepareQueryContext(context),\n      };\n\n      return getList<TQueryFnData>({\n        resource: resource.name,\n        pagination: paginationProperties,\n        hasPagination: isServerPagination,\n        filters: prefferedFilters,\n        sort: prefferedSorters,\n        sorters: prefferedSorters,\n        meta,\n        metaData: meta,\n      }).then(({ data, total, ...rest }) => {\n        return {\n          data,\n          total,\n          pagination: paginationProperties,\n          ...rest,\n        };\n      });\n    },\n    getNextPageParam: (lastPage) => getNextPageParam(lastPage),\n    getPreviousPageParam: (lastPage) => getPreviousPageParam(lastPage),\n    ...queryOptions,\n    onSuccess: (data) => {\n      queryOptions?.onSuccess?.(data);\n\n      const notificationConfig =\n        typeof successNotification === \"function\"\n          ? successNotification(data, notificationValues, identifier)\n          : successNotification;\n\n      handleNotification(notificationConfig);\n    },\n    onError: (err: TError) => {\n      checkError(err);\n      queryOptions?.onError?.(err);\n\n      const notificationConfig =\n        typeof errorNotification === \"function\"\n          ? errorNotification(err, notificationValues, identifier)\n          : errorNotification;\n\n      handleNotification(notificationConfig, {\n        key: `${identifier}-useInfiniteList-notification`,\n        message: translate(\n          \"notifications.error\",\n          { statusCode: err.statusCode },\n          `Error (status code: ${err.statusCode})`,\n        ),\n        description: err.message,\n        type: \"error\",\n      });\n    },\n    meta: {\n      ...queryOptions?.meta,\n      ...getXRay(\"useInfiniteList\", preferLegacyKeys, resource?.name),\n    },\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: queryResponse.isFetching,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return { ...queryResponse, overtime: { elapsedTime } };\n};\n", "import { useContext, useEffect } from \"react\";\n\nimport { LiveContext } from \"@contexts/live\";\nimport { RefineContext } from \"@contexts/refine\";\nimport { useInvalidate } from \"@hooks/invalidate\";\nimport { useResource } from \"@hooks/resource\";\n\nimport {\n  BaseKey,\n  CrudFilter,\n  CrudSort,\n  MetaQuery,\n  Pagination,\n} from \"../../../contexts/data/types\";\nimport { LiveEvent, LiveModeProps } from \"../../../contexts/live/types\";\nimport { IRefineContext } from \"../../../contexts/refine/types\";\n\nexport type UseResourceSubscriptionProps = {\n  channel: string;\n  params?: {\n    ids?: BaseKey[];\n    id?: BaseKey;\n    /**\n     * @deprecated `params.meta` is depcerated. Use `meta` directly from the root level instead.\n     */\n    meta?: MetaQuery;\n    /**\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    pagination?: Pagination;\n    /**\n     * @deprecated `hasPagination` is deprecated, use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * @deprecated `sort` is deprecated. Use `sorters` instead.\n     */\n    sort?: CrudSort[];\n    sorters?: CrudSort[];\n    filters?: CrudFilter[];\n    subscriptionType: \"useList\" | \"useOne\" | \"useMany\";\n    [key: string]: any;\n  };\n  types: LiveEvent[\"type\"][];\n  resource?: string;\n  enabled?: boolean;\n  /**\n   * @deprecated use `meta.dataProviderName` instead.\n   */\n  dataProviderName?: string;\n  meta?: MetaQuery & { dataProviderName?: string };\n} & LiveModeProps;\n\nexport type PublishType = (event: LiveEvent) => void;\n\nexport const useResourceSubscription = ({\n  resource: resourceFromProp,\n  params,\n  channel,\n  types,\n  enabled = true,\n  liveMode: liveModeFromProp,\n  onLiveEvent,\n  dataProviderName: dataProviderNameFromProps,\n  meta,\n}: UseResourceSubscriptionProps): void => {\n  const { resource, identifier } = useResource(resourceFromProp);\n\n  const { liveProvider } = useContext(LiveContext);\n  const {\n    liveMode: liveModeFromContext,\n    onLiveEvent: onLiveEventContextCallback,\n  } = useContext<IRefineContext>(RefineContext);\n\n  const liveMode = liveModeFromProp ?? liveModeFromContext;\n\n  const invalidate = useInvalidate();\n\n  const dataProviderName =\n    dataProviderNameFromProps ??\n    meta?.dataProviderName ??\n    resource?.meta?.dataProviderName;\n\n  useEffect(() => {\n    let subscription: any;\n\n    const callback = (event: LiveEvent) => {\n      if (liveMode === \"auto\") {\n        invalidate({\n          resource: identifier,\n          dataProviderName,\n          invalidates: [\"resourceAll\"],\n          invalidationFilters: {\n            type: \"active\",\n            refetchType: \"active\",\n          },\n          invalidationOptions: { cancelRefetch: false },\n        });\n      }\n\n      onLiveEvent?.(event);\n      onLiveEventContextCallback?.(event);\n    };\n\n    if (liveMode && liveMode !== \"off\" && enabled) {\n      subscription = liveProvider?.subscribe({\n        channel,\n        params: {\n          resource: resource?.name,\n          ...params,\n        },\n        types,\n        callback,\n        dataProviderName,\n        meta: {\n          ...meta,\n          dataProviderName,\n        },\n      });\n    }\n\n    return () => {\n      if (subscription) {\n        liveProvider?.unsubscribe(subscription);\n      }\n    };\n  }, [enabled]);\n};\n", "import React, { PropsWithChildren } from \"react\";\n\nimport { ILiveContext } from \"./types\";\n\nexport const LiveContext = React.createContext<ILiveContext>({});\n\nexport const LiveContextProvider: React.FC<PropsWithChildren<ILiveContext>> = ({\n  liveProvider,\n  children,\n}) => {\n  return (\n    <LiveContext.Provider value={{ liveProvider }}>\n      {children}\n    </LiveContext.Provider>\n  );\n};\n", "import { useCallback } from \"react\";\n\nimport {\n  InvalidateOptions,\n  InvalidateQueryFilters,\n  useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { pickDataProvider } from \"@definitions\";\nimport { useKeys, useResource } from \"@hooks\";\n\nimport { BaseKey, IQueryKeys } from \"../../contexts/data/types\";\n\nexport type UseInvalidateProp = {\n  resource?: string;\n  id?: BaseKey;\n  dataProviderName?: string;\n  invalidates: Array<keyof IQueryKeys> | false;\n  invalidationFilters?: InvalidateQueryFilters;\n  invalidationOptions?: InvalidateOptions;\n};\n\nexport const useInvalidate = (): ((\n  props: UseInvalidateProp,\n) => Promise<void>) => {\n  const { resources } = useResource();\n  const queryClient = useQueryClient();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const invalidate = useCallback(\n    async ({\n      resource,\n      dataProviderName,\n      invalidates,\n      id,\n      invalidationFilters = { type: \"all\", refetchType: \"active\" },\n      invalidationOptions = { cancelRefetch: false },\n    }: UseInvalidateProp) => {\n      if (invalidates === false) {\n        return;\n      }\n      const dp = pickDataProvider(resource, dataProviderName, resources);\n\n      const queryKey = keys()\n        .data(dp)\n        .resource(resource ?? \"\");\n\n      await Promise.all(\n        invalidates.map((key) => {\n          switch (key) {\n            case \"all\":\n              return queryClient.invalidateQueries(\n                keys().data(dp).get(preferLegacyKeys),\n                invalidationFilters,\n                invalidationOptions,\n              );\n            case \"list\":\n              return queryClient.invalidateQueries(\n                queryKey.action(\"list\").get(preferLegacyKeys),\n                invalidationFilters,\n                invalidationOptions,\n              );\n            case \"many\":\n              return queryClient.invalidateQueries(\n                queryKey.action(\"many\").get(preferLegacyKeys),\n                invalidationFilters,\n                invalidationOptions,\n              );\n            case \"resourceAll\":\n              return queryClient.invalidateQueries(\n                queryKey.get(preferLegacyKeys),\n                invalidationFilters,\n                invalidationOptions,\n              );\n            case \"detail\":\n              return queryClient.invalidateQueries(\n                queryKey\n                  .action(\"one\")\n                  .id(id || \"\")\n                  .get(preferLegacyKeys),\n                invalidationFilters,\n                invalidationOptions,\n              );\n            default:\n              return;\n          }\n        }),\n      );\n\n      return;\n    },\n    [],\n  );\n\n  return invalidate;\n};\n", "import { useContext } from \"react\";\n\nimport { ResourceContext } from \"@contexts/resource\";\nimport { useResourceWithRoute, useRouterContext } from \"@hooks\";\n\nimport { BaseKey } from \"../../../contexts/data/types\";\nimport { IResourceItem } from \"../../../contexts/resource/types\";\nimport { ResourceRouterParams } from \"../../../contexts/router/legacy/types\";\nimport { useRouterType } from \"../../../contexts/router/picker\";\nimport { Action } from \"../../../contexts/router/types\";\nimport { pickResource } from \"../../../definitions/helpers/pick-resource\";\nimport { useParsed } from \"../../router/use-parsed\";\n\nexport type UseResourceLegacyProps = {\n  /**\n   * Determines which resource to use for redirection\n   * @deprecated resourceName deprecated. Use resourceNameOrRouteName instead # https://github.com/refinedev/refine/issues/1618\n   */\n  resourceName?: string;\n  /**\n   * Determines which resource to use for redirection\n   * @default Resource name that it reads from route\n   */\n  resourceNameOrRouteName?: string;\n  /**\n   * Adds id to the end of the URL\n   * @deprecated resourceName deprecated. Use resourceNameOrRouteName instead # https://github.com/refinedev/refine/issues/1618\n   */\n  recordItemId?: BaseKey;\n};\n\n/**\n * Matches the resource by identifier.\n * If not provided, the resource from the route will be returned.\n * If your resource does not explicitly define an identifier, the resource name will be used.\n */\nexport type UseResourceParam = string | undefined;\n\ntype SelectReturnType<T extends boolean> = T extends true\n  ? { resource: IResourceItem; identifier: string }\n  : { resource: IResourceItem; identifier: string } | undefined;\n\nexport type UseResourceReturnType = {\n  resources: IResourceItem[];\n  resource?: IResourceItem;\n  /**\n   * @deprecated Use `resource.name` instead when you need to get the resource name.\n   */\n  resourceName?: string;\n  /**\n   * @deprecated This value may not always reflect the correct \"id\" value. Use `useResourceParams` to obtain the calculated \"id\"` or `useParsed` to obtain the id from the route instead.\n   */\n  id?: BaseKey;\n  /**\n   * @deprecated This value may not always reflect the correct \"action\" value. Use `useResourceParams` to obtain the calculated \"action\" or `useParsed` to obtain the action from the route instead.\n   */\n  action?: Action;\n  select: <T extends boolean = true>(\n    resourceName: string,\n    force?: T,\n  ) => SelectReturnType<T>;\n  identifier?: string;\n};\n\ntype UseResourceReturnTypeWithResource = UseResourceReturnType & {\n  resource: IResourceItem;\n  identifier: string;\n};\n\n/**\n * @deprecated Use `useResource` with `identifier` property instead. (`identifier` does not check by route name in new router)\n */\nexport function useResource(\n  props: UseResourceLegacyProps,\n): UseResourceReturnType;\nexport function useResource(): UseResourceReturnType;\nexport function useResource<TIdentifier = UseResourceParam>(\n  identifier: TIdentifier,\n): TIdentifier extends NonNullable<UseResourceParam>\n  ? UseResourceReturnTypeWithResource\n  : UseResourceReturnType;\n/**\n * `useResource` is used to get `resources` that are defined as property of the `<Refine>` component.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/resource/useResource} for more details.\n */\nexport function useResource(\n  args?: UseResourceLegacyProps | UseResourceParam,\n): UseResourceReturnType {\n  const { resources } = useContext(ResourceContext);\n\n  const routerType = useRouterType();\n\n  const params = useParsed();\n\n  const oldProps = {\n    resourceName: args && typeof args !== \"string\" ? args.resourceName : args,\n    resourceNameOrRouteName:\n      args && typeof args !== \"string\" ? args.resourceNameOrRouteName : args,\n    recordItemId:\n      args && typeof args !== \"string\" ? args.recordItemId : undefined,\n  };\n\n  const select = <T extends boolean = true>(\n    resourceName: string,\n    force = true,\n  ): SelectReturnType<T> => {\n    const isLegacy = routerType === \"legacy\";\n    const pickedResource = pickResource(resourceName, resources, isLegacy);\n\n    if (pickedResource) {\n      return {\n        resource: pickedResource,\n        identifier: pickedResource.identifier ?? pickedResource.name,\n      } as SelectReturnType<T>;\n    }\n\n    if (force) {\n      const resource: IResourceItem = {\n        name: resourceName,\n        identifier: resourceName,\n      };\n\n      const identifier = resource.identifier ?? resource.name;\n\n      return {\n        resource,\n        identifier,\n      } as SelectReturnType<T>;\n    }\n\n    return undefined as SelectReturnType<T>;\n  };\n\n  /**\n   * Legacy Router - Start\n   *\n   * using `useParams` and `route` to match resource and get params.\n   */\n  const resourceWithRoute = useResourceWithRoute();\n\n  const { useParams } = useRouterContext();\n\n  const legacyParams = useParams<Partial<ResourceRouterParams>>();\n\n  if (routerType === \"legacy\") {\n    const resourceKeyToCheck = oldProps.resourceNameOrRouteName\n      ? oldProps.resourceNameOrRouteName\n      : legacyParams.resource;\n\n    const legacyResource = resourceKeyToCheck\n      ? resourceWithRoute(resourceKeyToCheck)\n      : undefined;\n    const legacyId = oldProps?.recordItemId ?? legacyParams.id;\n    const legacyAction = legacyParams.action;\n    const legacyResourceName = oldProps?.resourceName ?? legacyResource?.name;\n    const legacyIdentifier = legacyResource?.identifier ?? legacyResource?.name;\n\n    return {\n      resources,\n      resource: legacyResource,\n      resourceName: legacyResourceName,\n      id: legacyId,\n      action: legacyAction,\n      select,\n      identifier: legacyIdentifier,\n    };\n  }\n  /** Legacy Router - End */\n\n  /** New Router */\n  let resource: IResourceItem | undefined = undefined;\n  // we try to pick the resource from props first\n  const identifier =\n    typeof args === \"string\" ? args : oldProps?.resourceNameOrRouteName;\n  if (identifier) {\n    const pickedFromProps = pickResource(identifier, resources);\n    if (pickedFromProps) {\n      resource = pickedFromProps;\n    } else {\n      resource = {\n        name: identifier as string,\n      };\n    }\n  } else if (params?.resource) {\n    resource = params.resource;\n  }\n\n  return {\n    resources,\n    resource,\n    resourceName: resource?.name,\n    id: params.id,\n    action: params.action,\n    select,\n    identifier: resource?.identifier ?? resource?.name,\n  };\n}\n", "import React from \"react\";\n\nimport { legacyResourceTransform } from \"@definitions/helpers\";\nimport { useDeepMemo } from \"@hooks/deepMemo\";\n\nimport { IResourceContext, IResourceItem, ResourceProps } from \"./types\";\n\nexport const ResourceContext = React.createContext<IResourceContext>({\n  resources: [],\n});\n\nexport const ResourceContextProvider: React.FC<\n  React.PropsWithChildren<{ resources: ResourceProps[] }>\n> = ({ resources: providedResources, children }) => {\n  const resources: IResourceItem[] = useDeepMemo(() => {\n    return legacyResourceTransform(providedResources ?? []);\n  }, [providedResources]);\n\n  return (\n    <ResourceContext.Provider value={{ resources }}>\n      {children}\n    </ResourceContext.Provider>\n  );\n};\n", "import React, { useMemo } from \"react\";\nimport { useMemoized } from \"@hooks/memoized\";\n\n/**\n * Hook that memoizes the given dependency array and checks the consecutive calls with deep equality and returns the same value as the first call if dependencies are not changed.\n * @internal\n */\nexport const useDeepMemo = <T,>(\n  fn: () => T,\n  dependencies: React.DependencyList,\n): T => {\n  const memoizedDependencies = useMemoized(dependencies);\n\n  const value = useMemo(fn, memoizedDependencies);\n\n  return value;\n};\n", "import { useRef } from \"react\";\nimport isEqual from \"lodash-es/isEqual.js\";\n\n/**\n * Hook that memoizes the given value with deep equality.\n * @internal\n */\nexport const useMemoized = <T = unknown>(value: T): T => {\n  const ref = useRef(value);\n\n  if (!isEqual(ref.current, value)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n};\n", "import React from \"react\";\n\n/**\n * This context is used to determine which router to use.\n *\n * This is a temporary solution until we remove the legacy router.\n */\n\nexport const RouterPickerContext = React.createContext<\"legacy\" | \"new\">(\"new\");\n\nexport const RouterPickerProvider = RouterPickerContext.Provider;\n\n/**\n * This is a temporary hook to determine which router to use.\n * It will be removed once the legacy router is removed.\n * @internal This is an internal hook.\n */\nexport const useRouterType = () => {\n  const value = React.useContext(RouterPickerContext);\n  return value;\n};\n", "import React from \"react\";\nimport { useParse } from \"../use-parse\";\n\nexport const useParsed = <\n  TParams extends Record<string, any> = Record<string, any>,\n>() => {\n  const parse = useParse();\n\n  const parsed = React.useMemo(() => parse<TParams>(), [parse]);\n\n  return parsed;\n};\n", "import React, { createContext, PropsWithChildren } from \"react\";\nimport { RouterProvider } from \"./types\";\n\nconst defaultRouterProvider = {};\n\nexport const RouterContext = createContext<RouterProvider>(\n  defaultRouterProvider,\n);\n\nexport const RouterContextProvider: React.FC<\n  PropsWithChildren<{ router?: RouterProvider }>\n> = ({ children, router }) => {\n  return (\n    <RouterContext.Provider value={router ?? defaultRouterProvider}>\n      {children}\n    </RouterContext.Provider>\n  );\n};\n", "import { RouterContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\nimport { ParseFunction, ParseResponse } from \"../../../contexts/router/types\";\n\ntype UseParseType = () => <\n  TParams extends Record<string, any> = Record<string, any>,\n>() => ParseResponse<TParams>;\n\nexport const useParse: UseParseType = () => {\n  const routerContext = useContext(RouterContext);\n\n  const useParse = React.useMemo(\n    () =>\n      routerContext?.parse ??\n      (() =>\n        (() => {\n          return {};\n        }) as ParseFunction),\n    [routerContext?.parse],\n  );\n\n  const parse = useParse();\n\n  return parse as ReturnType<UseParseType>;\n};\n", "import { useCallback, useContext } from \"react\";\n\nimport { ResourceContext } from \"@contexts/resource\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\n\nimport { IResourceItem } from \"../../../contexts/resource/types\";\n\nexport type UseResourceWithRouteReturnType = (route: string) => IResourceItem;\n\n/**\n * @deprecated Use `useResource` hook instead.\n * @internal This hook is for internal use only. And is kept for backward compatibility.\n */\nexport const useResourceWithRoute = (): UseResourceWithRouteReturnType => {\n  const { resources } = useContext(ResourceContext);\n\n  const resourceWithRoute = useCallback(\n    (route: string) => {\n      const picked = pickResource(route, resources, true);\n      if (picked) {\n        return picked;\n      }\n      return { name: route, route: route } as IResourceItem;\n    },\n    [resources],\n  );\n\n  return resourceWithRoute;\n};\n", "import { useContext } from \"react\";\n\nimport { RefineContext } from \"@contexts/refine\";\n\nimport { LiveModeProps } from \"../../../contexts/live/types\";\nimport { IRefineContext } from \"../../../contexts/refine/types\";\n\nexport const useLiveMode = (\n  liveMode: LiveModeProps[\"liveMode\"],\n): LiveModeProps[\"liveMode\"] => {\n  const { liveMode: liveModeFromContext } =\n    useContext<IRefineContext>(RefineContext);\n\n  return liveMode ?? liveModeFromContext;\n};\n", "import { useContext, useEffect } from \"react\";\n\nimport { LiveContext } from \"@contexts/live\";\n\nimport {\n  BaseKey,\n  CrudFilter,\n  CrudSort,\n  MetaQuery,\n  Pagination,\n} from \"../../../contexts/data/types\";\nimport { LiveEvent } from \"../../../contexts/live/types\";\n\nexport type UseSubscriptionProps = {\n  /**\n   * Channel name to subscribe.\n   */\n  channel: string;\n  /**\n   * Callback that is run when new events from subscription arrive.\n   */\n  onLiveEvent: (event: LiveEvent) => void;\n  /**\n   * Type of events to subscribe. `\"*\"` means all events.\n   * @type Array<\"deleted\" | \"updated\" | \"created\" | \"*\" | string>\n   */\n  types?: LiveEvent[\"type\"][];\n  /**\n   * Determines subscription should subscribe or not.\n   * @type Array<\"deleted\" | \"updated\" | \"created\" | \"*\" | string>\n   */\n  enabled?: boolean;\n  params?: {\n    ids?: BaseKey[];\n    id?: BaseKey;\n    /**\n     * @deprecated `params.meta` is depcerated. Use `meta` directly from the root level instead.\n     */\n    meta?: MetaQuery;\n    /**\n     * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n     */\n    metaData?: MetaQuery;\n    pagination?: Pagination;\n    /**\n     * @deprecated `hasPagination` is deprecated, use `pagination.mode` instead.\n     */\n    hasPagination?: boolean;\n    /**\n     * @deprecated `sort` is deprecated, use `sorters` instead.\n     */\n    sort?: CrudSort[];\n    sorters?: CrudSort[];\n    filters?: CrudFilter[];\n    subscriptionType?: \"useList\" | \"useOne\" | \"useMany\";\n    resource?: string;\n    [key: string]: any;\n  };\n  /**\n   * @deprecated use `meta.dataProviderName` instead.\n   */\n  dataProviderName?: string;\n  meta?: MetaQuery & { dataProviderName?: string };\n};\n\nexport const useSubscription = ({\n  params,\n  channel,\n  types = [\"*\"],\n  enabled = true,\n  onLiveEvent,\n  dataProviderName = \"default\",\n  meta,\n}: UseSubscriptionProps): void => {\n  const { liveProvider } = useContext(LiveContext);\n\n  useEffect(() => {\n    let subscription: any;\n\n    if (enabled) {\n      subscription = liveProvider?.subscribe({\n        channel,\n        params,\n        types,\n        callback: onLiveEvent,\n        dataProviderName,\n        meta: {\n          ...meta,\n          dataProviderName,\n        },\n      });\n    }\n\n    return () => {\n      if (subscription) {\n        liveProvider?.unsubscribe(subscription);\n      }\n    };\n  }, [enabled]);\n};\n", "import { useContext } from \"react\";\n\nimport { LiveContext } from \"@contexts/live\";\nimport { LiveProvider } from \"../../../contexts/live/types\";\n\nexport const usePublish: () => NonNullable<LiveProvider>[\"publish\"] = () => {\n  const { liveProvider } = useContext(LiveContext);\n\n  return liveProvider?.publish;\n};\n", "import { useContext } from \"react\";\n\nimport { UndoableQueueContext } from \"@contexts/undoableQueue\";\nimport { IUndoableQueue } from \"../../../contexts/undoableQueue/types\";\n\nexport type UseCancelNotificationType = () => {\n  notifications: IUndoableQueue[];\n  notificationDispatch: React.Dispatch<any>;\n};\n\nexport const useCancelNotification: UseCancelNotificationType = () => {\n  const { notifications, notificationDispatch } =\n    useContext(UndoableQueueContext);\n\n  return { notifications, notificationDispatch };\n};\n", "import React, { createContext, useReducer, PropsWithChildren } from \"react\";\n\nimport isEqual from \"lodash-es/isEqual.js\";\n\nimport { UndoableQueue } from \"../../components\";\nimport { ActionTypes, IUndoableQueue, IUndoableQueueContext } from \"./types\";\n\nexport const UndoableQueueContext = createContext<IUndoableQueueContext>({\n  notifications: [],\n  notificationDispatch: () => false,\n});\n\nconst initialState: IUndoableQueue[] = [];\n\nexport const undoableQueueReducer = (state: IUndoableQueue[], action: any) => {\n  switch (action.type) {\n    case ActionTypes.ADD: {\n      const newState = state.filter((notificationItem: IUndoableQueue) => {\n        return !(\n          isEqual(notificationItem.id, action.payload.id) &&\n          notificationItem.resource === action.payload.resource\n        );\n      });\n\n      return [\n        ...newState,\n        {\n          ...action.payload,\n          isRunning: true,\n        },\n      ];\n    }\n    case ActionTypes.REMOVE:\n      return state.filter(\n        (notificationItem: IUndoableQueue) =>\n          !(\n            isEqual(notificationItem.id, action.payload.id) &&\n            notificationItem.resource === action.payload.resource\n          ),\n      );\n    case ActionTypes.DECREASE_NOTIFICATION_SECOND:\n      return state.map((notificationItem: IUndoableQueue) => {\n        if (\n          isEqual(notificationItem.id, action.payload.id) &&\n          notificationItem.resource === action.payload.resource\n        ) {\n          return {\n            ...notificationItem,\n            seconds: action.payload.seconds - 1000,\n          };\n        }\n        return notificationItem;\n      });\n    default:\n      return state;\n  }\n};\n\nexport const UndoableQueueContextProvider: React.FC<PropsWithChildren> = ({\n  children,\n}) => {\n  const [notifications, notificationDispatch] = useReducer(\n    undoableQueueReducer,\n    initialState,\n  );\n\n  const notificationData = { notifications, notificationDispatch };\n\n  return (\n    <UndoableQueueContext.Provider value={notificationData}>\n      {children}\n      {typeof window !== \"undefined\"\n        ? notifications.map((notification) => (\n            <UndoableQueue\n              key={`${notification.id}-${notification.resource}-queue`}\n              notification={notification}\n            />\n          ))\n        : null}\n    </UndoableQueueContext.Provider>\n  );\n};\n", "import { useContext } from \"react\";\n\nimport { NotificationContext } from \"@contexts/notification\";\nimport { INotificationContext } from \"../../../contexts/notification/types\";\n\nexport const useNotification = (): INotificationContext => {\n  const { open, close } = useContext(NotificationContext);\n\n  return { open, close };\n};\n", "import React, { createContext, PropsWithChildren } from \"react\";\n\nimport { INotificationContext } from \"./types\";\n\n/** @deprecated default value for notification context has no use and is an empty object.  */\nexport const defaultNotificationProvider: INotificationContext = {};\n\nexport const NotificationContext = createContext<INotificationContext>({});\n\nexport const NotificationContextProvider: React.FC<\n  PropsWithChildren<INotificationContext>\n> = ({ open, close, children }) => {\n  return (\n    <NotificationContext.Provider value={{ open, close }}>\n      {children}\n    </NotificationContext.Provider>\n  );\n};\n", "import { useCallback } from \"react\";\n\nimport { useNotification } from \"@hooks\";\n\nimport { OpenNotificationParams } from \"../../../contexts/notification/types\";\n\nexport const useHandleNotification = (): typeof handleNotification => {\n  const { open } = useNotification();\n\n  const handleNotification = useCallback(\n    (\n      notification: OpenNotificationParams | false | undefined,\n      fallbackNotification?: OpenNotificationParams,\n    ) => {\n      if (notification !== false) {\n        if (notification) {\n          open?.(notification);\n        } else if (fallbackNotification) {\n          open?.(fallbackNotification);\n        }\n      }\n    },\n    [],\n  );\n\n  return handleNotification;\n};\n", "import { useCallback, useContext } from \"react\";\n\nimport { I18nContext } from \"@contexts/i18n\";\n\n/**\n * If you need to change the locale at runtime, refine provides the `useSetLocale` hook.\n * It returns the changeLocale method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/translate/useSetLocale} for more details.\n */\nexport const useSetLocale = () => {\n  const { i18nProvider } = useContext(I18nContext);\n\n  return useCallback((lang: string) => i18nProvider?.changeLocale(lang), []);\n};\n", "import React, { PropsWithChildren } from \"react\";\n\nimport { I18nProvider, II18nContext } from \"./types\";\n\n/** @deprecated default value for translation context has no use and is an empty object.  */\nexport const defaultProvider: Partial<I18nProvider> = {};\n\nexport const I18nContext = React.createContext<II18nContext>({});\n\nexport const I18nContextProvider: React.FC<PropsWithChildren<II18nContext>> = ({\n  children,\n  i18nProvider,\n}) => {\n  return (\n    <I18nContext.Provider\n      value={{\n        i18nProvider,\n      }}\n    >\n      {children}\n    </I18nContext.Provider>\n  );\n};\n", "import { useContext, useMemo } from \"react\";\n\nimport { I18nContext } from \"@contexts/i18n\";\n\n/**\n * If you need to translate the texts in your own components, refine provides the `useTranslate` hook.\n * It returns the translate method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/translate/useTranslate} for more details.\n */\nexport const useTranslate = () => {\n  const { i18nProvider } = useContext(I18nContext);\n\n  const fn = useMemo(() => {\n    function translate(\n      key: string,\n      options?: any,\n      defaultMessage?: string,\n    ): string;\n    function translate(key: string, defaultMessage?: string): string;\n\n    function translate(\n      key: string,\n      options?: string | any,\n      defaultMessage?: string,\n    ) {\n      return (\n        i18nProvider?.translate(key, options, defaultMessage) ??\n        defaultMessage ??\n        (typeof options === \"string\" && typeof defaultMessage === \"undefined\"\n          ? options\n          : key)\n      );\n    }\n\n    return translate;\n  }, [i18nProvider]);\n\n  return fn;\n};\n", "import { useCallback, useContext } from \"react\";\n\nimport { I18nContext } from \"@contexts/i18n\";\n\nexport type UseGetLocaleType = () => () => string | undefined;\n\n/**\n * If you need to know the current locale, refine provides the `useGetLocale` hook.\n * It returns the `getLocale` method from `i18nProvider` under the hood.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/translate/useGetLocale} for more details.\n */\nexport const useGetLocale: UseGetLocaleType = () => {\n  const { i18nProvider } = useContext(I18nContext);\n\n  return useCallback(() => i18nProvider?.getLocale(), []);\n};\n", "import { useGetLocale } from \"./useGetLocale\";\nimport { useSetLocale } from \"./useSetLocale\";\nimport { useTranslate } from \"./useTranslate\";\n\n/**\n * It combines `useTranslate`, `useSetLocale` and `useGetLocale` hooks for a better developer experience.\n * It returns `i18nProvider` methods under the hood.\n * @returns `translate` method to translate the texts.\n * @returns `changeLocale` method to change the locale\n * @returns `getLocale` method to get the current locale.\n *\n * @see {@link https://refine.dev/docs/i18n/i18n-provider/} for more details.\n */\nexport const useTranslation = () => {\n  const translate = useTranslate();\n  const changeLocale = useSetLocale();\n  const getLocale = useGetLocale();\n\n  return {\n    translate,\n    changeLocale,\n    getLocale,\n  };\n};\n", "import { useState } from \"react\";\n\nimport papaparse from \"papaparse\";\nimport warnOnce from \"warn-once\";\n\nimport {\n  downloadInBrowser,\n  pickDataProvider,\n  pickNotDeprecated,\n  useUserFriendlyName,\n} from \"@definitions\";\nimport { useDataProvider, useMeta, useResource } from \"@hooks\";\n\nimport {\n  BaseRecord,\n  CrudFilter,\n  CrudSort,\n  MetaQuery,\n} from \"../../contexts/data/types\";\nimport { MapDataFn } from \"./types\";\n\n// Old options interface taken from export-to-csv-fix-source-map@0.2.1\n// Kept here to ensure backward compatibility\nexport interface ExportOptions {\n  filename?: string;\n  fieldSeparator?: string;\n  quoteStrings?: string;\n  decimalSeparator?: string;\n  showLabels?: boolean;\n  showTitle?: boolean;\n  title?: string;\n  useTextFile?: boolean;\n  useBom?: boolean;\n  headers?: string[];\n  useKeysAsHeaders?: boolean;\n}\n\ntype UseExportOptionsType<\n  TData extends BaseRecord = BaseRecord,\n  TVariables = any,\n> = {\n  /**\n   * Resource name for API data interactions\n   * @default Resource name that it reads from route\n   * @deprecated `resourceName` is deprecated. Use `resource` instead.\n   */\n  resourceName?: string;\n  /**\n   * Resource name for API data interactions\n   * @default Resource name that it reads from route\n   */\n  resource?: string;\n  /**\n   * A mapping function that runs for every record. Mapped data will be included in the file contents\n   */\n  mapData?: MapDataFn<TData, TVariables>;\n  /**\n   *  Sorts records\n   *  @deprecated `sorter` is deprecated. Use `sorters` instead.\n   */\n  sorter?: CrudSort[];\n  /**\n   *  Sorts records\n   */\n  sorters?: CrudSort[];\n  /**\n   *  Filters records\n   */\n  filters?: CrudFilter[];\n  maxItemCount?: number;\n  /**\n   *  Requests to fetch data are made as batches by page size. By default, it is 20. Used for `getList` method of `DataProvider`\n   */\n  pageSize?: number;\n  /**\n   *  Used for exporting options\n   *  @type [Options](https://github.com/alexcaza/export-to-csv)\n   * @deprecated `exportOptions` is deprecated. Use `unparseConfig` instead.\n   */\n  exportOptions?: ExportOptions;\n  /**\n   *  Used for exporting options\n   *  @type [UnparseConfig](https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/papaparse)\n   */\n  unparseConfig?: papaparse.UnparseConfig;\n  /**\n   *  Metadata query for `dataProvider`\n   */\n  meta?: MetaQuery;\n  /**\n   *  Metadata query for `dataProvider`\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   */\n  dataProviderName?: string;\n  /**\n   *  Callback to handle error events of this hook\n   */\n  onError?: (error: any) => void;\n  /**\n   *  Whether to generate download of the CSV in browser environments, defaults to true.\n   */\n  download?: boolean;\n};\n\ntype UseExportReturnType = {\n  isLoading: boolean;\n  triggerExport: () => Promise<string | undefined>;\n};\n\n/**\n * `useExport` hook allows you to make your resources exportable.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/import-export/useExport} for more details.\n *\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TVariables - Values for params.\n *\n */\nexport const useExport = <\n  TData extends BaseRecord = BaseRecord,\n  TVariables = any,\n>({\n  resourceName,\n  resource: resourceFromProps,\n  sorter,\n  sorters,\n  filters,\n  maxItemCount,\n  pageSize = 20,\n  mapData = (item) => item as any,\n  exportOptions,\n  unparseConfig,\n  meta,\n  metaData,\n  dataProviderName,\n  onError,\n  download,\n}: UseExportOptionsType<TData, TVariables> = {}): UseExportReturnType => {\n  const [isLoading, setIsLoading] = useState(false);\n\n  const dataProvider = useDataProvider();\n  const getMeta = useMeta();\n  const { resource, resources, identifier } = useResource(\n    pickNotDeprecated(resourceFromProps, resourceName),\n  );\n  const getFriendlyName = useUserFriendlyName();\n\n  const filename = `${getFriendlyName(\n    identifier,\n    \"plural\",\n  )}-${new Date().toLocaleString()}`;\n\n  const { getList } = dataProvider(\n    pickDataProvider(identifier, dataProviderName, resources),\n  );\n\n  const combinedMeta = getMeta({\n    resource,\n    meta: pickNotDeprecated(meta, metaData),\n  });\n\n  const triggerExport = async () => {\n    setIsLoading(true);\n\n    let rawData: BaseRecord[] = [];\n\n    let current = 1;\n    let preparingData = true;\n    while (preparingData) {\n      try {\n        const { data, total } = await getList<TData>({\n          resource: resource?.name ?? \"\",\n          filters,\n          sort: pickNotDeprecated(sorters, sorter),\n          sorters: pickNotDeprecated(sorters, sorter),\n          pagination: {\n            current,\n            pageSize,\n            mode: \"server\",\n          },\n          meta: combinedMeta,\n          metaData: combinedMeta,\n        });\n\n        current++;\n\n        rawData.push(...data);\n\n        if (maxItemCount && rawData.length >= maxItemCount) {\n          rawData = rawData.slice(0, maxItemCount);\n          preparingData = false;\n        }\n\n        if (total === rawData.length) {\n          preparingData = false;\n        }\n      } catch (error) {\n        setIsLoading(false);\n        preparingData = false;\n\n        onError?.(error);\n\n        return;\n      }\n    }\n\n    const hasUnparseConfig =\n      typeof unparseConfig !== \"undefined\" && unparseConfig !== null;\n\n    warnOnce(\n      hasUnparseConfig &&\n        typeof exportOptions !== \"undefined\" &&\n        exportOptions !== null,\n      `[useExport]: resource: \"${identifier}\" \\n\\nBoth \\`unparseConfig\\` and \\`exportOptions\\` are set, \\`unparseConfig\\` will take precedence`,\n    );\n\n    const options: ExportOptions = {\n      filename,\n      useKeysAsHeaders: true,\n      useBom: true, // original default\n      title: \"My Generated Report\", // original default\n      quoteStrings: '\"', // original default\n      ...exportOptions,\n    };\n\n    warnOnce(\n      exportOptions?.decimalSeparator !== undefined,\n      `[useExport]: resource: \"${identifier}\" \\n\\nUse of \\`decimalSeparator\\` no longer supported, please use \\`mapData\\` instead.\\n\\nSee https://refine.dev/docs/api-reference/core/hooks/import-export/useExport/`,\n    );\n\n    if (!hasUnparseConfig) {\n      unparseConfig = {\n        // useKeysAsHeaders takes priority over options.headers\n        columns: options.useKeysAsHeaders ? undefined : options.headers,\n        delimiter: options.fieldSeparator,\n        header: options.showLabels || options.useKeysAsHeaders,\n        quoteChar: options.quoteStrings,\n        quotes: true,\n      };\n    } else {\n      unparseConfig = {\n        // Set to force quote for better compatibility\n        quotes: true,\n        ...unparseConfig,\n      };\n    }\n\n    let csv = papaparse.unparse(rawData.map(mapData as any), unparseConfig);\n    if (options.showTitle) {\n      csv = `${options.title}\\r\\n\\n${csv}`;\n    }\n\n    // Backward compatibility support for downloadInBrowser of the exported file, only works for browsers.\n    if (typeof window !== \"undefined\" && csv.length > 0 && (download ?? true)) {\n      const fileExtension = options.useTextFile ? \".txt\" : \".csv\";\n      const fileType = `text/${\n        options.useTextFile ? \"plain\" : \"csv\"\n      };charset=utf8;`;\n      const downloadFilename = `${(options.filename ?? \"download\").replace(\n        / /g,\n        \"_\",\n      )}${fileExtension}`;\n\n      downloadInBrowser(\n        downloadFilename,\n        `${options?.useBom ? \"\\ufeff\" : \"\"}${csv}`,\n        fileType,\n      );\n    }\n\n    setIsLoading(false);\n    return csv;\n  };\n\n  return {\n    isLoading,\n    triggerExport,\n  };\n};\n", "import React from \"react\";\nimport warnOnce from \"warn-once\";\n\nimport {\n  useMeta,\n  useOne,\n  useCreate,\n  useUpdate,\n  useResourceParams,\n  useInvalidate,\n  useMutationMode,\n  useRefineOptions,\n  useLoadingOvertime,\n  useWarnAboutChange,\n  useRedirectionAfterSubmission,\n} from \"@hooks\";\n\nimport {\n  redirectPage,\n  asyncDebounce,\n  deferExecution,\n  pickNotDeprecated,\n} from \"@definitions/helpers\";\n\nimport type { UpdateParams } from \"../data/useUpdate\";\nimport type { UseCreateParams } from \"../data/useCreate\";\nimport type { UseFormProps, UseFormReturnType } from \"./types\";\nimport {\n  BaseKey,\n  BaseRecord,\n  CreateResponse,\n  HttpError,\n  UpdateResponse,\n} from \"../../contexts/data/types\";\n\nexport type {\n  ActionParams,\n  UseFormProps,\n  UseFormReturnType,\n  AutoSaveIndicatorElements,\n  AutoSaveProps,\n  AutoSaveReturnType,\n  FormAction,\n  RedirectAction,\n  RedirectionTypes,\n  FormWithSyncWithLocationParams,\n} from \"./types\";\n\n/**\n * This hook orchestrates Refine's data hooks to create, edit, and clone data. It also provides a set of features to make it easier for users to implement their real world needs and handle edge cases such as redirects, invalidation, auto-save and more.\n *\n * @see {@link https://refine.dev/docs/data/hooks/use-form} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/core/interface-references/#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interface-references/#httperror `HttpError`}\n * @typeParam TVariables - Values for params. default `{}`\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/core/interface-references/#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n * @typeParam TResponse - Result data returned by the mutation function. Extends {@link https://refine.dev/docs/core/interface-references/#baserecord `BaseRecord`}. Defaults to `TData`\n * @typeParam TResponseError - Custom error object that extends {@link https://refine.dev/docs/core/interface-references/#httperror `HttpError`}. Defaults to `TError`\n *\n */\nexport const useForm = <\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n  TData extends BaseRecord = TQueryFnData,\n  TResponse extends BaseRecord = TData,\n  TResponseError extends HttpError = TError,\n>(\n  props: UseFormProps<\n    TQueryFnData,\n    TError,\n    TVariables,\n    TData,\n    TResponse,\n    TResponseError\n  > = {},\n): UseFormReturnType<\n  TQueryFnData,\n  TError,\n  TVariables,\n  TData,\n  TResponse,\n  TResponseError\n> => {\n  const getMeta = useMeta();\n  const invalidate = useInvalidate();\n  const { redirect: defaultRedirect } = useRefineOptions();\n  const { mutationMode: defaultMutationMode } = useMutationMode();\n\n  const { setWarnWhen } = useWarnAboutChange();\n  const handleSubmitWithRedirect = useRedirectionAfterSubmission();\n\n  const pickedMeta = pickNotDeprecated(props.meta, props.metaData);\n  const mutationMode = props.mutationMode ?? defaultMutationMode;\n\n  const {\n    id,\n    setId,\n    resource,\n    identifier,\n    formAction: action,\n  } = useResourceParams({\n    resource: props.resource,\n    id: props.id,\n    action: props.action,\n  });\n\n  const [autosaved, setAutosaved] = React.useState(false);\n\n  const isEdit = action === \"edit\";\n  const isClone = action === \"clone\";\n  const isCreate = action === \"create\";\n\n  const combinedMeta = getMeta({\n    resource,\n    meta: pickedMeta,\n  });\n\n  const isIdRequired = (isEdit || isClone) && Boolean(props.resource);\n  const isIdDefined = typeof props.id !== \"undefined\";\n  const isQueryDisabled = props.queryOptions?.enabled === false;\n\n  /**\n   * When a custom resource is provided through props, `id` will not be inferred from the URL to avoid any potential faulty requests.\n   * In this case, `id` is required to be passed through props.\n   * If `id` is not handled, a warning will be thrown in development mode.\n   */\n  warnOnce(\n    isIdRequired && !isIdDefined && !isQueryDisabled,\n    idWarningMessage(action, identifier, id),\n  );\n\n  /**\n   * Target action to redirect after form submission.\n   */\n  const redirectAction = redirectPage({\n    redirectFromProps: props.redirect,\n    action,\n    redirectOptions: defaultRedirect,\n  });\n\n  /**\n   * Redirection function to be used in internal redirects and to be provided to the user.\n   */\n  const redirect: UseFormReturnType[\"redirect\"] = (\n    redirect = isEdit ? \"list\" : \"edit\",\n    redirectId = id,\n    routeParams = {},\n  ) => {\n    handleSubmitWithRedirect({\n      redirect: redirect,\n      resource,\n      id: redirectId,\n      meta: { ...pickedMeta, ...routeParams },\n    });\n  };\n\n  const queryResult = useOne<TQueryFnData, TError, TData>({\n    resource: identifier,\n    id,\n    queryOptions: {\n      // Only enable the query if it's not a create action and the `id` is defined\n      enabled: !isCreate && id !== undefined,\n      ...props.queryOptions,\n    },\n    liveMode: props.liveMode,\n    onLiveEvent: props.onLiveEvent,\n    liveParams: props.liveParams,\n    meta: { ...combinedMeta, ...props.queryMeta },\n    dataProviderName: props.dataProviderName,\n  });\n\n  const createMutation = useCreate<TResponse, TResponseError, TVariables>({\n    mutationOptions: props.createMutationOptions,\n  });\n\n  const updateMutation = useUpdate<TResponse, TResponseError, TVariables>({\n    mutationOptions: props.updateMutationOptions,\n  });\n\n  const mutationResult = isEdit ? updateMutation : createMutation;\n  const isMutationLoading = mutationResult.isLoading;\n  const formLoading = isMutationLoading || queryResult.isFetching;\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: formLoading,\n    interval: props.overtimeOptions?.interval,\n    onInterval: props.overtimeOptions?.onInterval,\n  });\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: This is a controlled unmounting effect.\n  React.useEffect(() => {\n    // After `autosaved` is set to `true`, it won't be set to `false` again.\n    // Therefore, the `invalidate` function will be called only once at the end of the hooks lifecycle.\n    return () => {\n      if (\n        props.autoSave?.invalidateOnUnmount &&\n        autosaved &&\n        identifier &&\n        typeof id !== \"undefined\"\n      ) {\n        invalidate({\n          id,\n          invalidates: props.invalidates || [\"list\", \"many\", \"detail\"],\n          dataProviderName: props.dataProviderName,\n          resource: identifier,\n        });\n      }\n    };\n  }, [props.autoSave?.invalidateOnUnmount, autosaved]);\n\n  const onFinish = async (\n    values: TVariables,\n    { isAutosave = false }: { isAutosave?: boolean } = {},\n  ) => {\n    const isPessimistic = mutationMode === \"pessimistic\";\n\n    // Disable warning trigger when the form is being submitted\n    setWarnWhen(false);\n\n    // Redirect after a successful form submission\n    const onSuccessRedirect = (id?: BaseKey) => redirect(redirectAction, id);\n\n    const submissionPromise = new Promise<\n      // biome-ignore lint/suspicious/noConfusingVoidType: Void is an expected case for this promise.\n      CreateResponse<TResponse> | UpdateResponse<TResponse> | void\n    >((resolve, reject) => {\n      // Reject the mutation if the resource is not defined\n      if (!resource) return reject(missingResourceError);\n      // Reject the mutation if the `id` is not defined in edit action\n      // This line is commented out because the `id` might not be set for some cases and edit is done on a resource.\n      // if (isEdit && !id) return reject(missingIdError);\n      // Reject the mutation if the `id` is not defined in clone action\n      if (isClone && !id) return reject(missingIdError);\n      // Reject the mutation if there's no `values` passed\n      if (!values) return reject(missingValuesError);\n      // Auto Save is only allowed in edit action\n      if (isAutosave && !isEdit) return reject(autosaveOnNonEditError);\n\n      if (!isPessimistic && !isAutosave) {\n        // If the mutation mode is not pessimistic, handle the redirect immediately in an async manner\n        // `setWarnWhen` blocks the redirects until set to `false`\n        // If redirect is done before the value is properly set, it will be blocked.\n        // We're deferring the execution of the redirect to ensure that the value is set properly.\n        deferExecution(() => onSuccessRedirect());\n        // Resolve the promise immediately\n        resolve();\n      }\n\n      const variables:\n        | UpdateParams<TResponse, TResponseError, TVariables>\n        | UseCreateParams<TResponse, TResponseError, TVariables> = {\n        values,\n        resource: identifier ?? resource.name,\n        meta: { ...combinedMeta, ...props.mutationMeta },\n        metaData: { ...combinedMeta, ...props.mutationMeta },\n        dataProviderName: props.dataProviderName,\n        invalidates: isAutosave ? [] : props.invalidates,\n        successNotification: isAutosave ? false : props.successNotification,\n        errorNotification: isAutosave ? false : props.errorNotification,\n        // Update specific variables\n        ...(isEdit\n          ? {\n              id: id ?? \"\",\n              mutationMode,\n              undoableTimeout: props.undoableTimeout,\n              optimisticUpdateMap: props.optimisticUpdateMap,\n            }\n          : {}),\n      };\n\n      const { mutateAsync } = isEdit ? updateMutation : createMutation;\n\n      /**\n       * biome-ignore lint/suspicious/noExplicitAny: Validity of the `variables` is checked above.\n       * For sake of having a single function call, we are using `any` here.\n       * Appropriate variables will be constructed based on the `action` and auto-save status.\n       * Then, the `mutateAsync` function will be called with the constructed variables.\n       */\n      mutateAsync(variables as any, {\n        // Call user-defined `onMutationSuccess` and `onMutationError` callbacks if provided\n        // These callbacks will not have an effect on the submission promise\n        onSuccess: props.onMutationSuccess\n          ? (data, _, context) => {\n              props.onMutationSuccess?.(data, values, context, isAutosave);\n            }\n          : undefined,\n        onError: props.onMutationError\n          ? (error: TResponseError, _, context) => {\n              props.onMutationError?.(error, values, context, isAutosave);\n            }\n          : undefined,\n      })\n        // If the mutation mode is pessimistic, resolve the promise after the mutation is succeeded\n        .then((data) => {\n          if (isPessimistic && !isAutosave) {\n            deferExecution(() => onSuccessRedirect(data?.data?.id));\n          }\n          if (isAutosave) {\n            setAutosaved(true);\n          }\n          resolve(data);\n        })\n        // If the mutation mode is pessimistic, reject the promise after the mutation is failed\n        .catch(reject);\n    });\n\n    return submissionPromise;\n  };\n\n  const onFinishAutoSave = asyncDebounce(\n    (values: TVariables) => onFinish(values, { isAutosave: true }),\n    props.autoSave?.debounce || 1000,\n    \"Cancelled by debounce\",\n  );\n\n  const overtime = {\n    elapsedTime,\n  };\n\n  const autoSaveProps = {\n    status: updateMutation.status,\n    data: updateMutation.data,\n    error: updateMutation.error,\n  };\n\n  return {\n    onFinish,\n    onFinishAutoSave,\n    formLoading,\n    mutationResult,\n    queryResult,\n    autoSaveProps,\n    id,\n    setId,\n    redirect,\n    overtime,\n  };\n};\n\nconst missingResourceError = new Error(\n  \"[useForm]: `resource` is not defined or not matched but is required\",\n);\n\nconst missingIdError = new Error(\n  \"[useForm]: `id` is not defined but is required in edit and clone actions\",\n);\n\nconst missingValuesError = new Error(\n  \"[useForm]: `values` is not provided but is required\",\n);\n\nconst autosaveOnNonEditError = new Error(\n  \"[useForm]: `autoSave` is only allowed in edit action\",\n);\n\nconst idWarningMessage = (action?: string, identifier?: string, id?: BaseKey) =>\n  `[useForm]: action: \"${action}\", resource: \"${identifier}\", id: ${id}\n\nIf you don't use the \\`setId\\` method to set the \\`id\\`, you should pass the \\`id\\` prop to \\`useForm\\`. Otherwise, \\`useForm\\` will not be able to infer the \\`id\\` from the current URL with custom resource provided.\n\nSee https://refine.dev/docs/data/hooks/use-form/#id-`;\n", "import { useCallback } from \"react\";\n\nimport { useNavigation } from \"@hooks\";\n\nimport { BaseKey, MetaDataQuery } from \"../../contexts/data/types\";\nimport { IResourceItem } from \"../../contexts/resource/types\";\nimport { RedirectAction } from \"../form/types\";\n\nexport type UseRedirectionAfterSubmissionType = () => (options: {\n  redirect: RedirectAction;\n  resource?: IResourceItem;\n  id?: BaseKey;\n  meta?: MetaDataQuery;\n}) => void;\n\nexport const useRedirectionAfterSubmission: UseRedirectionAfterSubmissionType =\n  () => {\n    const { show, edit, list, create } = useNavigation();\n\n    const handleSubmitWithRedirect = useCallback(\n      ({\n        redirect,\n        resource,\n        id,\n        meta = {},\n      }: {\n        redirect: RedirectAction;\n        resource?: IResourceItem;\n        id?: BaseKey;\n        meta?: MetaDataQuery;\n      }) => {\n        if (redirect && resource) {\n          if (!!resource.show && redirect === \"show\" && id) {\n            return show(resource, id, undefined, meta);\n          }\n\n          if (!!resource.edit && redirect === \"edit\" && id) {\n            return edit(resource, id, undefined, meta);\n          }\n\n          if (!!resource.create && redirect === \"create\") {\n            return create(resource, undefined, meta);\n          }\n\n          return list(resource, \"push\", meta);\n        }\n        return;\n      },\n      [],\n    );\n\n    return handleSubmitWithRedirect;\n  };\n", "import { RouterContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\n\nexport const useBack = () => {\n  const routerContext = useContext(RouterContext);\n\n  const useBack = React.useMemo(\n    () => routerContext?.back ?? (() => () => undefined),\n    [routerContext?.back],\n  );\n\n  const back = useBack();\n\n  return back;\n};\n", "import React, { useCallback, useContext } from \"react\";\n\nimport { RouterContext } from \"@contexts/router\";\nimport { useResource } from \"@hooks/resource\";\n\nimport { BaseKey } from \"../../../contexts/data/types\";\nimport { IResourceItem } from \"../../../contexts/resource/types\";\nimport {\n  Action,\n  GoConfig as GoConfigBase,\n} from \"../../../contexts/router/types\";\nimport { useGetToPath } from \"../use-get-to-path\";\n\ntype ResourceWithoutId = {\n  /**\n   *  The name or identifier of the resource.\n   */\n  resource: string;\n  action: Extract<Action, \"create\" | \"list\">;\n  id?: never;\n  meta?: Record<string, unknown>;\n};\n\ntype ResourceWithId = {\n  /**\n   *  The name or identifier of the resource.\n   */\n  resource: string;\n  action: Extract<Action, \"edit\" | \"show\" | \"clone\">;\n  id: BaseKey;\n  meta?: Record<string, unknown>;\n};\n\nexport type Resource = ResourceWithoutId | ResourceWithId;\n\nexport type GoConfigWithResource = Omit<GoConfigBase, \"to\"> & {\n  to?: GoConfigBase[\"to\"] | Resource;\n};\n\nexport const useGo = () => {\n  const routerContext = useContext(RouterContext);\n  const { select: resourceSelect } = useResource();\n  const getToPath = useGetToPath();\n\n  const useGo = React.useMemo(\n    () => routerContext?.go ?? (() => () => undefined),\n    [routerContext?.go],\n  );\n\n  const goFromRouter = useGo();\n\n  const go = useCallback(\n    (config: GoConfigWithResource | GoConfigBase) => {\n      if (typeof config.to !== \"object\") {\n        return goFromRouter({ ...config, to: config.to });\n      }\n\n      // when config.to is an object, it means that we want to go to a resource.\n      // so we need to find the path for the resource.\n      const { resource } = resourceSelect(config.to.resource);\n      handleResourceErrors(config.to, resource);\n      const newTo = getToPath({\n        resource,\n        action: config.to.action,\n        meta: {\n          id: config.to.id,\n          ...config.to.meta,\n        },\n      });\n\n      return goFromRouter({\n        ...config,\n        to: newTo,\n      });\n    },\n    [resourceSelect, goFromRouter],\n  );\n\n  return go;\n};\n\n/**\n * handle errors for resource\n * @internal\n */\nexport const handleResourceErrors = (to: Resource, resource: IResourceItem) => {\n  if (!to?.action || !to?.resource) {\n    throw new Error(`[useGo]: \"action\" or \"resource\" is required.`);\n  }\n\n  if ([\"edit\", \"show\", \"clone\"].includes(to?.action) && !to.id) {\n    throw new Error(\n      `[useGo]: [action: ${to.action}] requires an \"id\" for resource [resource: ${to.resource}]`,\n    );\n  }\n\n  const actionUrl = resource[to.action];\n  if (!actionUrl) {\n    throw new Error(\n      `[useGo]: [action: ${to.action}] is not defined for [resource: ${to.resource}]`,\n    );\n  }\n};\n", "import React from \"react\";\n\nimport { IResourceItem } from \"../../../contexts/resource/types\";\nimport { useRouterType } from \"../../../contexts/router/picker\";\nimport { Action } from \"../../../contexts/router/types\";\nimport { getActionRoutesFromResource } from \"../../../definitions/helpers/router\";\nimport { composeRoute } from \"../../../definitions/helpers/router/compose-route\";\nimport { useResource } from \"../../resource\";\nimport { useParsed } from \"../use-parsed\";\n\ntype UseToPathParams = {\n  resource?: IResourceItem;\n  action: Action;\n  meta?: Record<string, unknown>;\n  legacy?: boolean;\n};\n\ntype GetToPathFn = (params: UseToPathParams) => string | undefined;\n\n/**\n * Returns a function to get the route for a given action and resource.\n * If resource is not provided, it will use the resource from the route.\n * If the resource is not found, it will return undefined.\n * If the action is not found, it will return undefined.\n * `meta` can be provided to compose the routes with parameters. (Can be used for nested routes.)\n */\nexport const useGetToPath = (): GetToPathFn => {\n  const routerType = useRouterType();\n  const { resource: resourceFromRoute, resources } = useResource();\n  const parsed = useParsed();\n\n  const fn = React.useCallback(\n    ({ resource, action, meta }: UseToPathParams): string | undefined => {\n      const selectedResource = resource || resourceFromRoute;\n\n      if (!selectedResource) {\n        return undefined;\n      }\n\n      const actionRoutes = getActionRoutesFromResource(\n        selectedResource,\n        resources,\n        routerType === \"legacy\",\n      );\n\n      const actionRoute = actionRoutes.find(\n        (item) => item.action === action,\n      )?.route;\n\n      if (!actionRoute) {\n        return undefined;\n      }\n\n      const composed = composeRoute(\n        actionRoute,\n        selectedResource?.meta,\n        parsed,\n        meta,\n      );\n\n      return composed;\n    },\n    [resources, resourceFromRoute, parsed],\n  );\n\n  return fn;\n};\n", "import { useRouterType } from \"@contexts/router/picker\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\nimport { getActionRoutesFromResource } from \"@definitions/helpers/router\";\nimport { composeRoute } from \"@definitions/helpers/router/compose-route\";\nimport { useResource, useRouterContext } from \"@hooks\";\nimport { useBack } from \"@hooks/router/use-back\";\nimport { useGo } from \"@hooks/router/use-go\";\nimport { useParsed } from \"@hooks/router/use-parsed\";\n\nimport { BaseKey, MetaDataQuery } from \"../../contexts/data/types\";\nimport { IResourceItem } from \"../../contexts/resource/types\";\n\nexport type HistoryType = \"push\" | \"replace\";\n\n/**\n * `refine` uses {@link https://reactrouter.com/en/hooks/use-navigate `React Router`} and comes with all redirects out of the box.\n * It allows you to manage your routing operations in refine.\n * Using this hook, you can manage all the routing operations of your application very easily.\n *\n * @internal This is an internal hook of refine. Do not use it directly.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/navigation/useNavigation} for more details.\n */\nexport const useNavigation = () => {\n  const { resources } = useResource();\n  const routerType = useRouterType();\n  const { useHistory } = useRouterContext();\n  const history = useHistory();\n  const parsed = useParsed();\n  const go = useGo();\n  const back = useBack();\n\n  const handleUrl = (url: string, type: HistoryType = \"push\") => {\n    if (routerType === \"legacy\") {\n      history[type](url);\n    } else {\n      go({ to: url, type });\n    }\n  };\n\n  const createUrl = (\n    resource: string | IResourceItem,\n    meta: MetaDataQuery = {},\n  ) => {\n    if (routerType === \"legacy\") {\n      const resourceItem =\n        typeof resource === \"string\"\n          ? pickResource(resource, resources, true) ?? {\n              name: resource,\n              route: resource,\n            }\n          : resource;\n\n      const createActionRoute = getActionRoutesFromResource(\n        resourceItem,\n        resources,\n        true,\n      ).find((r) => r.action === \"create\");\n\n      if (!createActionRoute) {\n        return \"\";\n      }\n\n      return composeRoute(\n        createActionRoute.route,\n        resourceItem?.meta,\n        parsed,\n        meta,\n      );\n    }\n    const resourceItem =\n      typeof resource === \"string\"\n        ? pickResource(resource, resources) ?? { name: resource }\n        : resource;\n\n    const createActionRoute = getActionRoutesFromResource(\n      resourceItem,\n      resources,\n    ).find((r) => r.action === \"create\")?.route;\n\n    if (!createActionRoute) {\n      return \"\";\n    }\n\n    return go({\n      to: composeRoute(createActionRoute, resourceItem?.meta, parsed, meta),\n      type: \"path\",\n    }) as string;\n  };\n\n  const editUrl = (\n    resource: string | IResourceItem,\n    id: BaseKey,\n    meta: MetaDataQuery = {},\n  ) => {\n    const encodedId = encodeURIComponent(id);\n    if (routerType === \"legacy\") {\n      const resourceItem =\n        typeof resource === \"string\"\n          ? pickResource(resource, resources, true) ?? {\n              name: resource,\n              route: resource,\n            }\n          : resource;\n\n      const editActionRoute = getActionRoutesFromResource(\n        resourceItem,\n        resources,\n        true,\n      ).find((r) => r.action === \"edit\");\n\n      if (!editActionRoute) {\n        return \"\";\n      }\n\n      return composeRoute(editActionRoute.route, resourceItem?.meta, parsed, {\n        ...meta,\n        id: encodedId,\n      });\n    }\n    const resourceItem =\n      typeof resource === \"string\"\n        ? pickResource(resource, resources) ?? { name: resource }\n        : resource;\n\n    const editActionRoute = getActionRoutesFromResource(\n      resourceItem,\n      resources,\n    ).find((r) => r.action === \"edit\")?.route;\n\n    if (!editActionRoute) {\n      return \"\";\n    }\n\n    return go({\n      to: composeRoute(editActionRoute, resourceItem?.meta, parsed, {\n        ...meta,\n        id: encodedId,\n      }),\n      type: \"path\",\n    }) as string;\n  };\n\n  const cloneUrl = (\n    resource: string | IResourceItem,\n    id: BaseKey,\n    meta: MetaDataQuery = {},\n  ) => {\n    const encodedId = encodeURIComponent(id);\n\n    if (routerType === \"legacy\") {\n      const resourceItem =\n        typeof resource === \"string\"\n          ? pickResource(resource, resources, true) ?? {\n              name: resource,\n              route: resource,\n            }\n          : resource;\n\n      const cloneActionRoute = getActionRoutesFromResource(\n        resourceItem,\n        resources,\n        true,\n      ).find((r) => r.action === \"clone\");\n\n      if (!cloneActionRoute) {\n        return \"\";\n      }\n\n      return composeRoute(cloneActionRoute.route, resourceItem?.meta, parsed, {\n        ...meta,\n        id: encodedId,\n      });\n    }\n    const resourceItem =\n      typeof resource === \"string\"\n        ? pickResource(resource, resources) ?? { name: resource }\n        : resource;\n\n    const cloneActionRoute = getActionRoutesFromResource(\n      resourceItem,\n      resources,\n    ).find((r) => r.action === \"clone\")?.route;\n\n    if (!cloneActionRoute) {\n      return \"\";\n    }\n\n    return go({\n      to: composeRoute(cloneActionRoute, resourceItem?.meta, parsed, {\n        ...meta,\n        id: encodedId,\n      }),\n      type: \"path\",\n    }) as string;\n  };\n\n  const showUrl = (\n    resource: string | IResourceItem,\n    id: BaseKey,\n    meta: MetaDataQuery = {},\n  ) => {\n    const encodedId = encodeURIComponent(id);\n    if (routerType === \"legacy\") {\n      const resourceItem =\n        typeof resource === \"string\"\n          ? pickResource(resource, resources, true) ?? {\n              name: resource,\n              route: resource,\n            }\n          : resource;\n\n      const showActionRoute = getActionRoutesFromResource(\n        resourceItem,\n        resources,\n        true,\n      ).find((r) => r.action === \"show\");\n\n      if (!showActionRoute) {\n        return \"\";\n      }\n\n      return composeRoute(showActionRoute.route, resourceItem?.meta, parsed, {\n        ...meta,\n        id: encodedId,\n      });\n    }\n    const resourceItem =\n      typeof resource === \"string\"\n        ? pickResource(resource, resources) ?? { name: resource }\n        : resource;\n\n    const showActionRoute = getActionRoutesFromResource(\n      resourceItem,\n      resources,\n    ).find((r) => r.action === \"show\")?.route;\n\n    if (!showActionRoute) {\n      return \"\";\n    }\n\n    return go({\n      to: composeRoute(showActionRoute, resourceItem?.meta, parsed, {\n        ...meta,\n        id: encodedId,\n      }),\n      type: \"path\",\n    }) as string;\n  };\n\n  const listUrl = (\n    resource: string | IResourceItem,\n    meta: MetaDataQuery = {},\n  ) => {\n    if (routerType === \"legacy\") {\n      const resourceItem =\n        typeof resource === \"string\"\n          ? pickResource(resource, resources, true) ?? {\n              name: resource,\n              route: resource,\n            }\n          : resource;\n\n      const listActionRoute = getActionRoutesFromResource(\n        resourceItem,\n        resources,\n        true,\n      ).find((r) => r.action === \"list\");\n\n      if (!listActionRoute) {\n        return \"\";\n      }\n\n      return composeRoute(\n        listActionRoute.route,\n        resourceItem?.meta,\n        parsed,\n        meta,\n      );\n    }\n    const resourceItem =\n      typeof resource === \"string\"\n        ? pickResource(resource, resources) ?? { name: resource }\n        : resource;\n\n    const listActionRoute = getActionRoutesFromResource(\n      resourceItem,\n      resources,\n    ).find((r) => r.action === \"list\")?.route;\n\n    if (!listActionRoute) {\n      return \"\";\n    }\n\n    return go({\n      to: composeRoute(listActionRoute, resourceItem?.meta, parsed, meta),\n      type: \"path\",\n    }) as string;\n  };\n\n  const create = (\n    resource: string | IResourceItem,\n    type: HistoryType = \"push\",\n    meta: MetaDataQuery = {},\n  ) => {\n    handleUrl(createUrl(resource, meta), type);\n  };\n\n  const edit = (\n    resource: string | IResourceItem,\n    id: BaseKey,\n    type: HistoryType = \"push\",\n    meta: MetaDataQuery = {},\n  ) => {\n    handleUrl(editUrl(resource, id, meta), type);\n  };\n\n  const clone = (\n    resource: string | IResourceItem,\n    id: BaseKey,\n    type: HistoryType = \"push\",\n    meta: MetaDataQuery = {},\n  ) => {\n    handleUrl(cloneUrl(resource, id, meta), type);\n  };\n\n  const show = (\n    resource: string | IResourceItem,\n    id: BaseKey,\n    type: HistoryType = \"push\",\n    meta: MetaDataQuery = {},\n  ) => {\n    handleUrl(showUrl(resource, id, meta), type);\n  };\n\n  const list = (\n    resource: string | IResourceItem,\n    type: HistoryType = \"push\",\n    meta: MetaDataQuery = {},\n  ) => {\n    handleUrl(listUrl(resource, meta), type);\n  };\n\n  /**\n   * @deprecated Please use `useGo` hook instead.\n   */\n  const push = (path: string, ...rest: unknown[]) => {\n    if (routerType === \"legacy\") {\n      history.push(path, ...rest);\n    } else {\n      go({ to: path, type: \"push\" });\n    }\n  };\n\n  /**\n   * @deprecated Please use `useGo` hook instead.\n   */\n  const replace = (path: string, ...rest: unknown[]) => {\n    if (routerType === \"legacy\") {\n      history.replace(path, ...rest);\n    } else {\n      go({ to: path, type: \"replace\" });\n    }\n  };\n\n  /**\n   * @deprecated Please use `useBack` hook instead.\n   */\n  const goBack = () => {\n    if (routerType === \"legacy\") {\n      history.goBack();\n    } else {\n      back();\n    }\n  };\n\n  return {\n    create,\n    createUrl,\n    edit,\n    editUrl,\n    clone,\n    cloneUrl,\n    show,\n    showUrl,\n    list,\n    listUrl,\n    push,\n    replace,\n    goBack,\n  };\n};\n", "import warnOnce from \"warn-once\";\nimport { useMeta, useOne, useResourceParams, useLoadingOvertime } from \"@hooks\";\nimport { pickNotDeprecated } from \"@definitions/helpers\";\n\nimport type { UseShowProps, UseShowReturnType } from \"./types\";\nimport { BaseKey, BaseRecord, HttpError } from \"../../contexts/data/types\";\n\nexport type {\n  UseShowProps,\n  UseShowReturnType,\n  useShowProps,\n  useShowReturnType,\n} from \"./types\";\n\n/**\n * `useShow` hook allows you to fetch the desired record.\n * It uses `getOne` method as query function from the dataProvider that is\n * passed to {@link https://refine.dev/docs/core/refine-component `<Refine>`}.\n *\n * @see {@link https://refine.dev/docs/data/hooks/use-show} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/core/interface-references/#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/core/interface-references/#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/core/interface-references/#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\nexport const useShow = <\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TData extends BaseRecord = TQueryFnData,\n>({\n  resource: resourceFromProp,\n  id,\n  meta,\n  metaData,\n  queryOptions,\n  overtimeOptions,\n  ...useOneProps\n}: UseShowProps<TQueryFnData, TError, TData> = {}): UseShowReturnType<\n  TData,\n  TError\n> => {\n  const {\n    resource,\n    identifier,\n    id: showId,\n    setId: setShowId,\n  } = useResourceParams({\n    id,\n    resource: resourceFromProp,\n  });\n\n  const getMeta = useMeta();\n\n  const combinedMeta = getMeta({\n    resource,\n    meta: pickNotDeprecated(meta, metaData),\n  });\n\n  warnOnce(\n    Boolean(resourceFromProp) && !showId,\n    idWarningMessage(identifier, showId),\n  );\n\n  const queryResult = useOne<TQueryFnData, TError, TData>({\n    resource: identifier,\n    id: showId ?? \"\",\n    queryOptions: {\n      enabled: showId !== undefined,\n      ...queryOptions,\n    },\n    meta: combinedMeta,\n    metaData: combinedMeta,\n    ...useOneProps,\n  });\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: queryResult.isFetching,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return {\n    queryResult,\n    showId,\n    setShowId,\n    overtime: { elapsedTime },\n  };\n};\n\nconst idWarningMessage = (identifier?: string, id?: BaseKey) =>\n  `[useShow]: resource: \"${identifier}\", id: ${id} \\n\\nIf you don't use the \\`setShowId\\` method to set the \\`showId\\`, you should pass the \\`id\\` prop to \\`useShow\\`. Otherwise, \\`useShow\\` will not be able to infer the \\`id\\` from the current URL. \\n\\nSee https://refine.dev/docs/data/hooks/use-show/#resource`;\n", "import { useEffect, useState } from \"react\";\n\nimport chunk from \"lodash-es/chunk.js\";\nimport papaparse from \"papaparse\";\n\nimport {\n  importCSVMapper,\n  pickNotDeprecated,\n  sequentialPromises,\n} from \"@definitions\";\nimport { useCreate, useCreateMany, useMeta, useResource } from \"@hooks\";\n\nimport { BaseRecord, HttpError, MetaQuery } from \"../../contexts/data/types\";\nimport { UseCreateReturnType } from \"../../hooks/data/useCreate\";\nimport { UseCreateManyReturnType } from \"../../hooks/data/useCreateMany\";\nimport { MapDataFn } from \"../export/types\";\n\nexport type ImportSuccessResult<TVariables, TData> = {\n  request: TVariables[];\n  type: \"success\";\n  response: TData[];\n};\n\nexport type ImportErrorResult<TVariables> = {\n  request: TVariables[];\n  type: \"error\";\n  response: HttpError[];\n};\n\nexport type OnFinishParams<TVariables, TData> = {\n  succeeded: ImportSuccessResult<TVariables, TData>[];\n  errored: ImportErrorResult<TVariables>[];\n};\n\nexport type OnProgressParams = {\n  totalAmount: number;\n  processedAmount: number;\n};\n\nexport type ImportOptions<\n  TItem,\n  TVariables = any,\n  TData extends BaseRecord = BaseRecord,\n> = {\n  /**\n   * Resource name for API data interactions.\n   * @default Resource name that it reads from route\n   * @deprecated `resourceName` is deprecated. Use `resource` instead.\n   */\n  resourceName?: string;\n  /**\n   * Resource name for API data interactions.\n   * @default Resource name that it reads from route\n   */\n  resource?: string;\n  /**\n   * A mapping function that runs for every record. Mapped data will be included in the file contents.\n   */\n  mapData?: MapDataFn<TItem, TVariables>;\n  /**\n   * Custom Papa Parse options.\n   * @type [`ParseConfig`](https://www.papaparse.com/docs)\n   */\n  paparseOptions?: papaparse.ParseConfig;\n  /**\n   * Requests batch size. If it is 1, all records are sent one by one. By default, it is [`Number.MAX_SAFE_INTEGER`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER) to send all records in one batch. If it is more than 1, `createMany` should be implemented on DataProvider.\n   */\n  batchSize?: number;\n  /**\n   * Called with errors and successful responses when all requests are sent.\n   */\n  onFinish?: (results: OnFinishParams<TVariables, TData>) => void;\n  /**\n   *  Metadata query for `dataProvider`\n   */\n  meta?: MetaQuery;\n  /**\n   *  Metadata query for `dataProvider`\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   *  A callback function that returns a current state of uploading process.\n   *\n   *  Ex: `percentage = onProgressParams.processedAmount / onProgressParams.totalAmount * 100`\n   */\n  onProgress?: (onProgressParams: OnProgressParams) => void;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   */\n  dataProviderName?: string;\n};\n\nexport type CreatedValuesType<TVariables, TData> =\n  | ImportSuccessResult<TVariables, TData>\n  | ImportErrorResult<TVariables>;\n\nexport type HandleChangeType<TVariables, TData> = (onChangeParams: {\n  file: Partial<File>;\n}) => Promise<CreatedValuesType<TVariables, TData>[]>;\n\nexport type UseImportInputPropsType = {\n  type: \"file\";\n  accept: string;\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n};\n\nexport type UseImportReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TVariables = {},\n  TError extends HttpError = HttpError,\n> = {\n  inputProps: UseImportInputPropsType;\n  mutationResult:\n    | UseCreateReturnType<TData, TError, TVariables>\n    | UseCreateManyReturnType<TData, TError, TVariables>;\n  isLoading: boolean;\n  handleChange: HandleChangeType<TVariables, TData>;\n};\n\n/**\n * `useImport` hook allows you to handle your csv import logic easily.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/import-export/useImport} for more details.\n *\n * @typeParam TItem - Interface of parsed csv data\n * @typeParam TData - Result data of the query extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences/#httperror `HttpError`}\n * @typeParam TVariables - Values for mutation function\n *\n */\nexport const useImport = <\n  TItem = any,\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = any,\n>({\n  resourceName,\n  resource: resourceFromProps,\n  mapData = (item) => item as unknown as TVariables,\n  paparseOptions,\n  batchSize = Number.MAX_SAFE_INTEGER,\n  onFinish,\n  meta,\n  metaData,\n  onProgress,\n  dataProviderName,\n}: ImportOptions<TItem, TVariables, TData> = {}): UseImportReturnType<\n  TData,\n  TVariables,\n  TError\n> => {\n  const [processedAmount, setProcessedAmount] = useState<number>(0);\n  const [totalAmount, setTotalAmount] = useState<number>(0);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { resource, identifier } = useResource(\n    resourceFromProps ?? resourceName,\n  );\n\n  const getMeta = useMeta();\n\n  const createMany = useCreateMany<TData, TError, TVariables>();\n  const create = useCreate<TData, TError, TVariables>();\n\n  const combinedMeta = getMeta({\n    resource,\n    meta: pickNotDeprecated(meta, metaData),\n  });\n\n  let mutationResult:\n    | UseCreateReturnType<TData, TError, TVariables>\n    | UseCreateManyReturnType<TData, TError, TVariables>;\n\n  if (batchSize === 1) {\n    mutationResult = create;\n  } else {\n    mutationResult = createMany;\n  }\n\n  const handleCleanup = () => {\n    setTotalAmount(0);\n    setProcessedAmount(0);\n    setIsLoading(false);\n  };\n\n  const handleFinish = (\n    createdValues: CreatedValuesType<TVariables, TData>[],\n  ) => {\n    const result = {\n      succeeded: createdValues.filter(\n        (item) => item.type === \"success\",\n      ) as unknown as ImportSuccessResult<TVariables, TData>[],\n      errored: createdValues.filter(\n        (item) => item.type === \"error\",\n      ) as unknown as ImportErrorResult<TVariables>[],\n    };\n\n    onFinish?.(result);\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    onProgress?.({ totalAmount, processedAmount });\n  }, [totalAmount, processedAmount]);\n\n  const handleChange: HandleChangeType<TVariables, TData> = ({ file }) => {\n    handleCleanup();\n    return new Promise<CreatedValuesType<TVariables, TData>[]>((resolve) => {\n      setIsLoading(true);\n      papaparse.parse(file as any, {\n        complete: async ({ data }: { data: unknown[][] }) => {\n          const values = importCSVMapper(data, mapData);\n\n          setTotalAmount(values.length);\n\n          if (batchSize === 1) {\n            // Create Processor Functions\n            const valueFns = values.map((value) => {\n              const fn = async () => {\n                const response = await create.mutateAsync({\n                  resource: identifier ?? \"\",\n                  values: value,\n                  successNotification: false,\n                  errorNotification: false,\n                  dataProviderName,\n                  meta: combinedMeta,\n                  metaData: combinedMeta,\n                });\n\n                return { response, value };\n              };\n              return fn;\n            });\n            // Sequentially run processor functions and process resolves/rejects\n            const createdValues = await sequentialPromises(\n              valueFns,\n              ({ response, value }) => {\n                setProcessedAmount((currentAmount) => {\n                  return currentAmount + 1;\n                });\n\n                return {\n                  response: [response.data],\n                  type: \"success\",\n                  request: [value],\n                } as ImportSuccessResult<TVariables, TData>;\n              },\n              (error: HttpError, index) => {\n                return {\n                  response: [error],\n                  type: \"error\",\n                  request: [values[index]],\n                } as ImportErrorResult<TVariables>;\n              },\n            );\n            // Resolve with created values\n            resolve(createdValues);\n          } else {\n            // Create Chunks\n            const chunks = chunk(values, batchSize);\n            // Create Chunk Processor Functions\n            const chunkedFns = chunks.map((chunkedValues) => {\n              const fn = async () => {\n                const response = await createMany.mutateAsync({\n                  resource: identifier ?? \"\",\n                  values: chunkedValues,\n                  successNotification: false,\n                  errorNotification: false,\n                  dataProviderName,\n                  meta: combinedMeta,\n                  metaData: combinedMeta,\n                });\n\n                return {\n                  response,\n                  value: chunkedValues,\n                  currentBatchLength: chunkedValues.length,\n                };\n              };\n\n              return fn;\n            });\n            // Sequentially run chunked functions and process resolves/rejects\n            const createdValues = await sequentialPromises(\n              chunkedFns,\n              ({ response, currentBatchLength, value }) => {\n                setProcessedAmount((currentAmount) => {\n                  return currentAmount + currentBatchLength;\n                });\n\n                return {\n                  response: response.data,\n                  type: \"success\",\n                  request: value,\n                } as ImportSuccessResult<TVariables, TData>;\n              },\n              (error: HttpError, index) => {\n                return {\n                  response: [error],\n                  type: \"error\",\n                  request: chunks[index],\n                } as ImportErrorResult<TVariables>;\n              },\n            );\n            // resolve with all created values\n            resolve(createdValues);\n          }\n        },\n\n        ...paparseOptions,\n      });\n    }).then((createdValues) => {\n      handleFinish(createdValues);\n      return createdValues;\n    });\n  };\n\n  return {\n    inputProps: {\n      type: \"file\",\n      accept: \".csv\",\n      onChange: (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target.files && event.target.files.length > 0) {\n          handleChange({ file: event.target.files[0] });\n        }\n      },\n    },\n    mutationResult,\n    isLoading,\n    handleChange,\n  };\n};\n", "import { useCallback, useState } from \"react\";\n\nexport type useModalReturnType = {\n  visible: boolean;\n  show: () => void;\n  close: () => void;\n};\n\nexport type useModalProps = {\n  /**\n   * Initial state of the modal\n   */\n  defaultVisible?: boolean;\n};\n\nexport const useModal = ({\n  defaultVisible = false,\n}: useModalProps = {}): useModalReturnType => {\n  const [visible, setVisible] = useState(defaultVisible);\n\n  const show = useCallback(() => setVisible(true), [visible]);\n  const close = useCallback(() => setVisible(false), [visible]);\n\n  return {\n    visible,\n    show,\n    close,\n  };\n};\n", "import { IResourceItem } from \"../../../contexts/resource/types\";\nimport { Action } from \"../../../contexts/router/types\";\nimport { useGetToPath } from \"../use-get-to-path\";\n\ntype UseToPathParams = {\n  resource?: IResourceItem;\n  action: Action;\n  meta?: Record<string, unknown>;\n  legacy?: boolean;\n};\n\n/**\n * Returns the route for a given action and resource.\n * If resource is not provided, it will use the resource from the route.\n * If the resource is not found, it will return undefined.\n * If the action is not found, it will return undefined.\n * `meta` can be provided to compose the routes with parameters. (Can be used for nested routes.)\n */\nexport const useToPath = ({\n  resource,\n  action,\n  meta,\n  legacy,\n}: UseToPathParams): string | undefined => {\n  const getToPath = useGetToPath();\n\n  return getToPath({ resource, action, meta, legacy });\n};\n", "import { RouterContext } from \"@contexts/router\";\nimport React, { useContext } from \"react\";\n\nexport const useLink = () => {\n  const routerContext = useContext(RouterContext);\n\n  if (routerContext?.Link) {\n    return routerContext.Link;\n  }\n\n  const FallbackLink: Required<typeof routerContext>[\"Link\"] = ({\n    to,\n    ...rest\n  }) => <a href={to} {...rest} />;\n\n  return FallbackLink;\n};\n", "import { useContext } from \"react\";\n\nimport { LegacyRouterContext, defaultProvider } from \"@contexts/router/legacy\";\n\nexport const useRouterContext = () => {\n  const routerContextValues = useContext(LegacyRouterContext);\n\n  const { useHistory, useLocation, useParams, Prompt, Link, routes } =\n    routerContextValues ?? defaultProvider;\n\n  return {\n    useHistory,\n    useLocation,\n    useParams,\n    Prompt,\n    Link,\n    routes,\n  };\n};\n", "import React, { PropsWithChildren } from \"react\";\n\nimport { ILegacyRouterContext } from \"./types\";\n\nexport const defaultProvider: ILegacyRouterContext = {\n  useHistory: () => false,\n  useLocation: () => false,\n  useParams: () => ({}) as any,\n  Prompt: () => null,\n  Link: () => null,\n};\n\nexport const LegacyRouterContext =\n  React.createContext<ILegacyRouterContext>(defaultProvider);\n\nexport const LegacyRouterContextProvider: React.FC<\n  PropsWithChildren<Partial<ILegacyRouterContext>>\n> = ({\n  children,\n  useHistory,\n  useLocation,\n  useParams,\n  Prompt,\n  Link,\n  routes,\n}) => {\n  return (\n    <LegacyRouterContext.Provider\n      value={{\n        useHistory: useHistory ?? defaultProvider.useHistory,\n        useLocation: useLocation ?? defaultProvider.useLocation,\n        useParams: useParams ?? defaultProvider.useParams,\n        Prompt: Prompt ?? defaultProvider.Prompt,\n        Link: Link ?? defaultProvider.Link,\n        routes: routes ?? defaultProvider.routes,\n      }}\n    >\n      {children}\n    </LegacyRouterContext.Provider>\n  );\n};\n", "import { useContext } from \"react\";\n\nimport { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseQueryOptions,\n  UseQueryResult,\n  useQuery,\n} from \"@tanstack/react-query\";\n\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { sanitizeResource } from \"@definitions/helpers/sanitize-resource\";\nimport { useKeys } from \"@hooks/useKeys\";\nimport {\n  CanParams,\n  CanReturnType,\n} from \"../../../contexts/accessControl/types\";\n\nexport type UseCanProps = CanParams & {\n  /**\n   * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n   */\n  queryOptions?: UseQueryOptions<CanReturnType>;\n};\n\n/**\n * `useCan` uses the `can` as the query function for `react-query`'s {@link https://react-query.tanstack.com/guides/queries `useQuery`}. It takes the parameters that `can` takes. It can also be configured with `queryOptions` for `useQuery`. Returns the result of `useQuery`.\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/accessControl/useCan} for more details.\n *\n * @typeParam CanParams {@link https://refine.dev/docs/core/interfaceReferences#canparams}\n * @typeParam CanReturnType {@link https://refine.dev/docs/core/interfaceReferences#canreturntype}\n *\n */\nexport const useCan = ({\n  action,\n  resource,\n  params,\n  queryOptions: hookQueryOptions,\n}: UseCanProps): UseQueryResult<CanReturnType> => {\n  const { can, options: globalOptions } = useContext(AccessControlContext);\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const { queryOptions: globalQueryOptions } = globalOptions || {};\n\n  const mergedQueryOptions = {\n    ...globalQueryOptions,\n    ...hookQueryOptions,\n  };\n\n  /**\n   * Since `react-query` stringifies the query keys, it will throw an error for a circular dependency if we include `React.ReactNode` elements inside the keys.\n   * The feature in #2220(https://github.com/refinedev/refine/issues/2220) includes such change and to fix this, we need to remove `icon` property in the `resource`\n   */\n  const { resource: _resource, ...paramsRest } = params ?? {};\n\n  const sanitizedResource = sanitizeResource(_resource);\n\n  const queryResponse = useQuery<CanReturnType>({\n    queryKey: keys()\n      .access()\n      .resource(resource)\n      .action(action)\n      .params({\n        params: { ...paramsRest, resource: sanitizedResource },\n        enabled: mergedQueryOptions?.enabled,\n      })\n      .get(preferLegacyKeys),\n    // Enabled check for `can` is enough to be sure that it's defined in the query function but TS is not smart enough to know that.\n    queryFn: () =>\n      can?.({\n        action,\n        resource,\n        params: { ...paramsRest, resource: sanitizedResource },\n      }) ?? Promise.resolve({ can: true }),\n    enabled: typeof can !== \"undefined\",\n    ...mergedQueryOptions,\n    meta: {\n      ...mergedQueryOptions?.meta,\n      ...getXRay(\"useCan\", preferLegacyKeys, resource, [\n        \"useButtonCanAccess\",\n        \"useNavigationButton\",\n      ]),\n    },\n    retry: false,\n  });\n\n  return typeof can === \"undefined\"\n    ? ({ data: { can: true } } as typeof queryResponse)\n    : queryResponse;\n};\n", "import React, { PropsWithChildren } from \"react\";\n\nimport {\n  IAccessControlContext,\n  IAccessControlContextReturnType,\n} from \"./types\";\n\n/** @deprecated default value for access control context has no use and is an empty object. */\nexport const defaultAccessControlContext = {} as IAccessControlContext;\n\nexport const AccessControlContext =\n  React.createContext<IAccessControlContextReturnType>({\n    options: {\n      buttons: { enableAccessControl: true, hideIfUnauthorized: false },\n    },\n  });\n\nexport const AccessControlContextProvider: React.FC<\n  PropsWithChildren<IAccessControlContext>\n> = ({ can, children, options }) => {\n  return (\n    <AccessControlContext.Provider\n      value={{\n        can,\n        options: options\n          ? {\n              ...options,\n              buttons: {\n                enableAccessControl: true,\n                hideIfUnauthorized: false,\n                ...options.buttons,\n              },\n            }\n          : {\n              buttons: {\n                enableAccessControl: true,\n                hideIfUnauthorized: false,\n              },\n              queryOptions: undefined,\n            },\n      }}\n    >\n      {children}\n    </AccessControlContext.Provider>\n  );\n};\n", "import { IResourceItem } from \"../../../contexts/resource/types\";\n\n/**\n * Remove all properties that are non-serializable from a resource object.\n */\nexport const sanitizeResource = (\n  resource?: Partial<IResourceItem> &\n    Required<Pick<IResourceItem, \"name\">> & { children?: unknown },\n):\n  | (Partial<IResourceItem> & Required<Pick<IResourceItem, \"name\">>)\n  | undefined => {\n  if (!resource) {\n    return undefined;\n  }\n\n  const {\n    icon,\n    list,\n    edit,\n    create,\n    show,\n    clone,\n    children,\n    meta,\n    options,\n    ...restResource\n  } = resource;\n\n  const { icon: _metaIcon, ...restMeta } = meta ?? {};\n  const { icon: _optionsIcon, ...restOptions } = options ?? {};\n\n  return {\n    ...restResource,\n    ...(meta ? { meta: restMeta } : {}),\n    ...(options ? { options: restOptions } : {}),\n  };\n};\n", "import React from \"react\";\n\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { sanitizeResource } from \"@definitions/helpers/sanitize-resource\";\n\nimport { IAccessControlContext } from \"../../contexts/accessControl/types\";\n\nexport const useCanWithoutCache = (): IAccessControlContext => {\n  const { can: canFromContext } = React.useContext(AccessControlContext);\n\n  const can = React.useMemo(() => {\n    if (!canFromContext) {\n      return undefined;\n    }\n\n    const canWithSanitizedResource: NonNullable<typeof canFromContext> =\n      async ({ params, ...rest }) => {\n        const sanitizedResource = params?.resource\n          ? sanitizeResource(params.resource)\n          : undefined;\n\n        return canFromContext({\n          ...rest,\n          ...(params\n            ? {\n                params: {\n                  ...params,\n                  resource: sanitizedResource,\n                },\n              }\n            : {}),\n        });\n      };\n\n    return canWithSanitizedResource;\n  }, [canFromContext]);\n\n  return { can };\n};\n", "import { useCallback, useMemo, useState } from \"react\";\n\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport debounce from \"lodash-es/debounce.js\";\nimport get from \"lodash-es/get.js\";\nimport uniqBy from \"lodash-es/uniqBy.js\";\n\nimport { pickNotDeprecated } from \"@definitions/helpers\";\nimport { useList, useMany, useMeta } from \"@hooks\";\n\nimport {\n  BaseKey,\n  BaseOption,\n  BaseRecord,\n  CrudFilter,\n  CrudSort,\n  GetListResponse,\n  GetManyResponse,\n  HttpError,\n  MetaQuery,\n  Pagination,\n  Prettify,\n} from \"../../contexts/data/types\";\nimport { LiveModeProps } from \"../../contexts/live/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport { BaseListProps } from \"../data/useList\";\nimport { useResource } from \"../resource/useResource/index\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\nexport type UseSelectProps<TQueryFnData, TError, TData> = {\n  /**\n   * Resource name for API data interactions\n   */\n  resource: string;\n  /**\n   * Set the option's label value\n   * @default `\"title\"`\n   */\n  optionLabel?: keyof TData extends string\n    ? keyof TData\n    : never | ((item: TData) => string);\n  /**\n   * Set the option's value\n   * @default `\"id\"`\n   */\n  optionValue?: keyof TData extends string\n    ? keyof TData\n    : never | ((item: TData) => string);\n  /**\n   * Field name to search for.\n   * @description If provided `optionLabel` is a string, uses `optionLabel`'s value.\n   * @default `\"title\"`\n   * @example\n   * // when optionLabel is string.\n   * useSelect({ optionLabel: \"name\" })\n   * // uses `name` field.\n   * @example\n   * // when optionLabel is function.\n   * useSelect({ optionLabel: (field) => field.description })\n   * // uses `title`, since `optionLabel` is a function.\n   */\n  searchField?: keyof TData extends string ? keyof TData : never;\n  /**\n   * Allow us to sort the options\n   * @deprecated Use `sorters` instead\n   */\n  sort?: CrudSort[];\n  /**\n   * Allow us to sort the options\n   */\n  sorters?: CrudSort[];\n  /**\n   * Resource name for API data interactions\n   */\n  filters?: CrudFilter[];\n  /**\n   * Adds extra `options`\n   */\n  defaultValue?: BaseKey | BaseKey[];\n  /**\n   * The number of milliseconds to delay\n   * @default `300`\n   */\n  debounce?: number;\n  /**\n   * react-query [useQuery](https://react-query.tanstack.com/reference/useQuery) options\n   */\n  queryOptions?: UseQueryOptions<\n    GetListResponse<TQueryFnData>,\n    TError,\n    GetListResponse<TData>\n  >;\n  /**\n   * Pagination option from [`useList()`](/docs/api-reference/core/hooks/data/useList/)\n   * @type {  current?: number; pageSize?: number;}\n   * @default `undefined`\n   */\n  pagination?: Prettify<\n    Omit<Pagination, \"mode\"> & {\n      /**\n       * Whether to use server side pagination or not.\n       * @default \"off\"\n       */\n      mode?: Pagination[\"mode\"];\n    }\n  >;\n  /**\n   * Disabling pagination option from [`useList()`](/docs/api-reference/core/hooks/data/useList/)\n   * @type boolean\n   * @default `false`\n   * @deprecated `hasPagination` is deprecated, use `pagination.mode` instead.\n   */\n  hasPagination?: boolean;\n  /**\n   * react-query [useQuery](https://react-query.tanstack.com/reference/useQuery) options\n   */\n  defaultValueQueryOptions?: UseQueryOptions<\n    GetManyResponse<TQueryFnData>,\n    TError\n  >;\n  /**\n   * If defined, this callback allows us to override all filters for every search request.\n   * @default `undefined`\n   */\n  onSearch?: (value: string) => CrudFilter[];\n  /**\n   * Additional meta data to pass to the `useMany` from the data provider\n   */\n  meta?: MetaQuery;\n  /**\n   * Additional meta data to pass to the `useMany` from the data provider\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   * @default `default`\n   */\n  dataProviderName?: string;\n  /**\n   * Amount of records to fetch in select box list.\n   * @deprecated use [`pagination`](https://refine.dev/docs/api-reference/core/interfaceReferences/#pagination) instead\n   * @default `undefined`\n   */\n  fetchSize?: number;\n} & SuccessErrorNotification<\n  GetListResponse<TData>,\n  TError,\n  Prettify<BaseListProps>\n> &\n  LiveModeProps &\n  UseLoadingOvertimeOptionsProps;\n\nexport type UseSelectReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TOption extends BaseOption = BaseOption,\n> = {\n  queryResult: QueryObserverResult<GetListResponse<TData>, TError>;\n  defaultValueQueryResult: QueryObserverResult<GetManyResponse<TData>>;\n  onSearch: (value: string) => void;\n  options: TOption[];\n} & UseLoadingOvertimeReturnType;\n\n/**\n * `useSelect` hook is used to fetch data from the dataProvider and return the options for the select box.\n *\n * It uses `getList` method as query function from the dataProvider that is\n * passed to {@link https://refine.dev/docs/api-reference/core/components/refine-config/ `<Refine>`}.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/useSelect} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nexport const useSelect = <\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TData extends BaseRecord = TQueryFnData,\n  TOption extends BaseOption = BaseOption,\n>(\n  props: UseSelectProps<TQueryFnData, TError, TData>,\n): UseSelectReturnType<TData, TError, TOption> => {\n  const [search, setSearch] = useState<CrudFilter[]>([]);\n  const [options, setOptions] = useState<TOption[]>([]);\n  const [selectedOptions, setSelectedOptions] = useState<TOption[]>([]);\n\n  const {\n    resource: resourceFromProps,\n    sort,\n    sorters,\n    filters = [],\n    optionLabel = \"title\",\n    optionValue = \"id\",\n    searchField = typeof optionLabel === \"string\" ? optionLabel : \"title\",\n    debounce: debounceValue = 300,\n    successNotification,\n    errorNotification,\n    defaultValueQueryOptions: defaultValueQueryOptionsFromProps,\n    queryOptions,\n    fetchSize,\n    pagination,\n    hasPagination = false,\n    liveMode,\n    defaultValue = [],\n    onLiveEvent,\n    onSearch: onSearchFromProp,\n    liveParams,\n    meta,\n    metaData,\n    dataProviderName,\n    overtimeOptions,\n  } = props;\n\n  const getOptionLabel = useCallback(\n    (item: TData) => {\n      if (typeof optionLabel === \"string\") {\n        return get(item, optionLabel);\n      }\n\n      return optionLabel(item);\n    },\n    [optionLabel],\n  );\n\n  const getOptionValue = useCallback(\n    (item: TData) => {\n      if (typeof optionValue === \"string\") {\n        return get(item, optionValue);\n      }\n\n      return optionValue(item);\n    },\n    [optionValue],\n  );\n\n  const { resource, identifier } = useResource(resourceFromProps);\n\n  const getMeta = useMeta();\n\n  const combinedMeta = getMeta({\n    resource,\n    meta: pickNotDeprecated(meta, metaData),\n  });\n\n  const defaultValues = Array.isArray(defaultValue)\n    ? defaultValue\n    : [defaultValue];\n\n  const defaultValueQueryOnSuccess = useCallback(\n    (data: GetManyResponse<TData>) => {\n      setSelectedOptions(\n        data.data.map(\n          (item) =>\n            ({\n              label: getOptionLabel(item),\n              value: getOptionValue(item),\n            }) as TOption,\n        ),\n      );\n    },\n    [optionLabel, optionValue],\n  );\n\n  const defaultValueQueryOptions =\n    defaultValueQueryOptionsFromProps ?? (queryOptions as any);\n\n  const defaultValueQueryResult = useMany<TQueryFnData, TError, TData>({\n    resource: identifier,\n    ids: defaultValues,\n    queryOptions: {\n      ...defaultValueQueryOptions,\n      enabled:\n        defaultValues.length > 0 && (defaultValueQueryOptions?.enabled ?? true),\n      onSuccess: (data) => {\n        defaultValueQueryOnSuccess(data);\n        defaultValueQueryOptions?.onSuccess?.(data);\n      },\n    },\n    meta: combinedMeta,\n    metaData: combinedMeta,\n    liveMode: \"off\",\n    dataProviderName,\n  });\n\n  const defaultQueryOnSuccess = useCallback(\n    (data: GetListResponse<TData>) => {\n      setOptions(\n        data.data.map(\n          (item) =>\n            ({\n              label: getOptionLabel(item),\n              value: getOptionValue(item),\n            }) as TOption,\n        ),\n      );\n    },\n    [optionLabel, optionValue],\n  );\n\n  const queryResult = useList<TQueryFnData, TError, TData>({\n    resource: identifier,\n    sorters: pickNotDeprecated(sorters, sort),\n    filters: filters.concat(search),\n    pagination: {\n      current: pagination?.current,\n      pageSize: pagination?.pageSize ?? fetchSize,\n      mode: pagination?.mode,\n    },\n    hasPagination,\n    queryOptions: {\n      ...queryOptions,\n      onSuccess: (data) => {\n        defaultQueryOnSuccess(data);\n        queryOptions?.onSuccess?.(data);\n      },\n    },\n    successNotification,\n    errorNotification,\n    meta: combinedMeta,\n    metaData: combinedMeta,\n    liveMode,\n    liveParams,\n    onLiveEvent,\n    dataProviderName,\n  });\n\n  const onSearch = (value: string) => {\n    if (onSearchFromProp) {\n      setSearch(onSearchFromProp(value));\n      return;\n    }\n\n    if (!value) {\n      setSearch([]);\n      return;\n    }\n\n    setSearch([\n      {\n        field: searchField,\n        operator: \"contains\",\n        value,\n      },\n    ]);\n  };\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: queryResult.isFetching || defaultValueQueryResult.isFetching,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  const combinedOptions = useMemo(\n    () => uniqBy([...options, ...selectedOptions], \"value\"),\n    [options, selectedOptions],\n  );\n\n  return {\n    queryResult,\n    defaultValueQueryResult,\n    options: combinedOptions,\n    onSearch: debounce(onSearch, debounceValue),\n    overtime: { elapsedTime },\n  };\n};\n", "import React, { useState, useEffect } from \"react\";\n\nimport { QueryObserverResult, UseQueryOptions } from \"@tanstack/react-query\";\nimport differenceWith from \"lodash-es/differenceWith.js\";\nimport isEqual from \"lodash-es/isEqual.js\";\nimport qs from \"qs\";\nimport warnOnce from \"warn-once\";\n\nimport { pickNotDeprecated } from \"@definitions/helpers\";\nimport {\n  parseTableParams,\n  setInitialFilters,\n  setInitialSorters,\n  stringifyTableParams,\n  unionFilters,\n  unionSorters,\n} from \"@definitions/table\";\nimport {\n  useGo,\n  useList,\n  useLiveMode,\n  useMeta,\n  useNavigation,\n  useParsed,\n  useResource,\n  useRouterContext,\n  useRouterType,\n  useSyncWithLocation,\n} from \"@hooks\";\n\nimport {\n  BaseRecord,\n  CrudFilter,\n  CrudSort,\n  GetListResponse,\n  HttpError,\n  MetaQuery,\n  Pagination,\n  Prettify,\n} from \"../../contexts/data/types\";\nimport { LiveModeProps } from \"../../contexts/live/types\";\nimport { SuccessErrorNotification } from \"../../contexts/notification/types\";\nimport { BaseListProps } from \"../data/useList\";\nimport {\n  UseLoadingOvertimeOptionsProps,\n  UseLoadingOvertimeReturnType,\n  useLoadingOvertime,\n} from \"../useLoadingOvertime\";\n\ntype SetFilterBehavior = \"merge\" | \"replace\";\n\nexport type useTableProps<TQueryFnData, TError, TData> = {\n  /**\n   * Resource name for API data interactions\n   * @default Resource name that it reads from route\n   */\n  resource?: string;\n  /**\n   * Configuration for pagination\n   */\n  pagination?: Pagination;\n  /**\n   * Initial page index\n   * @default 1\n   * @deprecated `initialCurrent` property is deprecated. Use `pagination.current` instead.\n   */\n  initialCurrent?: number;\n  /**\n   * Initial number of items per page\n   * @default 10\n   * @deprecated `initialPageSize` property is deprecated. Use `pagination.pageSize` instead.\n   */\n  initialPageSize?: number;\n  /**\n   * Sort configs\n   */\n  sorters?: {\n    /**\n     * Initial sorter state\n     */\n    initial?: CrudSort[];\n    /**\n     * Default and unchangeable sorter state\n     *  @default `[]`\n     */\n    permanent?: CrudSort[];\n    /**\n     * Whether to use server side sorting or not.\n     * @default \"server\"\n     */\n    mode?: \"server\" | \"off\";\n  };\n  /**\n   * Initial sorter state\n   * @deprecated `initialSorter` property is deprecated. Use `sorters.initial` instead.\n   */\n  initialSorter?: CrudSort[];\n  /**\n   * Default and unchangeable sorter state\n   *  @default `[]`\n   *  @deprecated `permanentSorter` property is deprecated. Use `sorters.permanent` instead.\n   */\n  permanentSorter?: CrudSort[];\n  /**\n   * Filter configs\n   */\n  filters?: {\n    /**\n     * Initial filter state\n     */\n    initial?: CrudFilter[];\n    /**\n     * Default and unchangeable filter state\n     *  @default `[]`\n     */\n    permanent?: CrudFilter[];\n    /**\n     * Default behavior of the `setFilters` function\n     * @default `\"merge\"`\n     */\n    defaultBehavior?: SetFilterBehavior;\n    /**\n     * Whether to use server side filter or not.\n     * @default \"server\"\n     */\n    mode?: \"server\" | \"off\";\n  };\n  /**\n   * Initial filter state\n   * @deprecated `initialFilter` property is deprecated. Use `filters.initial` instead.\n   */\n  initialFilter?: CrudFilter[];\n  /**\n   * Default and unchangeable filter state\n   * @default `[]`\n   * @deprecated `permanentFilter` property is deprecated. Use `filters.permanent` instead.\n   */\n  permanentFilter?: CrudFilter[];\n  /**\n   * Default behavior of the `setFilters` function\n   * @default `\"merge\"`\n   * @deprecated `defaultSetFilterBehavior` property is deprecated. Use `filters.defaultBehavior` instead.\n   */\n  defaultSetFilterBehavior?: SetFilterBehavior;\n  /**\n   * Whether to use server side pagination or not.\n   * @default `true`\n   * @deprecated `hasPagination` property is deprecated. Use `pagination.mode` instead.\n   */\n  hasPagination?: boolean;\n  /**\n   * Sortings, filters, page index and records shown per page are tracked by browser history\n   * @default Value set in [Refine](/docs/api-reference/core/components/refine-config/#syncwithlocation). If a custom resource is given, it will be `false`\n   */\n  syncWithLocation?: boolean;\n  /**\n   * react-query's [useQuery](https://tanstack.com/query/v4/docs/reference/useQuery) options\n   */\n  queryOptions?: UseQueryOptions<\n    GetListResponse<TQueryFnData>,\n    TError,\n    GetListResponse<TData>\n  >;\n  /**\n   * Metadata query for dataProvider\n   */\n  meta?: MetaQuery;\n  /**\n   * Metadata query for dataProvider\n   * @deprecated `metaData` is deprecated with refine@4, refine will pass `meta` instead, however, we still support `metaData` for backward compatibility.\n   */\n  metaData?: MetaQuery;\n  /**\n   * If there is more than one `dataProvider`, you should use the `dataProviderName` that you will use.\n   */\n  dataProviderName?: string;\n} & SuccessErrorNotification<\n  GetListResponse<TData>,\n  TError,\n  Prettify<BaseListProps>\n> &\n  LiveModeProps &\n  UseLoadingOvertimeOptionsProps;\n\ntype ReactSetState<T> = React.Dispatch<React.SetStateAction<T>>;\n\ntype SyncWithLocationParams = {\n  pagination: { current?: number; pageSize?: number };\n  /**\n   * @deprecated `sorter` is deprecated. Use `sorters` instead.\n   */\n  sorter?: CrudSort[];\n  sorters: CrudSort[];\n  filters: CrudFilter[];\n};\n\nexport type useTableReturnType<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n> = {\n  tableQueryResult: QueryObserverResult<GetListResponse<TData>, TError>;\n  /**\n   * @deprecated `sorter` is deprecated. Use `sorters` instead.\n   */\n  sorter: CrudSort[];\n  sorters: CrudSort[];\n  /**\n   * @deprecated `setSorter` is deprecated. Use `setSorters` instead.\n   */\n  setSorter: (sorter: CrudSort[]) => void;\n  setSorters: (sorter: CrudSort[]) => void;\n  filters: CrudFilter[];\n  setFilters: ((filters: CrudFilter[], behavior?: SetFilterBehavior) => void) &\n    ((setter: (prevFilters: CrudFilter[]) => CrudFilter[]) => void);\n  createLinkForSyncWithLocation: (params: SyncWithLocationParams) => string;\n  current: number;\n  setCurrent: ReactSetState<useTableReturnType[\"current\"]>;\n  pageSize: number;\n  setPageSize: ReactSetState<useTableReturnType[\"pageSize\"]>;\n  pageCount: number;\n} & UseLoadingOvertimeReturnType;\n\n/**\n * By using useTable, you are able to get properties that are compatible with\n * Ant Design {@link https://ant.design/components/table/ `<Table>`} component.\n * All features such as sorting, filtering and pagination comes as out of box.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/useTable} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#baserecord `BaseRecord`}. Defaults to `TQueryFnData`\n *\n */\n\nconst defaultPermanentFilter: CrudFilter[] = [];\nconst defaultPermanentSorter: CrudSort[] = [];\n\nexport function useTable<\n  TQueryFnData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TData extends BaseRecord = TQueryFnData,\n>({\n  initialCurrent,\n  initialPageSize,\n  hasPagination = true,\n  pagination,\n  initialSorter,\n  permanentSorter = defaultPermanentSorter,\n  defaultSetFilterBehavior,\n  initialFilter,\n  permanentFilter = defaultPermanentFilter,\n  filters: filtersFromProp,\n  sorters: sortersFromProp,\n  syncWithLocation: syncWithLocationProp,\n  resource: resourceFromProp,\n  successNotification,\n  errorNotification,\n  queryOptions,\n  liveMode: liveModeFromProp,\n  onLiveEvent,\n  liveParams,\n  meta,\n  metaData,\n  dataProviderName,\n  overtimeOptions,\n}: useTableProps<TQueryFnData, TError, TData> = {}): useTableReturnType<\n  TData,\n  TError\n> {\n  const { syncWithLocation: syncWithLocationContext } = useSyncWithLocation();\n\n  const syncWithLocation = syncWithLocationProp ?? syncWithLocationContext;\n\n  const liveMode = useLiveMode(liveModeFromProp);\n\n  const routerType = useRouterType();\n  const { useLocation } = useRouterContext();\n  const { search, pathname } = useLocation();\n  const getMeta = useMeta();\n  const parsedParams = useParsed();\n\n  const isServerSideFilteringEnabled =\n    (filtersFromProp?.mode || \"server\") === \"server\";\n  const isServerSideSortingEnabled =\n    (sortersFromProp?.mode || \"server\") === \"server\";\n  const hasPaginationString = hasPagination === false ? \"off\" : \"server\";\n  const isPaginationEnabled =\n    (pagination?.mode ?? hasPaginationString) !== \"off\";\n  const prefferedCurrent = pickNotDeprecated(\n    pagination?.current,\n    initialCurrent,\n  );\n  const prefferedPageSize = pickNotDeprecated(\n    pagination?.pageSize,\n    initialPageSize,\n  );\n  const preferredMeta = pickNotDeprecated(meta, metaData);\n\n  /** `parseTableParams` is redundant with the new routing */\n  // We want to always parse the query string even when syncWithLocation is\n  // deactivated, for hotlinking to work properly\n  const { parsedCurrent, parsedPageSize, parsedSorter, parsedFilters } =\n    parseTableParams(search ?? \"?\");\n\n  const preferredInitialFilters = pickNotDeprecated(\n    filtersFromProp?.initial,\n    initialFilter,\n  );\n  const preferredPermanentFilters =\n    pickNotDeprecated(filtersFromProp?.permanent, permanentFilter) ??\n    defaultPermanentFilter;\n\n  const preferredInitialSorters = pickNotDeprecated(\n    sortersFromProp?.initial,\n    initialSorter,\n  );\n  const preferredPermanentSorters =\n    pickNotDeprecated(sortersFromProp?.permanent, permanentSorter) ??\n    defaultPermanentSorter;\n\n  const prefferedFilterBehavior =\n    pickNotDeprecated(\n      filtersFromProp?.defaultBehavior,\n      defaultSetFilterBehavior,\n    ) ?? \"merge\";\n\n  let defaultCurrent: number;\n  let defaultPageSize: number;\n  let defaultSorter: CrudSort[] | undefined;\n  let defaultFilter: CrudFilter[] | undefined;\n\n  if (syncWithLocation) {\n    defaultCurrent =\n      parsedParams?.params?.current || parsedCurrent || prefferedCurrent || 1;\n    defaultPageSize =\n      parsedParams?.params?.pageSize ||\n      parsedPageSize ||\n      prefferedPageSize ||\n      10;\n    defaultSorter =\n      parsedParams?.params?.sorters ||\n      (parsedSorter.length ? parsedSorter : preferredInitialSorters);\n    defaultFilter =\n      parsedParams?.params?.filters ||\n      (parsedFilters.length ? parsedFilters : preferredInitialFilters);\n  } else {\n    defaultCurrent = prefferedCurrent || 1;\n    defaultPageSize = prefferedPageSize || 10;\n    defaultSorter = preferredInitialSorters;\n    defaultFilter = preferredInitialFilters;\n  }\n\n  const { replace } = useNavigation();\n  /** New way of `replace` calls to the router is using `useGo` */\n  const go = useGo();\n\n  const { resource, identifier } = useResource(resourceFromProp);\n\n  const combinedMeta = getMeta({\n    resource,\n    meta: preferredMeta,\n  });\n\n  React.useEffect(() => {\n    warnOnce(\n      typeof identifier === \"undefined\",\n      \"useTable: `resource` is not defined.\",\n    );\n  }, [identifier]);\n\n  const [sorters, setSorters] = useState<CrudSort[]>(\n    setInitialSorters(preferredPermanentSorters, defaultSorter ?? []),\n  );\n  const [filters, setFilters] = useState<CrudFilter[]>(\n    setInitialFilters(preferredPermanentFilters, defaultFilter ?? []),\n  );\n  const [current, setCurrent] = useState<number>(defaultCurrent);\n  const [pageSize, setPageSize] = useState<number>(defaultPageSize);\n\n  const getCurrentQueryParams = (): object => {\n    if (routerType === \"new\") {\n      // We get QueryString parameters that are uncontrolled by refine.\n      const { sorters, filters, pageSize, current, ...rest } =\n        parsedParams?.params ?? {};\n\n      return rest;\n    }\n\n    // We get QueryString parameters that are uncontrolled by refine.\n    const { sorter, filters, pageSize, current, ...rest } = qs.parse(search, {\n      ignoreQueryPrefix: true,\n    });\n\n    return rest;\n  };\n\n  const createLinkForSyncWithLocation = ({\n    pagination: { current, pageSize },\n    sorter,\n    filters,\n  }: SyncWithLocationParams) => {\n    if (routerType === \"new\") {\n      return (\n        go({\n          type: \"path\",\n          options: {\n            keepHash: true,\n            keepQuery: true,\n          },\n          query: {\n            ...(isPaginationEnabled ? { current, pageSize } : {}),\n            sorters: sorter,\n            filters,\n            ...getCurrentQueryParams(),\n          },\n        }) ?? \"\"\n      );\n    }\n    const currentQueryParams = qs.parse(search?.substring(1)); // remove first ? character\n\n    const stringifyParams = stringifyTableParams({\n      pagination: {\n        pageSize,\n        current,\n      },\n      sorters: sorters ?? sorter,\n      filters,\n      ...currentQueryParams,\n    });\n\n    return `${pathname ?? \"\"}?${stringifyParams ?? \"\"}`;\n  };\n\n  useEffect(() => {\n    if (search === \"\") {\n      setCurrent(defaultCurrent);\n      setPageSize(defaultPageSize);\n      setSorters(\n        setInitialSorters(preferredPermanentSorters, defaultSorter ?? []),\n      );\n      setFilters(\n        setInitialFilters(preferredPermanentFilters, defaultFilter ?? []),\n      );\n    }\n  }, [search]);\n\n  useEffect(() => {\n    if (syncWithLocation) {\n      // Careful! This triggers render\n      const queryParams = getCurrentQueryParams();\n\n      if (routerType === \"new\") {\n        go({\n          type: \"replace\",\n          options: {\n            keepQuery: true,\n          },\n          query: {\n            ...(isPaginationEnabled ? { pageSize, current } : {}),\n            sorters: differenceWith(\n              sorters,\n              preferredPermanentSorters,\n              isEqual,\n            ),\n            filters: differenceWith(\n              filters,\n              preferredPermanentFilters,\n              isEqual,\n            ),\n            // ...queryParams,\n          },\n        });\n      } else {\n        const stringifyParams = stringifyTableParams({\n          ...(isPaginationEnabled\n            ? {\n                pagination: {\n                  pageSize,\n                  current,\n                },\n              }\n            : {}),\n          sorters: differenceWith(sorters, preferredPermanentSorters, isEqual),\n          filters: differenceWith(filters, preferredPermanentFilters, isEqual),\n          ...queryParams,\n        });\n        return replace?.(`${pathname}?${stringifyParams}`, undefined, {\n          shallow: true,\n        });\n      }\n    }\n  }, [syncWithLocation, current, pageSize, sorters, filters]);\n\n  const queryResult = useList<TQueryFnData, TError, TData>({\n    resource: identifier,\n    hasPagination,\n    pagination: { current, pageSize, mode: pagination?.mode },\n    filters: isServerSideFilteringEnabled\n      ? unionFilters(preferredPermanentFilters, filters)\n      : undefined,\n    sorters: isServerSideSortingEnabled\n      ? unionSorters(preferredPermanentSorters, sorters)\n      : undefined,\n    queryOptions,\n    successNotification,\n    errorNotification,\n    meta: combinedMeta,\n    metaData: combinedMeta,\n    liveMode,\n    liveParams,\n    onLiveEvent,\n    dataProviderName,\n  });\n\n  const setFiltersAsMerge = (newFilters: CrudFilter[]) => {\n    setFilters((prevFilters) =>\n      unionFilters(preferredPermanentFilters, newFilters, prevFilters),\n    );\n  };\n\n  const setFiltersAsReplace = (newFilters: CrudFilter[]) => {\n    setFilters(unionFilters(preferredPermanentFilters, newFilters));\n  };\n\n  const setFiltersWithSetter = (\n    setter: (prevFilters: CrudFilter[]) => CrudFilter[],\n  ) => {\n    setFilters((prev) => unionFilters(preferredPermanentFilters, setter(prev)));\n  };\n\n  const setFiltersFn: useTableReturnType<TQueryFnData>[\"setFilters\"] = (\n    setterOrFilters,\n    behavior: SetFilterBehavior = prefferedFilterBehavior,\n  ) => {\n    if (typeof setterOrFilters === \"function\") {\n      setFiltersWithSetter(setterOrFilters);\n    } else {\n      if (behavior === \"replace\") {\n        setFiltersAsReplace(setterOrFilters);\n      } else {\n        setFiltersAsMerge(setterOrFilters);\n      }\n    }\n  };\n\n  const setSortWithUnion = (newSorter: CrudSort[]) => {\n    setSorters(() => unionSorters(preferredPermanentSorters, newSorter));\n  };\n\n  const { elapsedTime } = useLoadingOvertime({\n    isLoading: queryResult.isFetching,\n    interval: overtimeOptions?.interval,\n    onInterval: overtimeOptions?.onInterval,\n  });\n\n  return {\n    tableQueryResult: queryResult,\n    sorters,\n    setSorters: setSortWithUnion,\n    sorter: sorters,\n    setSorter: setSortWithUnion,\n    filters,\n    setFilters: setFiltersFn,\n    current,\n    setCurrent,\n    pageSize,\n    setPageSize,\n    pageCount: pageSize\n      ? Math.ceil((queryResult.data?.total ?? 0) / pageSize)\n      : 1,\n    createLinkForSyncWithLocation,\n    overtime: {\n      elapsedTime,\n    },\n  };\n}\n", "import { useContext } from \"react\";\n\nimport { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseMutationOptions,\n  UseMutationResult,\n  useMutation,\n  useQueryClient,\n} from \"@tanstack/react-query\";\n\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { ResourceContext } from \"@contexts/resource\";\nimport { hasPermission, pickNotDeprecated } from \"@definitions/helpers\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\nimport { pickResource } from \"@definitions/helpers/pick-resource\";\nimport { useGetIdentity } from \"@hooks/auth\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nimport { LogParams } from \"../../../contexts/auditLog/types\";\nimport { BaseKey } from \"../../../contexts/data/types\";\n\ntype LogRenameData =\n  | {\n      resource?: string;\n    }\n  | undefined;\n\nexport type UseLogReturnType<TLogData, TLogRenameData> = {\n  log: UseMutationResult<TLogData, Error, LogParams>;\n  rename: UseMutationResult<\n    TLogRenameData,\n    Error,\n    {\n      id: BaseKey;\n      name: string;\n    }\n  >;\n};\n\nexport type UseLogMutationProps<\n  TLogData,\n  TLogRenameData extends LogRenameData = LogRenameData,\n> = {\n  logMutationOptions?: Omit<\n    UseMutationOptions<TLogData, Error, LogParams, unknown>,\n    \"mutationFn\"\n  >;\n  renameMutationOptions?: Omit<\n    UseMutationOptions<\n      TLogRenameData,\n      Error,\n      { id: BaseKey; name: string },\n      unknown\n    >,\n    \"mutationFn\" | \"onSuccess\"\n  >;\n};\n\n/**\n * useLog is used to `create` a new and `rename` the existing audit log.\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/audit-log/useLog} for more details.\n */\n\nexport const useLog = <\n  TLogData,\n  TLogRenameData extends LogRenameData = LogRenameData,\n>({\n  logMutationOptions,\n  renameMutationOptions,\n}: UseLogMutationProps<TLogData, TLogRenameData> = {}): UseLogReturnType<\n  TLogData,\n  TLogRenameData\n> => {\n  const queryClient = useQueryClient();\n  const auditLogContext = useContext(AuditLogContext);\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const authProvider = useActiveAuthProvider();\n\n  const { resources } = useContext(ResourceContext);\n  const {\n    data: identityData,\n    refetch,\n    isLoading,\n  } = useGetIdentity({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    queryOptions: {\n      enabled: !!auditLogContext?.create,\n    },\n  });\n\n  const log = useMutation<TLogData, Error, LogParams, unknown>(\n    async (params) => {\n      const resource = pickResource(params.resource, resources);\n      const logPermissions = pickNotDeprecated(\n        resource?.meta?.audit,\n        resource?.options?.audit,\n        resource?.options?.auditLog?.permissions,\n      );\n\n      if (logPermissions) {\n        if (!hasPermission(logPermissions, params.action)) {\n          return;\n        }\n      }\n\n      let authorData;\n      if (isLoading && !!auditLogContext?.create) {\n        authorData = await refetch();\n      }\n\n      return await auditLogContext.create?.({\n        ...params,\n        author: identityData ?? authorData?.data,\n      });\n    },\n    {\n      mutationKey: keys().audit().action(\"log\").get(),\n      ...logMutationOptions,\n      meta: {\n        ...logMutationOptions?.meta,\n        ...getXRay(\"useLog\", preferLegacyKeys),\n      },\n    },\n  );\n\n  const rename = useMutation<\n    TLogRenameData,\n    Error,\n    { id: BaseKey; name: string },\n    unknown\n  >(\n    async (params) => {\n      return await auditLogContext.update?.(params);\n    },\n    {\n      onSuccess: (data) => {\n        if (data?.resource) {\n          queryClient.invalidateQueries(\n            keys()\n              .audit()\n              .resource(data?.resource ?? \"\")\n              .action(\"list\")\n              .get(preferLegacyKeys),\n          );\n        }\n      },\n      mutationKey: keys().audit().action(\"rename\").get(),\n      ...renameMutationOptions,\n      meta: {\n        ...renameMutationOptions?.meta,\n        ...getXRay(\"useLog\", preferLegacyKeys),\n      },\n    },\n  );\n\n  return { log, rename };\n};\n", "import React, { PropsWithChildren } from \"react\";\n\nimport { IAuditLogContext } from \"./types\";\n\nexport const AuditLogContext = React.createContext<IAuditLogContext>({});\n\nexport const AuditLogContextProvider: React.FC<\n  PropsWithChildren<IAuditLogContext>\n> = ({ create, get, update, children }) => {\n  return (\n    <AuditLogContext.Provider value={{ create, get, update }}>\n      {children}\n    </AuditLogContext.Provider>\n  );\n};\n", "import { useContext } from \"react\";\n\nimport { getXRay } from \"@refinedev/devtools-internal\";\nimport {\n  UseQueryOptions,\n  UseQueryResult,\n  useQuery,\n} from \"@tanstack/react-query\";\n\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { useKeys } from \"@hooks/useKeys\";\n\nimport { HttpError, MetaQuery } from \"../../../contexts/data/types\";\n\nexport type UseLogProps<TQueryFnData, TError, TData> = {\n  resource: string;\n  action?: string;\n  meta?: Record<number | string, any>;\n  author?: Record<number | string, any>;\n  queryOptions?: UseQueryOptions<TQueryFnData, TError, TData>;\n  metaData?: MetaQuery;\n};\n\n/**\n * useLogList is used to get and filter audit logs.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/audit-log/useLogList} for more details.\n *\n * @typeParam TQueryFnData - Result data returned by the query function.\n * @typeParam TError - Custom error object that extends {@link https://refine.dev/docs/api-reference/core/interfaceReferences#httperror `HttpError`}\n * @typeParam TData - Result data returned by the `select` function. Defaults to `TQueryFnData`\n *\n */\nexport const useLogList = <\n  TQueryFnData = any,\n  TError extends HttpError = HttpError,\n  TData = TQueryFnData,\n>({\n  resource,\n  action,\n  meta,\n  author,\n  metaData,\n  queryOptions,\n}: UseLogProps<TQueryFnData, TError, TData>): UseQueryResult<TData> => {\n  const { get } = useContext(AuditLogContext);\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const queryResponse = useQuery<TQueryFnData, TError, TData>({\n    queryKey: keys()\n      .audit()\n      .resource(resource)\n      .action(\"list\")\n      .params(meta)\n      .get(preferLegacyKeys),\n    queryFn: () =>\n      get?.({\n        resource,\n        action,\n        author,\n        meta,\n        metaData,\n      }) ?? Promise.resolve([]),\n    enabled: typeof get !== \"undefined\",\n    ...queryOptions,\n    retry: false,\n    meta: {\n      ...queryOptions?.meta,\n      ...getXRay(\"useLogList\", preferLegacyKeys, resource),\n    },\n  });\n\n  return queryResponse;\n};\n", "import React, { useContext } from \"react\";\n\nimport warnOnce from \"warn-once\";\n\nimport { I18nContext } from \"@contexts/i18n\";\nimport { useRouterType } from \"@contexts/router/picker\";\nimport { pickNotDeprecated } from \"@definitions\";\nimport { getActionRoutesFromResource } from \"@definitions/helpers/router\";\nimport { composeRoute } from \"@definitions/helpers/router/compose-route\";\nimport { useRefineContext, useResource, useTranslate } from \"@hooks\";\nimport { useParsed } from \"@hooks/router/use-parsed\";\n\nimport { IResourceItem } from \"../../contexts/resource/types\";\nimport { pickResource } from \"../../definitions/helpers/pick-resource/index\";\n\nexport type BreadcrumbsType = {\n  label: string;\n  href?: string;\n  icon?: React.ReactNode;\n};\n\ntype UseBreadcrumbReturnType = {\n  breadcrumbs: BreadcrumbsType[];\n};\n\ntype UseBreadcrumbProps = {\n  /**\n   * Additional params to be used in the route generation process.\n   */\n  meta?: Record<string, string | number>;\n};\n\nexport const useBreadcrumb = ({\n  meta: metaFromProps = {},\n}: UseBreadcrumbProps = {}): UseBreadcrumbReturnType => {\n  const routerType = useRouterType();\n  const { i18nProvider } = useContext(I18nContext);\n  const parsed = useParsed();\n  const translate = useTranslate();\n  const { resources, resource, action } = useResource();\n  const {\n    options: { textTransformers },\n  } = useRefineContext();\n\n  const breadcrumbs: BreadcrumbsType[] = [];\n\n  if (!resource?.name) {\n    return { breadcrumbs };\n  }\n\n  const addBreadcrumb = (parentName: string | IResourceItem) => {\n    const parentResource =\n      typeof parentName === \"string\"\n        ? pickResource(parentName, resources, routerType === \"legacy\") ?? {\n            name: parentName,\n          }\n        : parentName;\n\n    if (parentResource) {\n      const grandParentName = pickNotDeprecated(\n        parentResource?.meta?.parent,\n        parentResource?.parentName,\n      );\n      if (grandParentName) {\n        addBreadcrumb(grandParentName);\n      }\n      const listActionOfResource = getActionRoutesFromResource(\n        parentResource,\n        resources,\n        routerType === \"legacy\",\n      ).find((r) => r.action === \"list\");\n\n      const hrefRaw = listActionOfResource?.resource?.list\n        ? listActionOfResource?.route\n        : undefined;\n\n      const href = hrefRaw\n        ? routerType === \"legacy\"\n          ? hrefRaw\n          : composeRoute(hrefRaw, parentResource?.meta, parsed, metaFromProps)\n        : undefined;\n\n      breadcrumbs.push({\n        label:\n          pickNotDeprecated(\n            parentResource.meta?.label,\n            parentResource.options?.label,\n          ) ??\n          translate(\n            `${parentResource.name}.${parentResource.name}`,\n            textTransformers.humanize(parentResource.name),\n          ),\n        href: href,\n        icon: pickNotDeprecated(\n          parentResource.meta?.icon,\n          parentResource.options?.icon,\n          parentResource.icon,\n        ),\n      });\n    }\n  };\n\n  addBreadcrumb(resource);\n\n  if (action && action !== \"list\") {\n    const key = `actions.${action}`;\n    const actionLabel = translate(key);\n    if (typeof i18nProvider !== \"undefined\" && actionLabel === key) {\n      warnOnce(\n        true,\n        `[useBreadcrumb]: Breadcrumb missing translate key for the \"${action}\" action. Please add \"actions.${action}\" key to your translation file.\\nFor more information, see https://refine.dev/docs/api-reference/core/hooks/useBreadcrumb/#i18n-support`,\n      );\n      breadcrumbs.push({\n        label: translate(\n          `buttons.${action}`,\n          textTransformers.humanize(action),\n        ),\n      });\n    } else {\n      breadcrumbs.push({\n        label: translate(key, textTransformers.humanize(action)),\n      });\n    }\n  }\n\n  return {\n    breadcrumbs,\n  };\n};\n", "import React from \"react\";\n\nimport { pickNotDeprecated, useUserFriendlyName } from \"@definitions\";\nimport { getParentResource } from \"@definitions/helpers/router\";\n\nimport { useParsed, useResource, useRouterContext, useTranslate } from \"..\";\nimport { useRouterType } from \"../../contexts/router/picker\";\nimport { createResourceKey } from \"../../definitions/helpers/menu/create-resource-key\";\nimport {\n  FlatTreeItem,\n  createTree,\n} from \"../../definitions/helpers/menu/create-tree\";\nimport { useGetToPath } from \"../router/use-get-to-path/index\";\n\ntype UseMenuReturnType = {\n  defaultOpenKeys: string[];\n  selectedKey: string;\n  menuItems: TreeMenuItem[];\n};\n\nexport type UseMenuProps = {\n  meta?: Record<string, any>;\n  hideOnMissingParameter?: boolean;\n};\n\nexport type TreeMenuItem = FlatTreeItem & {\n  route?: string;\n  icon?: React.ReactNode;\n  label?: string;\n  children: TreeMenuItem[];\n};\n\nconst getCleanPath = (pathname: string) => {\n  return pathname\n    .split(\"?\")[0]\n    .split(\"#\")[0]\n    .replace(/(.+)(\\/$)/, \"$1\");\n};\n\n/**\n * `useMenu` is used to get menu items of the default sidebar.\n * These items include a link to dashboard page (if it exists) and links to the user defined resources\n * (passed as children to {@link https://refine.dev/docs/core/components/refine-config `<Refine>`}).\n * This hook can also be used to build custom menus, which is also used by default sidebar to show menu items.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/hooks/ui/useMenu} for more details.\n */\nexport const useMenu = (\n  { meta, hideOnMissingParameter = true }: UseMenuProps = {\n    hideOnMissingParameter: true,\n  },\n): UseMenuReturnType => {\n  const translate = useTranslate();\n\n  const getToPath = useGetToPath();\n  const routerType = useRouterType();\n  const { resource, resources } = useResource();\n  const { pathname } = useParsed();\n  const { useLocation } = useRouterContext();\n  const { pathname: legacyPath } = useLocation();\n  const getFriendlyName = useUserFriendlyName();\n\n  const cleanPathname =\n    routerType === \"legacy\"\n      ? getCleanPath(legacyPath)\n      : pathname\n        ? getCleanPath(pathname)\n        : undefined;\n\n  const cleanRoute = `/${(cleanPathname ?? \"\").replace(/^\\//, \"\")}`;\n\n  const selectedKey = resource\n    ? createResourceKey(resource, resources, routerType === \"legacy\")\n    : cleanRoute ?? \"\";\n\n  const defaultOpenKeys = React.useMemo(() => {\n    if (!resource) return [];\n    let parent = getParentResource(resource, resources);\n    const keys = [createResourceKey(resource, resources)];\n    while (parent) {\n      keys.push(createResourceKey(parent, resources));\n      parent = getParentResource(parent, resources);\n    }\n    return keys;\n  }, []);\n\n  const prepareItem = React.useCallback(\n    (item: FlatTreeItem): TreeMenuItem | undefined => {\n      if (item?.meta?.hide ?? item?.options?.hide) return undefined;\n      if (!item?.list && item.children.length === 0) return undefined;\n\n      const composed = item.list\n        ? getToPath({\n            resource: item,\n            action: \"list\",\n            legacy: routerType === \"legacy\",\n            meta,\n          })\n        : undefined;\n\n      if (\n        hideOnMissingParameter &&\n        composed &&\n        composed.match(/(\\/|^):(.+?)(\\/|$){1}/)\n      )\n        return undefined;\n\n      return {\n        ...item,\n        route: composed,\n        icon: pickNotDeprecated(item.meta?.icon, item.options?.icon, item.icon),\n        label:\n          pickNotDeprecated(item?.meta?.label, item?.options?.label) ??\n          translate(\n            `${item.name}.${item.name}`,\n            getFriendlyName(item.name, \"plural\"),\n          ),\n      };\n    },\n    [routerType, meta, getToPath, translate, hideOnMissingParameter],\n  );\n\n  const treeItems = React.useMemo(() => {\n    const treeMenuItems = createTree(resources, routerType === \"legacy\");\n\n    // add paths to items and their nodes recursively\n    const prepare = (items: TreeMenuItem[]): TreeMenuItem[] => {\n      return items.flatMap((item) => {\n        const preparedNodes = prepare(item.children);\n        const newItem = prepareItem({\n          ...item,\n          children: preparedNodes,\n        });\n\n        if (!newItem) return [];\n\n        return [newItem];\n      });\n    };\n\n    return prepare(treeMenuItems);\n  }, [resources, routerType, prepareItem]);\n\n  return {\n    defaultOpenKeys,\n    selectedKey,\n    menuItems: treeItems,\n  };\n};\n", "import { IResourceItem } from \"../../../contexts/resource/types\";\nimport {\n  getParentResource,\n  removeLeadingTrailingSlashes,\n} from \"../../helpers/router\";\n\nexport const createResourceKey = (\n  resource: IResourceItem,\n  resources: IResourceItem[],\n  legacy = false,\n) => {\n  const parents: IResourceItem[] = [];\n\n  let currentParentResource = getParentResource(resource, resources);\n  while (currentParentResource) {\n    parents.push(currentParentResource);\n    currentParentResource = getParentResource(currentParentResource, resources);\n  }\n  parents.reverse();\n\n  const key = [...parents, resource]\n    .map((r) =>\n      removeLeadingTrailingSlashes(\n        (legacy ? r.route : undefined) ?? r.identifier ?? r.name,\n      ),\n    )\n    .join(\"/\");\n\n  return `/${key.replace(/^\\//, \"\")}`;\n};\n", "import { IResourceItem } from \"../../../contexts/resource/types\";\nimport { getParentResource } from \"../router\";\nimport { createResourceKey } from \"./create-resource-key\";\n\nexport type Tree = {\n  item: IResourceItem;\n  children: { [key: string]: Tree };\n};\n\nexport type FlatTreeItem = IResourceItem & {\n  key: string;\n  children: FlatTreeItem[];\n};\n\nexport const createTree = (\n  resources: IResourceItem[],\n  legacy = false,\n): FlatTreeItem[] => {\n  const root: Tree = {\n    item: {\n      name: \"__root__\",\n    },\n    children: {},\n  };\n\n  resources.forEach((resource) => {\n    const parents: IResourceItem[] = [];\n\n    let currentParent = getParentResource(resource, resources);\n    while (currentParent) {\n      parents.push(currentParent);\n      currentParent = getParentResource(currentParent, resources);\n    }\n    parents.reverse();\n\n    let currentTree = root;\n\n    parents.forEach((parent) => {\n      const key =\n        (legacy ? parent.route : undefined) ?? parent.identifier ?? parent.name;\n\n      if (!currentTree.children[key]) {\n        currentTree.children[key] = {\n          item: parent,\n          children: {},\n        };\n      }\n      currentTree = currentTree.children[key];\n    });\n\n    const key =\n      (legacy ? resource.route : undefined) ??\n      resource.identifier ??\n      resource.name;\n\n    if (!currentTree.children[key]) {\n      currentTree.children[key] = {\n        item: resource,\n        children: {},\n      };\n    }\n  });\n\n  const flatten = (tree: Tree): FlatTreeItem[] => {\n    const items: FlatTreeItem[] = [];\n\n    Object.keys(tree.children).forEach((key) => {\n      const itemKey = createResourceKey(\n        tree.children[key].item,\n        resources,\n        legacy,\n      );\n      const item: FlatTreeItem = {\n        ...tree.children[key].item,\n        key: itemKey,\n        children: flatten(tree.children[key]),\n      };\n      items.push(item);\n    });\n\n    return items;\n  };\n\n  return flatten(root);\n};\n", "import { sanitizeResource } from \"@definitions/helpers/sanitize-resource\";\nimport { useParsed } from \"@hooks/router\";\n\nimport { MetaQuery } from \"../../contexts/data/types\";\nimport { IResourceItem } from \"../../contexts/resource/types\";\n\n/**\n * Hook that returns a function to get meta.\n * The meta is a combination of the resource meta, hook meta and query params.\n * @internal\n */\nexport const useMeta = () => {\n  const { params } = useParsed();\n\n  const getMetaFn = ({\n    resource,\n    meta: metaFromProp,\n  }: {\n    resource?: IResourceItem;\n    meta?: MetaQuery;\n  } = {}) => {\n    const { meta } = sanitizeResource(resource) ?? { meta: {} };\n\n    // this fields came from the query params and should be removed from the meta because they are not part of the meta.\n    const {\n      filters: _filters,\n      sorters: _sorters,\n      current: _current,\n      pageSize: _pageSize,\n      ...additionalParams\n    } = params ?? {};\n\n    return { ...meta, ...additionalParams, ...metaFromProp };\n  };\n\n  return getMetaFn;\n};\n", "import { RefineContext } from \"@contexts/refine\";\nimport React from \"react\";\n\nexport const useRefineOptions = () => {\n  const { options } = React.useContext(RefineContext);\n\n  return options;\n};\n", "import React from \"react\";\n\nimport { useId } from \"./use-id\";\nimport { useAction } from \"./use-action\";\nimport { useResource } from \"../resource\";\nimport { BaseKey } from \"../../contexts/data/types\";\nimport { IResourceItem } from \"../../contexts/resource/types\";\nimport { Action } from \"../../contexts/router/types\";\nimport { FormAction } from \"../form/types\";\n\ntype Props = {\n  id?: BaseKey;\n  resource?: string;\n  action?: Action;\n};\n\ntype ResourceParams = {\n  id?: BaseKey;\n  setId: React.Dispatch<React.SetStateAction<BaseKey | undefined>>;\n  resource?: IResourceItem;\n  action?: Action;\n  identifier?: string;\n  formAction: FormAction;\n};\n\n/**\n * Interactions in Refine has 3 main parameters: resource, action and id.\n *\n * This hook is used to manage these parameters based on below conditions and outputs the final parameters.\n *\n * `resource`: The resource to be used. (either the identifier or the name of the resource)\n * - If a `resource` is provided, it will be used (even if it's not defined in the <Refine/> component)\n * - If a `resource` is not provided, it will be inferred from the route.\n * `id`: The `id` of the record to be used.\n * - If an `id` is provided, it will be used.\n * - If an `id` is not provided, it will either be inferred from the route or will be `undefined`.\n * -- If a custom resource is provided and it's different from the inferred resource, the id will be undefined.\n * -- If a custom resource is provided and it's same as the inferred resource, the id will be inferred from the route.\n * -- If a custom resource is not provided, the id will be inferred from the route.\n * `action`: The action to be used.\n * - If an `action` is provided, it will be used.\n * - If an `action` is not provided, it will be inferred from the route.\n * `formAction`: The action to be used in the form.\n * - `formAction` can only be \"edit\", \"clone\" or \"create\".\n * - If action is \"edit\" or \"clone\", `formAction` will be the same as action.\n * - Same as `id`, if passed resource is different from inferred resource, `formAction` will fallback to \"create\" and ignore the action from the route.\n */\nexport function useResourceParams(props?: Props): ResourceParams {\n  const { select, identifier: inferredIdentifier } = useResource();\n  const resourceToCheck = props?.resource ?? inferredIdentifier;\n  const { identifier = undefined, resource = undefined } = resourceToCheck\n    ? select(resourceToCheck, true)\n    : {};\n\n  const isSameResource = inferredIdentifier === identifier;\n  const inferredId = useId();\n  const action = useAction(props?.action);\n\n  const defaultId = React.useMemo(() => {\n    if (!isSameResource) return props?.id;\n\n    return props?.id ?? inferredId;\n  }, [isSameResource, props?.id, inferredId]);\n\n  const [id, setId] = React.useState<BaseKey | undefined>(defaultId);\n\n  React.useEffect(() => setId(defaultId), [defaultId]);\n\n  const formAction = React.useMemo(() => {\n    if (!isSameResource && !props?.action) {\n      return \"create\";\n    }\n\n    if (action === \"edit\" || action === \"clone\") {\n      return action;\n    }\n\n    return \"create\";\n  }, [action, isSameResource, props?.action]);\n\n  return {\n    id,\n    setId,\n    resource,\n    action,\n    identifier,\n    formAction,\n  };\n}\n", "import { useParsed } from \"../../router/use-parsed\";\nimport { useRouterContext } from \"../../legacy-router/useRouterContext\";\nimport { BaseKey } from \"../../../contexts/data/types\";\nimport { useRouterType } from \"../../../contexts/router/picker\";\nimport { ResourceRouterParams } from \"../../../contexts/router/legacy/types\";\n\n/**\n * Returns the id from the router regardless of the router type.\n * In legacy routers, `useParsed` won't work and in the new router bindings, `useParams` won't work.\n * To make it easier to get the id from the router, this hook can be used.\n *\n * Additionally, if an id is provided as a parameter, it will be used instead of the inferred id.\n *\n * @internal usage only\n */\nexport const useId = (id?: BaseKey) => {\n  const routerType = useRouterType();\n  const { useParams } = useRouterContext();\n\n  const parsed = useParsed();\n  const legacyParams = useParams<Partial<ResourceRouterParams>>();\n\n  const inferredId = routerType === \"legacy\" ? legacyParams.id : parsed.id;\n\n  return id ?? inferredId;\n};\n", "import { useParsed } from \"../../router/use-parsed\";\nimport { useRouterContext } from \"../../legacy-router/useRouterContext\";\nimport { Action } from \"../../../contexts/router/types\";\nimport { useRouterType } from \"../../../contexts/router/picker\";\nimport { ResourceRouterParams } from \"../../../contexts/router/legacy/types\";\n\n/**\n * Returns the action from the router regardless of the router type.\n * In legacy routers, `useParsed` won't work and in the new router bindings, `useParams` won't work.\n * To make it easier to get the action from the router, this hook can be used.\n *\n * Additionally, if an action is provided as a parameter, it will be used instead of the inferred action.\n *\n * @internal usage only\n */\nexport const useAction = (action?: Action) => {\n  const routerType = useRouterType();\n  const { useParams } = useRouterContext();\n\n  const parsed = useParsed();\n  const legacyParams = useParams<Partial<ResourceRouterParams>>();\n\n  const inferredAction =\n    routerType === \"legacy\" ? legacyParams.action : parsed.action;\n\n  return action ?? inferredAction;\n};\n", "import { useRefineOptions } from \"../../use-refine-options\";\nimport { useTranslate } from \"../../i18n\";\n\nexport type ActionableButtonProps = {\n  type: \"save\" | \"export\" | \"import\";\n};\n\nexport type ActionableButtonValues = {\n  label: string;\n};\n\nexport function useActionableButton({\n  type,\n}: ActionableButtonProps): ActionableButtonValues {\n  const translate = useTranslate();\n  const {\n    textTransformers: { humanize },\n  } = useRefineOptions();\n\n  const key = `buttons.${type}`;\n  const fallback = humanize(type);\n\n  const label = translate(key, fallback);\n\n  return { label };\n}\n", "import React from \"react\";\n\nimport { useUserFriendlyName } from \"../../../definitions/helpers/useUserFriendlyName\";\nimport { useRouterType } from \"../../../contexts/router/picker\";\nimport { useResourceParams } from \"../../use-resource-params\";\nimport { useRefineOptions } from \"../../use-refine-options\";\nimport { useButtonCanAccess } from \"../button-can-access\";\nimport { useRouterContext } from \"../../legacy-router\";\nimport { useNavigation } from \"../../navigation\";\nimport { useTranslate } from \"../../i18n\";\nimport { useLink } from \"../../router\";\n\nimport type { BaseKey } from \"../../../contexts/data/types\";\nimport type { Action } from \"../../../contexts/router/types\";\nimport type { CanReturnType } from \"../../../contexts/accessControl/types\";\n\nexport type NavigationButtonProps = {\n  action: Action;\n  id?: BaseKey;\n  resource?: string;\n  meta?: Record<string, unknown>;\n  accessControl?: {\n    enabled?: boolean;\n    hideIfUnauthorized?: boolean;\n  };\n};\n\nexport type NavigationButtonValues = {\n  to: string;\n  label: string;\n  disabled: boolean;\n  title: string;\n  hidden: boolean;\n  canAccess: CanReturnType | undefined;\n  LinkComponent: React.ComponentType<\n    React.PropsWithChildren<{\n      // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n      [prop: string]: any;\n      to: string;\n    }>\n  >;\n};\n\nexport function useNavigationButton(\n  props: NavigationButtonProps,\n): NavigationButtonValues {\n  const navigation = useNavigation();\n  const routerType = useRouterType();\n  const Link = useLink();\n  const { Link: LegacyLink } = useRouterContext();\n  const translate = useTranslate();\n  const getUserFriendlyName = useUserFriendlyName();\n  const {\n    textTransformers: { humanize },\n  } = useRefineOptions();\n\n  const { id, resource, identifier } = useResourceParams({\n    resource: props.resource,\n    id: props.action === \"create\" ? undefined : props.id,\n  });\n\n  const { canAccess, title, hidden, disabled } = useButtonCanAccess({\n    action: props.action,\n    accessControl: props.accessControl,\n    id,\n    resource,\n  });\n\n  const LinkComponent = routerType === \"legacy\" ? LegacyLink : Link;\n\n  const to = React.useMemo(() => {\n    if (!resource) return \"\";\n    switch (props.action) {\n      case \"create\":\n      case \"list\":\n        return navigation[`${props.action}Url`](resource, props.meta);\n      default:\n        if (!id) return \"\";\n        return navigation[`${props.action}Url`](resource, id, props.meta);\n    }\n  }, [resource, id, props.meta, navigation[`${props.action}Url`]]);\n\n  const label =\n    props.action === \"list\"\n      ? translate(\n          `${identifier ?? props.resource}.titles.list`,\n          getUserFriendlyName(\n            resource?.meta?.label ??\n              resource?.label ??\n              identifier ??\n              props.resource,\n            \"plural\",\n          ),\n        )\n      : translate(`buttons.${props.action}`, humanize(props.action));\n\n  return {\n    to,\n    label,\n    title,\n    disabled,\n    hidden,\n    canAccess,\n    LinkComponent,\n  };\n}\n", "import React from \"react\";\n\nimport { AccessControlContext } from \"../../../contexts/accessControl\";\nimport { useCan } from \"../../accessControl\";\nimport { useTranslate } from \"../../i18n\";\n\nimport type { CanReturnType } from \"../../../contexts/accessControl/types\";\nimport type { IResourceItem } from \"../../../contexts/resource/types\";\nimport type { Action } from \"../../../contexts/router/types\";\nimport type { BaseKey } from \"../../../contexts/data/types\";\n\ntype ButtonCanAccessProps = {\n  action: Action | \"delete\";\n  resource?: IResourceItem;\n  id?: BaseKey;\n  accessControl?: {\n    enabled?: boolean;\n    hideIfUnauthorized?: boolean;\n  };\n};\n\ntype ButtonCanAccessValues = {\n  title: string;\n  hidden: boolean;\n  disabled: boolean;\n  canAccess: CanReturnType | undefined;\n};\n\nexport const useButtonCanAccess = (\n  props: ButtonCanAccessProps,\n): ButtonCanAccessValues => {\n  const translate = useTranslate();\n  const accessControlContext = React.useContext(AccessControlContext);\n\n  const accessControlEnabled =\n    props.accessControl?.enabled ??\n    accessControlContext.options.buttons.enableAccessControl;\n\n  const hideIfUnauthorized =\n    props.accessControl?.hideIfUnauthorized ??\n    accessControlContext.options.buttons.hideIfUnauthorized;\n\n  const { data: canAccess } = useCan({\n    resource: props.resource?.name,\n    action: props.action === \"clone\" ? \"create\" : props.action,\n    params: { id: props.id, resource: props.resource },\n    queryOptions: {\n      enabled: accessControlEnabled,\n    },\n  });\n\n  const title = React.useMemo(() => {\n    if (canAccess?.can) return \"\";\n    if (canAccess?.reason) return canAccess.reason;\n\n    return translate(\n      \"buttons.notAccessTitle\",\n      \"You don't have permission to access\",\n    );\n  }, [canAccess?.can, canAccess?.reason, translate]);\n\n  const hidden = accessControlEnabled && hideIfUnauthorized && !canAccess?.can;\n\n  const disabled = canAccess?.can === false;\n\n  return {\n    title,\n    hidden,\n    disabled,\n    canAccess,\n  };\n};\n", "import { useTranslate } from \"../../i18n\";\nimport { useDelete } from \"../../data/useDelete\";\nimport { useButtonCanAccess } from \"../button-can-access\";\nimport { useResourceParams } from \"../../use-resource-params\";\nimport { useMutationMode, useWarnAboutChange } from \"../../refine\";\n\nimport type { BaseKey, DeleteOneResponse } from \"../../../contexts/data/types\";\nimport type { CanReturnType } from \"../../../contexts/accessControl/types\";\nimport type { DeleteParams } from \"../../data/useDelete\";\n\nexport type DeleteButtonProps = {\n  resource?: string;\n  id?: BaseKey;\n  dataProviderName?: string;\n  meta?: Record<string, unknown>;\n  accessControl?: {\n    enabled?: boolean;\n    hideIfUnauthorized?: boolean;\n  };\n  onSuccess?: (value: DeleteOneResponse) => void;\n} & Pick<\n  DeleteParams<any, any, any>,\n  \"mutationMode\" | \"successNotification\" | \"errorNotification\" | \"invalidates\"\n>;\n\nexport type DeleteButtonValues = {\n  label: string;\n  title: string;\n  hidden: boolean;\n  loading: boolean;\n  disabled: boolean;\n  canAccess: CanReturnType | undefined;\n  confirmOkLabel: string;\n  cancelLabel: string;\n  confirmTitle: string;\n  onConfirm: () => void;\n};\n\nexport function useDeleteButton(props: DeleteButtonProps): DeleteButtonValues {\n  const translate = useTranslate();\n  const { mutate, isLoading, variables } = useDelete();\n  const { setWarnWhen } = useWarnAboutChange();\n  const { mutationMode } = useMutationMode(props.mutationMode);\n\n  const { id, resource, identifier } = useResourceParams({\n    resource: props.resource,\n    id: props.id,\n  });\n\n  const { title, disabled, hidden, canAccess } = useButtonCanAccess({\n    action: \"delete\",\n    accessControl: props.accessControl,\n    id,\n    resource,\n  });\n\n  const label = translate(\"buttons.delete\", \"Delete\");\n\n  const confirmOkLabel = translate(\"buttons.delete\", \"Delete\");\n\n  const confirmTitle = translate(\"buttons.confirm\", \"Are you sure?\");\n\n  const cancelLabel = translate(\"buttons.cancel\", \"Cancel\");\n\n  const loading = id === variables?.id && isLoading;\n\n  const onConfirm = () => {\n    if (id && identifier) {\n      setWarnWhen(false);\n      mutate(\n        {\n          id,\n          resource: identifier,\n          mutationMode,\n          successNotification: props.successNotification,\n          errorNotification: props.errorNotification,\n          meta: props.meta,\n          metaData: props.meta,\n          dataProviderName: props.dataProviderName,\n          invalidates: props.invalidates,\n        },\n        {\n          onSuccess: props.onSuccess,\n        },\n      );\n    }\n  };\n\n  return {\n    label,\n    title,\n    hidden,\n    disabled,\n    canAccess,\n    loading,\n    confirmOkLabel,\n    cancelLabel,\n    confirmTitle,\n    onConfirm,\n  };\n}\n", "import { useQueryClient } from \"@tanstack/react-query\";\n\nimport { useTranslate } from \"../../i18n\";\nimport { useInvalidate } from \"../../invalidate\";\nimport { useResourceParams } from \"../../use-resource-params\";\nimport { useResource } from \"../../resource\";\nimport { useKeys } from \"../../useKeys\";\nimport { pickDataProvider } from \"../../../definitions\";\n\nimport type { BaseKey } from \"../../../contexts/data/types\";\n\nexport type RefreshButtonProps = {\n  resource?: string;\n  id?: BaseKey;\n  dataProviderName?: string;\n  meta?: Record<string, unknown>;\n};\n\nexport type RefreshButtonValues = {\n  onClick: () => void;\n  label: string;\n  loading: boolean;\n};\n\nexport function useRefreshButton(\n  props: RefreshButtonProps,\n): RefreshButtonValues {\n  const translate = useTranslate();\n  const { keys, preferLegacyKeys } = useKeys();\n\n  const queryClient = useQueryClient();\n  const invalidates = useInvalidate();\n\n  const { identifier, id } = useResourceParams({\n    resource: props.resource,\n    id: props.id,\n  });\n\n  const { resources } = useResource();\n\n  const loading = !!queryClient.isFetching({\n    queryKey: keys()\n      .data(pickDataProvider(identifier, props.dataProviderName, resources))\n      .resource(identifier)\n      .action(\"one\")\n      .get(preferLegacyKeys),\n  });\n\n  const onClick = () => {\n    invalidates({\n      id,\n      invalidates: [\"detail\"],\n      dataProviderName: props.dataProviderName,\n      resource: identifier,\n    });\n  };\n\n  const label = translate(\"buttons.refresh\", \"Refresh\");\n\n  return {\n    onClick,\n    label,\n    loading,\n  };\n}\n", "import { useActionableButton } from \"./actionable-button\";\nimport { useNavigationButton } from \"./navigation-button\";\n\nimport type { NavigationButtonProps } from \"./navigation-button\";\nimport type { Prettify } from \"../../contexts/data/types\";\n\nexport { useDeleteButton } from \"./delete-button\";\n\nexport { useRefreshButton } from \"./refresh-button\";\n\nexport const useShowButton = (\n  props: Prettify<Omit<NavigationButtonProps, \"action\">>,\n) => useNavigationButton({ ...props, action: \"show\" });\n\nexport const useEditButton = (\n  props: Prettify<Omit<NavigationButtonProps, \"action\">>,\n) => useNavigationButton({ ...props, action: \"edit\" });\n\nexport const useCloneButton = (\n  props: Prettify<Omit<NavigationButtonProps, \"action\">>,\n) => useNavigationButton({ ...props, action: \"clone\" });\n\nexport const useCreateButton = (\n  props: Prettify<Omit<NavigationButtonProps, \"action\" | \"id\">>,\n) => useNavigationButton({ ...props, action: \"create\" });\n\nexport const useListButton = (\n  props: Prettify<Omit<NavigationButtonProps, \"action\" | \"id\">>,\n) => useNavigationButton({ ...props, action: \"list\" });\n\nexport const useSaveButton = () => useActionableButton({ type: \"save\" });\n\nexport const useExportButton = () => useActionableButton({ type: \"export\" });\n\nexport const useImportButton = () => useActionableButton({ type: \"import\" });\n", "import React, { useState } from \"react\";\n\nimport { useLogin, useTranslate } from \"@hooks\";\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\nexport interface ILoginForm {\n  username: string;\n  password: string;\n}\n\n/**\n * @deprecated LoginPage is deprecated. Use AuthPage instead. @see {@link https://refine.dev/docs/core/components/auth-page} for more details.\n * **refine** has a default login page form which is served on `/login` route when the `authProvider` configuration is provided.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/components/refine-config/#loginpage} for more details.\n */\nexport const LoginPage: React.FC = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const translate = useTranslate();\n\n  const authProvider = useActiveAuthProvider();\n  const { mutate: login } = useLogin<ILoginForm>({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n\n  return (\n    <>\n      <h1>{translate(\"pages.login.title\", \"Sign in your account\")}</h1>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          login({ username, password });\n        }}\n      >\n        <table>\n          <tbody>\n            <tr>\n              <td>\n                {translate(\"pages.login.username\", undefined, \"username\")}:\n              </td>\n              <td>\n                <input\n                  type=\"text\"\n                  size={20}\n                  autoCorrect=\"off\"\n                  spellCheck={false}\n                  autoCapitalize=\"off\"\n                  autoFocus\n                  required\n                  value={username}\n                  onChange={(e) => setUsername(e.target.value)}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td>\n                {translate(\"pages.login.password\", undefined, \"password\")}:\n              </td>\n              <td>\n                <input\n                  type=\"password\"\n                  required\n                  size={20}\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <br />\n        <input type=\"submit\" value=\"login\" />\n      </form>\n    </>\n  );\n};\n", "import React, {\n  DetailedHTMLProps,\n  HTMLAttributes,\n  FormHTMLAttributes,\n} from \"react\";\n\nimport {\n  ForgotPasswordPage,\n  LoginPage,\n  RegisterPage,\n  UpdatePasswordPage,\n} from \"./components\";\n\nimport { AuthPageProps } from \"./types\";\n\nexport type DivPropsType = DetailedHTMLProps<\n  HTMLAttributes<HTMLDivElement>,\n  HTMLDivElement\n>;\nexport type FormPropsType = DetailedHTMLProps<\n  FormHTMLAttributes<HTMLFormElement>,\n  HTMLFormElement\n>;\n\nexport type AuthProps = AuthPageProps<\n  DivPropsType,\n  DivPropsType,\n  FormPropsType\n>;\n\n/**\n * **refine** has a default auth page form which is served on `/login` route when the `authProvider` configuration is provided.\n * @param title is not implemented yet.\n * @see {@link https://refine.dev/docs/api-reference/core/components/auth-page/} for more details.\n */\nexport const AuthPage: React.FC<AuthProps> = (props) => {\n  const { type } = props;\n  const renderView = () => {\n    switch (type) {\n      case \"register\":\n        return <RegisterPage {...props} />;\n      case \"forgotPassword\":\n        return <ForgotPasswordPage {...props} />;\n      case \"updatePassword\":\n        return <UpdatePasswordPage {...props} />;\n      default:\n        return <LoginPage {...props} />;\n    }\n  };\n\n  return <>{renderView()}</>;\n};\n", "import React, { useState } from \"react\";\n\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\nimport { useLink, useLogin, useRouterContext, useRouterType } from \"@hooks\";\nimport { useTranslate } from \"@hooks/i18n\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { LoginFormTypes, LoginPageProps } from \"../../types\";\n\ntype LoginProps = LoginPageProps<DivPropsType, DivPropsType, FormPropsType>;\n\nexport const LoginPage: React.FC<LoginProps> = ({\n  providers,\n  registerLink,\n  forgotPasswordLink,\n  rememberMe,\n  contentProps,\n  wrapperProps,\n  renderContent,\n  formProps,\n  title = undefined,\n  hideForm,\n}) => {\n  const routerType = useRouterType();\n  const Link = useLink();\n  const { Link: LegacyLink } = useRouterContext();\n\n  const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link;\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [remember, setRemember] = useState(false);\n\n  const translate = useTranslate();\n\n  const authProvider = useActiveAuthProvider();\n  const { mutate: login } = useLogin<LoginFormTypes>({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n\n  const renderLink = (link: string, text?: string) => {\n    return <ActiveLink to={link}>{text}</ActiveLink>;\n  };\n\n  const renderProviders = () => {\n    if (providers) {\n      return providers.map((provider) => (\n        <div\n          key={provider.name}\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            marginBottom: \"1rem\",\n          }}\n        >\n          <button\n            onClick={() =>\n              login({\n                providerName: provider.name,\n              })\n            }\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n            }}\n          >\n            {provider?.icon}\n            {provider.label ?? <label>{provider.label}</label>}\n          </button>\n        </div>\n      ));\n    }\n    return null;\n  };\n\n  const content = (\n    <div {...contentProps}>\n      <h1 style={{ textAlign: \"center\" }}>\n        {translate(\"pages.login.title\", \"Sign in to your account\")}\n      </h1>\n      {renderProviders()}\n      {!hideForm && (\n        <>\n          <hr />\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n              login({ email, password, remember });\n            }}\n            {...formProps}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                padding: 25,\n              }}\n            >\n              <label htmlFor=\"email-input\">\n                {translate(\"pages.login.fields.email\", \"Email\")}\n              </label>\n              <input\n                id=\"email-input\"\n                name=\"email\"\n                type=\"text\"\n                size={20}\n                autoCorrect=\"off\"\n                spellCheck={false}\n                autoCapitalize=\"off\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n              <label htmlFor=\"password-input\">\n                {translate(\"pages.login.fields.password\", \"Password\")}\n              </label>\n              <input\n                id=\"password-input\"\n                type=\"password\"\n                name=\"password\"\n                required\n                size={20}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n              {rememberMe ?? (\n                <>\n                  <label htmlFor=\"remember-me-input\">\n                    {translate(\"pages.login.buttons.rememberMe\", \"Remember me\")}\n                    <input\n                      id=\"remember-me-input\"\n                      name=\"remember\"\n                      type=\"checkbox\"\n                      size={20}\n                      checked={remember}\n                      value={remember.toString()}\n                      onChange={() => {\n                        setRemember(!remember);\n                      }}\n                    />\n                  </label>\n                </>\n              )}\n              <br />\n              {forgotPasswordLink ??\n                renderLink(\n                  \"/forgot-password\",\n                  translate(\n                    \"pages.login.buttons.forgotPassword\",\n                    \"Forgot password?\",\n                  ),\n                )}\n              <input\n                type=\"submit\"\n                value={translate(\"pages.login.signin\", \"Sign in\")}\n              />\n              {registerLink ?? (\n                <span>\n                  {translate(\n                    \"pages.login.buttons.noAccount\",\n                    \"Don’t have an account?\",\n                  )}{\" \"}\n                  {renderLink(\n                    \"/register\",\n                    translate(\"pages.login.register\", \"Sign up\"),\n                  )}\n                </span>\n              )}\n            </div>\n          </form>\n        </>\n      )}\n      {registerLink !== false && hideForm && (\n        <div style={{ textAlign: \"center\" }}>\n          {translate(\"pages.login.buttons.noAccount\", \"Don’t have an account?\")}{\" \"}\n          {renderLink(\n            \"/register\",\n            translate(\"pages.login.register\", \"Sign up\"),\n          )}\n        </div>\n      )}\n    </div>\n  );\n\n  return (\n    <div {...wrapperProps}>\n      {renderContent ? renderContent(content, title) : content}\n    </div>\n  );\n};\n", "import React, { useState } from \"react\";\n\nimport {\n  useLink,\n  useRegister,\n  useRouterContext,\n  useRouterType,\n  useTranslate,\n} from \"@hooks\";\n\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { RegisterPageProps } from \"../../types\";\n\ntype RegisterProps = RegisterPageProps<\n  DivPropsType,\n  DivPropsType,\n  FormPropsType\n>;\n\nexport const RegisterPage: React.FC<RegisterProps> = ({\n  providers,\n  loginLink,\n  wrapperProps,\n  contentProps,\n  renderContent,\n  formProps,\n  title = undefined,\n  hideForm,\n}) => {\n  const routerType = useRouterType();\n  const Link = useLink();\n  const { Link: LegacyLink } = useRouterContext();\n\n  const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link;\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const translate = useTranslate();\n\n  const authProvider = useActiveAuthProvider();\n  const { mutate: register, isLoading } = useRegister({\n    v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n  });\n\n  const renderLink = (link: string, text?: string) => {\n    return <ActiveLink to={link}>{text}</ActiveLink>;\n  };\n\n  const renderProviders = () => {\n    if (providers) {\n      return providers.map((provider) => (\n        <div\n          key={provider.name}\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            marginBottom: \"1rem\",\n          }}\n        >\n          <button\n            onClick={() =>\n              register({\n                providerName: provider.name,\n              })\n            }\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n            }}\n          >\n            {provider?.icon}\n            {provider.label ?? <label>{provider.label}</label>}\n          </button>\n        </div>\n      ));\n    }\n    return null;\n  };\n\n  const content = (\n    <div {...contentProps}>\n      <h1 style={{ textAlign: \"center\" }}>\n        {translate(\"pages.register.title\", \"Sign up for your account\")}\n      </h1>\n      {renderProviders()}\n      {!hideForm && (\n        <>\n          <hr />\n          <form\n            onSubmit={(e) => {\n              e.preventDefault();\n              register({ email, password });\n            }}\n            {...formProps}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                padding: 25,\n              }}\n            >\n              <label htmlFor=\"email-input\">\n                {translate(\"pages.register.fields.email\", \"Email\")}\n              </label>\n              <input\n                id=\"email-input\"\n                name=\"email\"\n                type=\"email\"\n                size={20}\n                autoCorrect=\"off\"\n                spellCheck={false}\n                autoCapitalize=\"off\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n              <label htmlFor=\"password-input\">\n                {translate(\"pages.register.fields.password\", \"Password\")}\n              </label>\n              <input\n                id=\"password-input\"\n                name=\"password\"\n                type=\"password\"\n                required\n                size={20}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n              <input\n                type=\"submit\"\n                value={translate(\"pages.register.buttons.submit\", \"Sign up\")}\n                disabled={isLoading}\n              />\n              {loginLink ?? (\n                <>\n                  <span>\n                    {translate(\n                      \"pages.login.buttons.haveAccount\",\n                      \"Have an account?\",\n                    )}{\" \"}\n                    {renderLink(\n                      \"/login\",\n                      translate(\"pages.login.signin\", \"Sign in\"),\n                    )}\n                  </span>\n                </>\n              )}\n            </div>\n          </form>\n        </>\n      )}\n      {loginLink !== false && hideForm && (\n        <div style={{ textAlign: \"center\" }}>\n          {translate(\"pages.login.buttons.haveAccount\", \"Have an account?\")}{\" \"}\n          {renderLink(\"/login\", translate(\"pages.login.signin\", \"Sign in\"))}\n        </div>\n      )}\n    </div>\n  );\n\n  return (\n    <div {...wrapperProps}>\n      {renderContent ? renderContent(content, title) : content}\n    </div>\n  );\n};\n", "import React, { useState } from \"react\";\n\nimport {\n  useForgotPassword,\n  useLink,\n  useRouterContext,\n  useRouterType,\n  useTranslate,\n} from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { ForgotPasswordFormTypes, ForgotPasswordPageProps } from \"../../types\";\n\ntype ForgotPasswordProps = ForgotPasswordPageProps<\n  DivPropsType,\n  DivPropsType,\n  FormPropsType\n>;\n\nexport const ForgotPasswordPage: React.FC<ForgotPasswordProps> = ({\n  loginLink,\n  wrapperProps,\n  contentProps,\n  renderContent,\n  formProps,\n  title = undefined,\n}) => {\n  const translate = useTranslate();\n  const routerType = useRouterType();\n  const Link = useLink();\n  const { Link: LegacyLink } = useRouterContext();\n\n  const ActiveLink = routerType === \"legacy\" ? LegacyLink : Link;\n\n  const [email, setEmail] = useState(\"\");\n\n  const { mutate: forgotPassword, isLoading } =\n    useForgotPassword<ForgotPasswordFormTypes>();\n\n  const renderLink = (link: string, text?: string) => {\n    return <ActiveLink to={link}>{text}</ActiveLink>;\n  };\n\n  const content = (\n    <div {...contentProps}>\n      <h1 style={{ textAlign: \"center\" }}>\n        {translate(\"pages.forgotPassword.title\", \"Forgot your password?\")}\n      </h1>\n      <hr />\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          forgotPassword({ email });\n        }}\n        {...formProps}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: 25,\n          }}\n        >\n          <label htmlFor=\"email-input\">\n            {translate(\"pages.forgotPassword.fields.email\", \"Email\")}\n          </label>\n          <input\n            id=\"email-input\"\n            name=\"email\"\n            type=\"mail\"\n            autoCorrect=\"off\"\n            spellCheck={false}\n            autoCapitalize=\"off\"\n            required\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <input\n            type=\"submit\"\n            disabled={isLoading}\n            value={translate(\n              \"pages.forgotPassword.buttons.submit\",\n              \"Send reset instructions\",\n            )}\n          />\n          <br />\n          {loginLink ?? (\n            <span>\n              {translate(\n                \"pages.register.buttons.haveAccount\",\n                \"Have an account? \",\n              )}{\" \"}\n              {renderLink(\"/login\", translate(\"pages.login.signin\", \"Sign in\"))}\n            </span>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n\n  return (\n    <div {...wrapperProps}>\n      {renderContent ? renderContent(content, title) : content}\n    </div>\n  );\n};\n", "import React, { useState } from \"react\";\n\nimport { useActiveAuthProvider } from \"@definitions/helpers\";\nimport { useTranslate, useUpdatePassword } from \"@hooks\";\n\nimport { DivPropsType, FormPropsType } from \"../..\";\nimport { UpdatePasswordFormTypes, UpdatePasswordPageProps } from \"../../types\";\n\ntype UpdatePasswordProps = UpdatePasswordPageProps<\n  DivPropsType,\n  DivPropsType,\n  FormPropsType\n>;\n\nexport const UpdatePasswordPage: React.FC<UpdatePasswordProps> = ({\n  wrapperProps,\n  contentProps,\n  renderContent,\n  formProps,\n  title = undefined,\n}) => {\n  const translate = useTranslate();\n\n  const authProvider = useActiveAuthProvider();\n  const { mutate: updatePassword, isLoading } =\n    useUpdatePassword<UpdatePasswordFormTypes>({\n      v3LegacyAuthProviderCompatible: Boolean(authProvider?.isLegacy),\n    });\n\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const content = (\n    <div {...contentProps}>\n      <h1 style={{ textAlign: \"center\" }}>\n        {translate(\"pages.updatePassword.title\", \"Update Password\")}\n      </h1>\n      <hr />\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          updatePassword({\n            password: newPassword,\n            confirmPassword,\n          });\n        }}\n        {...formProps}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            padding: 25,\n          }}\n        >\n          <label htmlFor=\"password-input\">\n            {translate(\"pages.updatePassword.fields.password\", \"New Password\")}\n          </label>\n          <input\n            id=\"password-input\"\n            name=\"password\"\n            type=\"password\"\n            required\n            size={20}\n            value={newPassword}\n            onChange={(e) => setNewPassword(e.target.value)}\n          />\n          <label htmlFor=\"confirm-password-input\">\n            {translate(\n              \"pages.updatePassword.fields.confirmPassword\",\n              \"Confirm New Password\",\n            )}\n          </label>\n          <input\n            id=\"confirm-password-input\"\n            name=\"confirmPassword\"\n            type=\"password\"\n            required\n            size={20}\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          />\n          <input\n            type=\"submit\"\n            disabled={isLoading}\n            value={translate(\"pages.updatePassword.buttons.submit\", \"Update\")}\n          />\n        </div>\n      </form>\n    </div>\n  );\n\n  return (\n    <div {...wrapperProps}>\n      {renderContent ? renderContent(content, title) : content}\n    </div>\n  );\n};\n", "import React from \"react\";\n\n/**\n * **refine** shows a default ready page on root route when no `resources` is passed to the `<Refine>` component as a property.\n *\n * @deprecated `ReadyPage` is deprecated and will be removed in the next major release.\n */\nexport const ReadyPage: React.FC = () => {\n  return (\n    <>\n      <h1>Welcome on board</h1>\n      <p>Your configuration is completed.</p>\n      <p>\n        Now you can get started by adding your resources to the{\" \"}\n        <code>`resources`</code> property of <code>{\"`<Refine>`\"}</code>\n      </p>\n      <div style={{ display: \"flex\", gap: 8 }}>\n        <a href=\"https://refine.dev\" target=\"_blank\" rel=\"noreferrer\">\n          <button>Documentation</button>\n        </a>\n        <a href=\"https://refine.dev/examples\" target=\"_blank\" rel=\"noreferrer\">\n          <button>Examples</button>\n        </a>\n        <a href=\"https://discord.gg/refine\" target=\"_blank\" rel=\"noreferrer\">\n          <button>Community</button>\n        </a>\n      </div>\n    </>\n  );\n};\n", "import React from \"react\";\nimport { ConfigSuccessPage } from \"../config-success\";\nimport { useRefineContext } from \"@hooks/refine\";\nimport { ConfigErrorPage } from \"../config-error\";\n\nexport const WelcomePage = () => {\n  const { __initialized } = useRefineContext();\n\n  return (\n    <>\n      <ConfigSuccessPage />\n      {!__initialized && <ConfigErrorPage />}\n    </>\n  );\n};\n", "import React, { useState } from \"react\";\n\nimport { useMediaQuery } from \"@definitions/helpers\";\n\ntype CardInfo = {\n  title: string;\n  description: string;\n  link: string;\n  iconUrl: string;\n};\n\nconst cards: CardInfo[] = [\n  {\n    title: \"Documentation\",\n    description:\n      \"Learn about the technical details of using Refine in your projects.\",\n    link: \"https://refine.dev/docs\",\n    iconUrl:\n      \"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/book.svg\",\n  },\n  {\n    title: \"Tutorial\",\n    description:\n      \"Learn how to use Refine by building a fully-functioning CRUD app, from scratch to full launch.\",\n    link: \"https://refine.dev/tutorial\",\n    iconUrl:\n      \"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/hat.svg\",\n  },\n  {\n    title: \"Templates\",\n    description:\n      \"Explore a range of pre-built templates, perfect everything from admin panels to dashboards and CRMs.\",\n    link: \"https://refine.dev/templates\",\n    iconUrl:\n      \"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/application.svg\",\n  },\n  {\n    title: \"Community\",\n    description: \"Join our Discord community and keep up with the latest news.\",\n    link: \"https://discord.gg/refine\",\n    iconUrl:\n      \"https://refine.ams3.cdn.digitaloceanspaces.com/welcome-page/discord.svg\",\n  },\n];\n\n/**\n * It is a page that welcomes you after the configuration is completed.\n */\nexport const ConfigSuccessPage: React.FC = () => {\n  const isTablet = useMediaQuery(\"(max-width: 1010px)\");\n  const isMobile = useMediaQuery(\"(max-width: 650px)\");\n\n  const getGridTemplateColumns = () => {\n    if (isMobile) {\n      return \"1, 280px\";\n    }\n    if (isTablet) {\n      return \"2, 280px\";\n    }\n    return \"4, 1fr\";\n  };\n\n  const getHeaderFontSize = () => {\n    if (isMobile) {\n      return \"32px\";\n    }\n    if (isTablet) {\n      return \"40px\";\n    }\n    return \"48px\";\n  };\n\n  const getSubHeaderFontSize = () => {\n    if (isMobile) {\n      return \"16px\";\n    }\n    if (isTablet) {\n      return \"20px\";\n    }\n    return \"24px\";\n  };\n\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        zIndex: 10,\n        inset: 0,\n        overflow: \"auto\",\n        width: \"100dvw\",\n        height: \"100dvh\",\n      }}\n    >\n      <div\n        style={{\n          overflow: \"hidden\",\n          position: \"relative\",\n          backgroundSize: \"cover\",\n          backgroundRepeat: \"no-repeat\",\n          background: isMobile\n            ? \"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(88.89% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(88.89% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30\"\n            : isTablet\n              ? \"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(66.67% 50% at 50% 100%, rgba(38, 217, 127, 0.10) 0%, rgba(38, 217, 127, 0.00) 100%), radial-gradient(66.67% 50% at 50% 0%, rgba(71, 235, 235, 0.15) 0%, rgba(71, 235, 235, 0.00) 100%), #1D1E30\"\n              : \"url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/landing-noise.webp), radial-gradient(35.56% 50% at 50% 100%, rgba(38, 217, 127, 0.12) 0%, rgba(38, 217, 127, 0) 100%), radial-gradient(35.56% 50% at 50% 0%, rgba(71, 235, 235, 0.18) 0%, rgba(71, 235, 235, 0) 100%), #1D1E30\",\n          minHeight: \"100%\",\n          minWidth: \"100%\",\n          fontFamily: \"Arial\",\n          color: \"#FFFFFF\",\n        }}\n      >\n        <div\n          style={{\n            zIndex: 2,\n            position: \"absolute\",\n            width: isMobile ? \"400px\" : \"800px\",\n            height: \"552px\",\n            opacity: \"0.5\",\n            background:\n              \"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/welcome-page-hexagon.png)\",\n            backgroundRepeat: \"no-repeat\",\n            backgroundSize: \"contain\",\n            top: \"0\",\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n          }}\n        />\n        <div style={{ height: isMobile ? \"40px\" : \"80px\" }} />\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <div\n            style={{\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: isMobile ? \"112px 58px\" : \"224px 116px\",\n              backgroundImage:\n                \"url(https://refine.ams3.cdn.digitaloceanspaces.com/assets/refine-logo.svg)\",\n              width: isMobile ? 112 : 224,\n              height: isMobile ? 58 : 116,\n            }}\n          />\n        </div>\n        <div\n          style={{\n            height: isMobile ? \"120px\" : isTablet ? \"200px\" : \"30vh\",\n            minHeight: isMobile ? \"120px\" : isTablet ? \"200px\" : \"200px\",\n          }}\n        />\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: \"16px\",\n            textAlign: \"center\",\n          }}\n        >\n          <h1\n            style={{\n              fontSize: getHeaderFontSize(),\n              fontWeight: 700,\n              margin: \"0px\",\n            }}\n          >\n            Welcome Aboard!\n          </h1>\n          <h4\n            style={{\n              fontSize: getSubHeaderFontSize(),\n              fontWeight: 400,\n              margin: \"0px\",\n            }}\n          >\n            Your configuration is completed.\n          </h4>\n        </div>\n        <div style={{ height: \"64px\" }} />\n        <div\n          style={{\n            display: \"grid\",\n            gridTemplateColumns: `repeat(${getGridTemplateColumns()})`,\n            justifyContent: \"center\",\n            gap: \"48px\",\n            paddingRight: \"16px\",\n            paddingLeft: \"16px\",\n            paddingBottom: \"32px\",\n            maxWidth: \"976px\",\n            margin: \"auto\",\n          }}\n        >\n          {cards.map((card) => (\n            <Card key={`welcome-page-${card.title}`} card={card} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\ntype CardProps = {\n  card: CardInfo;\n};\n\nconst Card: React.FC<CardProps> = ({ card }) => {\n  const { title, description, iconUrl, link } = card;\n\n  const [isHover, setIsHover] = useState(false);\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"16px\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <a\n          onPointerEnter={() => setIsHover(true)}\n          onPointerLeave={() => setIsHover(false)}\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            color: \"#fff\",\n            textDecoration: \"none\",\n          }}\n          href={link}\n        >\n          <div\n            style={{\n              width: \"16px\",\n              height: \"16px\",\n              backgroundPosition: \"center\",\n              backgroundSize: \"contain\",\n              backgroundRepeat: \"no-repeat\",\n              backgroundImage: `url(${iconUrl})`,\n            }}\n          />\n          <span\n            style={{\n              fontSize: \"16px\",\n              fontWeight: 700,\n              marginLeft: \"13px\",\n              marginRight: \"14px\",\n            }}\n          >\n            {title}\n          </span>\n          <svg\n            style={{\n              transition:\n                \"transform 0.5s ease-in-out, opacity 0.2s ease-in-out\",\n              ...(isHover && {\n                transform: \"translateX(4px)\",\n                opacity: 1,\n              }),\n            }}\n            width=\"12\"\n            height=\"8\"\n            fill=\"none\"\n            opacity=\"0.5\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              d=\"M7.293.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L8.586 5H1a1 1 0 0 1 0-2h7.586L7.293 1.707a1 1 0 0 1 0-1.414Z\"\n              fill=\"#fff\"\n            />\n          </svg>\n        </a>\n      </div>\n      <span\n        style={{\n          fontSize: \"12px\",\n          opacity: 0.5,\n          lineHeight: \"16px\",\n        }}\n      >\n        {description}\n      </span>\n    </div>\n  );\n};\n", "import React from \"react\";\n\nexport const ConfigErrorPage = () => {\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        zIndex: 11,\n        inset: 0,\n        overflow: \"auto\",\n        width: \"100dvw\",\n        height: \"100dvh\",\n      }}\n    >\n      <div\n        style={{\n          width: \"100%\",\n          height: \"100%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          padding: \"24px\",\n          background: \"#14141FBF\",\n          backdropFilter: \"blur(3px)\",\n        }}\n      >\n        <div\n          style={{\n            maxWidth: \"640px\",\n            width: \"100%\",\n            background: \"#1D1E30\",\n            borderRadius: \"16px\",\n            border: \"1px solid #303450\",\n            boxShadow: \"0px 0px 120px -24px #000000\",\n          }}\n        >\n          <div\n            style={{\n              padding: \"16px 20px\",\n              borderBottom: \"1px solid #303450\",\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: \"8px\",\n              position: \"relative\",\n            }}\n          >\n            <ErrorGradient\n              style={{\n                position: \"absolute\",\n                left: 0,\n                top: 0,\n              }}\n            />\n            <div\n              style={{\n                lineHeight: \"24px\",\n                fontSize: \"16px\",\n                color: \"#FFFFFF\",\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: \"16px\",\n              }}\n            >\n              <ErrorIcon />\n              <span\n                style={{\n                  fontWeight: 400,\n                }}\n              >\n                Configuration Error\n              </span>\n            </div>\n          </div>\n          <div\n            style={{\n              padding: \"20px\",\n              color: \"#A3ADC2\",\n              lineHeight: \"20px\",\n              fontSize: \"14px\",\n              display: \"flex\",\n              flexDirection: \"column\",\n              gap: \"20px\",\n            }}\n          >\n            <p\n              style={{\n                margin: 0,\n                padding: 0,\n                lineHeight: \"28px\",\n                fontSize: \"16px\",\n              }}\n            >\n              <code\n                style={{\n                  display: \"inline-block\",\n                  background: \"#30345080\",\n                  padding: \"0 4px\",\n                  lineHeight: \"24px\",\n                  fontSize: \"16px\",\n                  borderRadius: \"4px\",\n                  color: \"#FFFFFF\",\n                }}\n              >\n                {\"<Refine />\"}\n              </code>{\" \"}\n              is not initialized. Please make sure you have it mounted in your\n              app and placed your components inside it.\n            </p>\n            <div>\n              <ExampleImplementation />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ExampleImplementation = () => {\n  return (\n    <pre\n      style={{\n        display: \"block\",\n        overflowX: \"auto\",\n        borderRadius: \"8px\",\n        fontSize: \"14px\",\n        lineHeight: \"24px\",\n        backgroundColor: \"#14141F\",\n        color: \"#E5ECF2\",\n        padding: \"16px\",\n        margin: \"0\",\n        maxHeight: \"400px\",\n        overflow: \"auto\",\n      }}\n    >\n      <span style={{ color: \"#FF7B72\" }}>import</span> {\"{\"} Refine, WelcomePage{\" \"}\n      {\"}\"} <span style={{ color: \"#FF7B72\" }}>from</span>{\" \"}\n      <span style={{ color: \"#A5D6FF\" }}>{'\"@refinedev/core\"'}</span>;{\"\\n\"}\n      {\"\\n\"}\n      <span style={{ color: \"#FF7B72\" }}>export</span>{\" \"}\n      <span style={{ color: \"#FF7B72\" }}>default</span>{\" \"}\n      <span>\n        <span style={{ color: \"#FF7B72\" }}>function</span>{\" \"}\n        <span style={{ color: \"#FFA657\" }}>App</span>\n        (\n        <span style={{ color: \"rgb(222, 147, 95)\" }} />){\" \"}\n      </span>\n      {\"{\"}\n      {\"\\n\"}\n      {\"  \"}\n      <span style={{ color: \"#FF7B72\" }}>return</span> ({\"\\n\"}\n      {\"    \"}\n      <span>\n        <span style={{ color: \"#79C0FF\" }}>\n          &lt;\n          <span style={{ color: \"#79C0FF\" }}>Refine</span>\n          {\"\\n\"}\n          {\"      \"}\n          <span style={{ color: \"#E5ECF2\", opacity: 0.6 }}>\n            {\"// \"}\n            <span>...</span>\n          </span>\n          {\"\\n\"}\n          {\"    \"}&gt;\n        </span>\n        {\"\\n\"}\n        {\"      \"}\n        <span style={{ opacity: 0.6 }}>\n          {\"{\"}\n          {\"/* ... */\"}\n          {\"}\"}\n        </span>\n        {\"\\n\"}\n        {\"      \"}\n        <span style={{ color: \"#79C0FF\" }}>\n          &lt;\n          <span style={{ color: \"#79C0FF\" }}>WelcomePage</span> /&gt;\n        </span>\n        {\"\\n\"}\n        {\"      \"}\n        <span style={{ opacity: 0.6 }}>\n          {\"{\"}\n          {\"/* ... */\"}\n          {\"}\"}\n        </span>\n        {\"\\n\"}\n        {\"    \"}\n        <span style={{ color: \"#79C0FF\" }}>\n          &lt;/\n          <span style={{ color: \"#79C0FF\" }}>Refine</span>\n          &gt;\n        </span>\n      </span>\n      {\"\\n\"}\n      {\"  \"});{\"\\n\"}\n      {\"}\"}\n    </pre>\n  );\n};\n\nconst ErrorGradient = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={204}\n    height={56}\n    viewBox=\"0 0 204 56\"\n    fill=\"none\"\n    {...props}\n  >\n    <path fill=\"url(#welcome-page-error-gradient-a)\" d=\"M12 0H0v12L12 0Z\" />\n    <path\n      fill=\"url(#welcome-page-error-gradient-b)\"\n      d=\"M28 0h-8L0 20v8L28 0Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-c)\"\n      d=\"M36 0h8L0 44v-8L36 0Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-d)\"\n      d=\"M60 0h-8L0 52v4h4L60 0Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-e)\"\n      d=\"M68 0h8L20 56h-8L68 0Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-f)\"\n      d=\"M92 0h-8L28 56h8L92 0Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-g)\"\n      d=\"M100 0h8L52 56h-8l56-56Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-h)\"\n      d=\"M124 0h-8L60 56h8l56-56Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-i)\"\n      d=\"M140 0h-8L76 56h8l56-56Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-j)\"\n      d=\"M132 0h8L84 56h-8l56-56Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-k)\"\n      d=\"M156 0h-8L92 56h8l56-56Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-l)\"\n      d=\"M164 0h8l-56 56h-8l56-56Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-m)\"\n      d=\"M188 0h-8l-56 56h8l56-56Z\"\n    />\n    <path\n      fill=\"url(#welcome-page-error-gradient-n)\"\n      d=\"M204 0h-8l-56 56h8l56-56Z\"\n    />\n    <defs>\n      <radialGradient\n        id=\"welcome-page-error-gradient-a\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-b\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-c\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-d\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-e\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-f\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-g\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-h\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-i\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-j\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-k\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-l\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-m\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n      <radialGradient\n        id=\"welcome-page-error-gradient-n\"\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"scale(124)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#FF4C4D\" stopOpacity={0.1} />\n        <stop offset={1} stopColor=\"#FF4C4D\" stopOpacity={0} />\n      </radialGradient>\n    </defs>\n  </svg>\n);\n\nconst ErrorIcon = (props: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={16}\n    height={16}\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    {...props}\n  >\n    <path\n      fill=\"#FF4C4D\"\n      fillRule=\"evenodd\"\n      d=\"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"#fff\"\n      fillRule=\"evenodd\"\n      d=\"M7 8a1 1 0 1 0 2 0V5a1 1 0 1 0-2 0v3Zm0 3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n", "import React from \"react\";\n\nimport { useQuerySubscription } from \"@refinedev/devtools-internal\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\n\nimport { ReadyPage as DefaultReadyPage, RouteChangeHandler } from \"@components\";\nimport { Telemetry } from \"@components/telemetry\";\nimport { handleRefineOptions } from \"@definitions\";\nimport { useDeepMemo } from \"@hooks/deepMemo\";\n\nimport { AccessControlContextProvider } from \"../../../contexts/accessControl\";\nimport { AuditLogContextProvider } from \"../../../contexts/auditLog\";\nimport {\n  AuthBindingsContextProvider,\n  LegacyAuthContextProvider,\n} from \"../../../contexts/auth\";\nimport { DataContextProvider } from \"../../../contexts/data\";\nimport { I18nContextProvider } from \"../../../contexts/i18n\";\nimport { LiveContextProvider } from \"../../../contexts/live\";\nimport { NotificationContextProvider } from \"../../../contexts/notification\";\nimport { RefineContextProvider } from \"../../../contexts/refine\";\nimport { ResourceContextProvider } from \"../../../contexts/resource\";\nimport { RouterContextProvider } from \"../../../contexts/router\";\nimport { LegacyRouterContextProvider } from \"../../../contexts/router/legacy\";\nimport { RouterPickerProvider } from \"../../../contexts/router/picker\";\nimport { UndoableQueueContextProvider } from \"../../../contexts/undoableQueue\";\nimport { UnsavedWarnContextProvider } from \"../../../contexts/unsavedWarn\";\n\nimport { RefineProps } from \"../../../contexts/refine/types\";\nimport { useRouterMisuseWarning } from \"../../../hooks/router/use-router-misuse-warning/index\";\n\n/**\n * {@link https://refine.dev/docs/api-reference/core/components/refine-config `<Refine> component`} is the entry point of a refine app.\n * It is where the highest level of configuration of the app occurs.\n * Only a dataProvider is required to bootstrap the app. After adding a dataProvider, resources can be added as property.\n *\n * @see {@link https://refine.dev/docs/api-reference/core/components/refine-config} for more details.\n */\nexport const Refine: React.FC<RefineProps> = ({\n  legacyAuthProvider,\n  authProvider,\n  dataProvider,\n  legacyRouterProvider,\n  routerProvider,\n  notificationProvider,\n  accessControlProvider,\n  auditLogProvider,\n  resources,\n  DashboardPage,\n  ReadyPage,\n  LoginPage,\n  catchAll,\n  children,\n  liveProvider,\n  i18nProvider,\n  Title,\n  Layout,\n  Sider,\n  Header,\n  Footer,\n  OffLayoutArea,\n  onLiveEvent,\n  options,\n}) => {\n  const {\n    optionsWithDefaults,\n    disableTelemetryWithDefault,\n    reactQueryWithDefaults,\n  } = handleRefineOptions({\n    options,\n  });\n\n  const queryClient = useDeepMemo(() => {\n    if (reactQueryWithDefaults.clientConfig instanceof QueryClient) {\n      return reactQueryWithDefaults.clientConfig;\n    }\n\n    return new QueryClient({\n      ...reactQueryWithDefaults.clientConfig,\n      defaultOptions: {\n        ...reactQueryWithDefaults.clientConfig.defaultOptions,\n        queries: {\n          refetchOnWindowFocus: false,\n          keepPreviousData: true,\n          ...reactQueryWithDefaults.clientConfig.defaultOptions?.queries,\n        },\n      },\n    });\n  }, [reactQueryWithDefaults.clientConfig]);\n\n  useQuerySubscription(queryClient);\n\n  const useNotificationProviderValues = React.useMemo(() => {\n    return typeof notificationProvider === \"function\"\n      ? notificationProvider\n      : () => notificationProvider;\n  }, [notificationProvider]);\n\n  const notificationProviderContextValues = useNotificationProviderValues();\n\n  /**\n   * Warn our users if they are using the old way of routing in the wrong prop.\n   */\n  useRouterMisuseWarning(routerProvider);\n  /** */\n\n  /**\n   * `<ReadyPage />` is only used in the legacy routing and is not used in the new routing.\n   * If `legacyRouterProvider` is provided and `routerProvider` is not, we'll check for the `resources` prop to be empty.\n   * If `resources` is empty, then we'll render `<ReadyPage />` component.\n   */\n  if (\n    legacyRouterProvider &&\n    !routerProvider &&\n    (resources ?? []).length === 0\n  ) {\n    return ReadyPage ? <ReadyPage /> : <DefaultReadyPage />;\n  }\n\n  /** Router\n   *\n   * Handle routing from `RouterContextProvider` and `router` prop for the brand new way\n   * If `router` is not provided, then we'r checking for `routerProvider` prop\n   * If `routerProvider` is provided, then `RouterContextProvider` is used\n   * If none of them is provided, then `RouterContextProvider` is used because it supports undefined router\n   *\n   * `RouterContextProvider` is skipped whenever possible and by this way,\n   * we can achieve backward compability only when its provided by user\n   *\n   */\n  const { RouterComponent = React.Fragment } = !routerProvider\n    ? legacyRouterProvider ?? {}\n    : {};\n  /** */\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <NotificationContextProvider {...notificationProviderContextValues}>\n        <LegacyAuthContextProvider\n          {...(legacyAuthProvider ?? {})}\n          isProvided={Boolean(legacyAuthProvider)}\n        >\n          <AuthBindingsContextProvider\n            {...(authProvider ?? {})}\n            isProvided={Boolean(authProvider)}\n          >\n            <DataContextProvider dataProvider={dataProvider}>\n              <LiveContextProvider liveProvider={liveProvider}>\n                <RouterPickerProvider\n                  value={\n                    legacyRouterProvider && !routerProvider ? \"legacy\" : \"new\"\n                  }\n                >\n                  <RouterContextProvider router={routerProvider}>\n                    <LegacyRouterContextProvider {...legacyRouterProvider}>\n                      <ResourceContextProvider resources={resources ?? []}>\n                        <I18nContextProvider i18nProvider={i18nProvider}>\n                          <AccessControlContextProvider\n                            {...(accessControlProvider ?? {})}\n                          >\n                            <AuditLogContextProvider\n                              {...(auditLogProvider ?? {})}\n                            >\n                              <UndoableQueueContextProvider>\n                                <RefineContextProvider\n                                  mutationMode={\n                                    optionsWithDefaults.mutationMode\n                                  }\n                                  warnWhenUnsavedChanges={\n                                    optionsWithDefaults.warnWhenUnsavedChanges\n                                  }\n                                  syncWithLocation={\n                                    optionsWithDefaults.syncWithLocation\n                                  }\n                                  Title={Title}\n                                  undoableTimeout={\n                                    optionsWithDefaults.undoableTimeout\n                                  }\n                                  catchAll={catchAll}\n                                  DashboardPage={DashboardPage}\n                                  LoginPage={LoginPage}\n                                  Layout={Layout}\n                                  Sider={Sider}\n                                  Footer={Footer}\n                                  Header={Header}\n                                  OffLayoutArea={OffLayoutArea}\n                                  hasDashboard={!!DashboardPage}\n                                  liveMode={optionsWithDefaults.liveMode}\n                                  onLiveEvent={onLiveEvent}\n                                  options={optionsWithDefaults}\n                                >\n                                  <UnsavedWarnContextProvider>\n                                    <RouterComponent>\n                                      {children}\n                                      {!disableTelemetryWithDefault && (\n                                        <Telemetry />\n                                      )}\n                                      <RouteChangeHandler />\n                                    </RouterComponent>\n                                  </UnsavedWarnContextProvider>\n                                </RefineContextProvider>\n                              </UndoableQueueContextProvider>\n                            </AuditLogContextProvider>\n                          </AccessControlContextProvider>\n                        </I18nContextProvider>\n                      </ResourceContextProvider>\n                    </LegacyRouterContextProvider>\n                  </RouterContextProvider>\n                </RouterPickerProvider>\n              </LiveContextProvider>\n            </DataContextProvider>\n          </AuthBindingsContextProvider>\n        </LegacyAuthContextProvider>\n      </NotificationContextProvider>\n    </QueryClientProvider>\n  );\n};\n", "import React from \"react\";\n\nimport { useTelemetryData } from \"@hooks/useTelemetryData\";\n\nimport { ITelemetryData } from \"./types\";\n\nconst encode = (payload: ITelemetryData): string | undefined => {\n  try {\n    const stringifiedPayload = JSON.stringify(payload || {});\n\n    if (typeof btoa !== \"undefined\") {\n      return btoa(stringifiedPayload);\n    }\n\n    return Buffer.from(stringifiedPayload).toString(\"base64\");\n  } catch (err) {\n    return undefined;\n  }\n};\n\nconst throughImage = (src: string) => {\n  const img = new Image();\n\n  img.src = src;\n};\n\nconst throughFetch = (src: string) => {\n  fetch(src);\n};\n\nconst transport = (src: string) => {\n  if (typeof Image !== \"undefined\") {\n    throughImage(src);\n  } else if (typeof fetch !== \"undefined\") {\n    throughFetch(src);\n  }\n};\n\nexport const Telemetry: React.FC<{}> = () => {\n  const payload = useTelemetryData();\n  const sent = React.useRef(false);\n\n  React.useEffect(() => {\n    if (sent.current) {\n      return;\n    }\n    const encoded = encode(payload);\n\n    if (!encoded) {\n      return;\n    }\n\n    transport(`https://telemetry.refine.dev/telemetry?payload=${encoded}`);\n    sent.current = true;\n  }, []);\n\n  return null;\n};\n", "import { useContext } from \"react\";\n\nimport { AccessControlContext } from \"@contexts/accessControl\";\nimport { AuditLogContext } from \"@contexts/auditLog\";\nimport { DataContext } from \"@contexts/data\";\nimport { I18nContext } from \"@contexts/i18n\";\nimport { LiveContext } from \"@contexts/live\";\nimport { NotificationContext } from \"@contexts/notification\";\nimport { LegacyRouterContext } from \"@contexts/router/legacy\";\nimport { useResource } from \"@hooks/resource\";\n\nimport { useIsExistAuthentication, useRefineContext } from \"..\";\nimport { ITelemetryData } from \"../../components/telemetry/types\";\n\n// It reads and updates from package.json during build. ref: tsup.config.ts\nconst REFINE_VERSION = \"4.49.2\";\n\nexport const useTelemetryData = (): ITelemetryData => {\n  const auth = useIsExistAuthentication();\n  const auditLogContext = useContext(AuditLogContext);\n  const { liveProvider } = useContext(LiveContext);\n  const routerContext = useContext(LegacyRouterContext);\n  const dataContext = useContext(DataContext);\n  const { i18nProvider } = useContext(I18nContext);\n  const notificationContext = useContext(NotificationContext);\n  const accessControlContext = useContext(AccessControlContext);\n  const { resources } = useResource();\n  const refineOptions = useRefineContext();\n\n  const auditLog =\n    !!auditLogContext.create ||\n    !!auditLogContext.get ||\n    !!auditLogContext.update;\n\n  const live =\n    !!liveProvider?.publish ||\n    !!liveProvider?.subscribe ||\n    !!liveProvider?.unsubscribe;\n\n  const router =\n    !!routerContext.useHistory ||\n    !!routerContext.Link ||\n    !!routerContext.Prompt ||\n    !!routerContext.useLocation ||\n    !!routerContext.useParams;\n\n  const data = !!dataContext;\n\n  const i18n =\n    !!i18nProvider?.changeLocale ||\n    !!i18nProvider?.getLocale ||\n    !!i18nProvider?.translate;\n\n  const notification =\n    !!notificationContext.close || !!notificationContext.open;\n\n  const accessControl = !!accessControlContext.can;\n\n  const projectId = refineOptions?.options?.projectId;\n\n  return {\n    providers: {\n      auth,\n      auditLog,\n      live,\n      router,\n      data,\n      i18n,\n      notification,\n      accessControl,\n    },\n    version: REFINE_VERSION,\n    resourceCount: resources.length,\n    projectId,\n  };\n};\n", "import { LegacyRouterProvider } from \"../../../contexts/router/legacy/types\";\nimport { RouterProvider } from \"../../../contexts/router/types\";\n\nexport const checkRouterPropMisuse = (\n  value: LegacyRouterProvider | RouterProvider,\n) => {\n  // check if `routerProvider` prop is passed with legacy properties.\n  // If yes, console.warn the user to use `legacyRuterProvider` prop instead.\n  const bindings = [\"go\", \"parse\", \"back\", \"Link\"];\n\n  // check if `value` contains properties other than `bindings`\n  const otherProps = Object.keys(value).filter(\n    (key) => !bindings.includes(key),\n  );\n\n  const hasOtherProps = otherProps.length > 0;\n\n  if (hasOtherProps) {\n    console.warn(\n      `Unsupported properties are found in \\`routerProvider\\` prop. You provided \\`${otherProps.join(\n        \", \",\n      )}\\`. Supported properties are \\`${bindings.join(\n        \", \",\n      )}\\`. You may wanted to use \\`legacyRouterProvider\\` prop instead.`,\n    );\n\n    return true;\n  }\n\n  return false;\n};\n", "import { checkRouterPropMisuse } from \"@definitions/helpers/check-router-prop-misuse\";\nimport React from \"react\";\nimport { RouterProvider } from \"../../../contexts/router/types\";\n\nexport const useRouterMisuseWarning = (value?: RouterProvider) => {\n  const warned = React.useRef(false);\n\n  React.useEffect(() => {\n    if (warned.current === false) {\n      if (value) {\n        const warn = checkRouterPropMisuse(value);\n        if (warn) {\n          warned.current = true;\n        }\n      }\n    }\n  }, [value]);\n};\n", "import React, { useEffect, useState } from \"react\";\n\nimport { useCancelNotification, useNotification, useTranslate } from \"@hooks\";\n\nimport { userFriendlySecond } from \"@definitions/helpers\";\nimport {\n  ActionTypes,\n  IUndoableQueue,\n} from \"../../contexts/undoableQueue/types\";\n\nexport const UndoableQueue: React.FC<{\n  notification: IUndoableQueue;\n}> = ({ notification }) => {\n  const translate = useTranslate();\n\n  const { notificationDispatch } = useCancelNotification();\n  const { open } = useNotification();\n\n  const [timeoutId, setTimeoutId] = useState<number | undefined>();\n\n  const cancelNotification = () => {\n    if (notification.isRunning === true) {\n      if (notification.seconds === 0) {\n        notification.doMutation();\n      }\n      if (!notification.isSilent) {\n        open?.({\n          key: `${notification.id}-${notification.resource}-notification`,\n          type: \"progress\",\n          message: translate(\n            \"notifications.undoable\",\n            {\n              seconds: userFriendlySecond(notification.seconds),\n            },\n            `You have ${userFriendlySecond(\n              notification.seconds,\n            )} seconds to undo`,\n          ),\n          cancelMutation: notification.cancelMutation,\n          undoableTimeout: userFriendlySecond(notification.seconds),\n        });\n      }\n\n      if (notification.seconds > 0) {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n\n        const newTimeoutId = setTimeout(() => {\n          notificationDispatch({\n            type: ActionTypes.DECREASE_NOTIFICATION_SECOND,\n            payload: {\n              id: notification.id,\n              seconds: notification.seconds,\n              resource: notification.resource,\n            },\n          });\n        }, 1000) as unknown as number;\n\n        setTimeoutId(newTimeoutId);\n      }\n    }\n  };\n\n  useEffect(() => {\n    cancelNotification();\n  }, [notification]);\n\n  return null;\n};\n", "import React, { useEffect } from \"react\";\n\nimport {\n  useRefineContext,\n  useRouterContext,\n  useTranslate,\n  useWarnAboutChange,\n} from \"@hooks\";\n\nimport { LayoutProps, TitleProps } from \"../../contexts/refine/types\";\n\nexport interface LayoutWrapperProps {\n  /**\n   * Outer component that renders other components\n   * @default *\n   */\n  Layout?: React.FC<LayoutProps>;\n  /**\n   * [Custom sider to use](/api-reference/core/components/refine-config.md#sider)\n   * @default *\n   */\n  Sider?: React.FC;\n  /**\n   * [Custom header to use](/api-reference/core/components/refine-config.md#header)\n   * @default *\n   */\n  Header?: React.FC;\n  /**\n   * [Custom title to use](/api-reference/core/components/refine-config.md#title)\n   * @default *\n   */\n  Title?: React.FC<TitleProps>;\n  /**\n   * [Custom footer to use](/api-reference/core/components/refine-config.md#footer)\n   * @default *\n   */\n  Footer?: React.FC;\n  /**\n   * [Custom off layout area to use](/api-reference/core/components/refine-config.md#offlayoutarea)\n   * @default *\n   */\n  OffLayoutArea?: React.FC;\n  children: React.ReactNode;\n}\n\n/**\n * `<LayoutWrapper>` wraps its contents in **refine's** layout with all customizations made in {@link https://refine.dev/docs/core/components/refine-config `<Refine>`} component.\n * It is the default layout used in resource pages.\n * It can be used in custom pages to use global layout.\n *\n * @see {@link https://refine.dev/docs/core/components/layout-wrapper} for more details.\n *\n * @deprecated This component is obsolete and only works with the legacy router providers.\n */\nexport const LayoutWrapper: React.FC<LayoutWrapperProps> = ({\n  children,\n  Layout: LayoutFromProps,\n  Sider: SiderFromProps,\n  Header: HeaderFromProps,\n  Title: TitleFromProps,\n  Footer: FooterFromProps,\n  OffLayoutArea: OffLayoutAreaFromProps,\n}) => {\n  const { Layout, Footer, Header, Sider, Title, OffLayoutArea } =\n    useRefineContext();\n\n  const LayoutToRender = LayoutFromProps ?? Layout;\n\n  return (\n    <LayoutToRender\n      Sider={SiderFromProps ?? Sider}\n      Header={HeaderFromProps ?? Header}\n      Footer={FooterFromProps ?? Footer}\n      Title={TitleFromProps ?? Title}\n      OffLayoutArea={OffLayoutAreaFromProps ?? OffLayoutArea}\n    >\n      {children}\n      <UnsavedPrompt />\n    </LayoutToRender>\n  );\n};\n\nconst UnsavedPrompt: React.FC = () => {\n  const { Prompt } = useRouterContext();\n\n  const translate = useTranslate();\n\n  const { warnWhen, setWarnWhen } = useWarnAboutChange();\n\n  const warnWhenListener = (e: {\n    preventDefault: () => void;\n    returnValue: string;\n  }) => {\n    e.preventDefault();\n\n    e.returnValue = translate(\n      \"warnWhenUnsavedChanges\",\n      \"Are you sure you want to leave? You have unsaved changes.\",\n    );\n\n    return e.returnValue;\n  };\n\n  useEffect(() => {\n    if (warnWhen) {\n      window.addEventListener(\"beforeunload\", warnWhenListener);\n    }\n\n    return window.removeEventListener(\"beforeunload\", warnWhenListener);\n  }, [warnWhen]);\n\n  return (\n    <Prompt\n      when={warnWhen}\n      message={translate(\n        \"warnWhenUnsavedChanges\",\n        \"Are you sure you want to leave? You have unsaved changes.\",\n      )}\n      setWarnWhen={setWarnWhen}\n    />\n  );\n};\n", "import React from \"react\";\n\nimport { useActiveAuthProvider } from \"@definitions/index\";\nimport {\n  useGo,\n  useIsAuthenticated,\n  useNavigation,\n  useParsed,\n  useRouterContext,\n  useRouterType,\n} from \"@hooks\";\nimport { GoConfig } from \"../../contexts/router/types\";\n\nexport type AuthenticatedCommonProps = {\n  /**\n   * Unique key to identify the component.\n   * This is required if you have multiple `Authenticated` components at the same level.\n   * @required\n   */\n  key: React.Key;\n  /**\n   * Whether to redirect user if not logged in or not.\n   * If not set, user will be redirected to `redirectTo` property of the `check` function's response.\n   * This behavior is only available for new auth providers.\n   * Legacy auth providers will redirect to `/login` by default if this property is not set.\n   * If set to a string, user will be redirected to that string.\n   *\n   * This property only works if `fallback` is **not set**.\n   */\n  redirectOnFail?: string | true;\n  /**\n   * Whether to append current path to search params of the redirect url at `to` property.\n   *\n   * By default, `to` parameter is used by successful invocations of the `useLogin` hook.\n   * If `to` present, it will be used as the redirect url after successful login.\n   */\n  appendCurrentPathToQuery?: boolean;\n  /**\n   * Content to show if user is not logged in.\n   */\n  fallback?: React.ReactNode;\n  /**\n   * Content to show while checking whether user is logged in or not.\n   */\n  loading?: React.ReactNode;\n  /**\n   * Content to show if user is logged in\n   */\n  children?: React.ReactNode;\n};\n\nexport type LegacyAuthenticatedProps = {\n  v3LegacyAuthProviderCompatible: true;\n} & AuthenticatedCommonProps;\n\nexport type AuthenticatedProps = {\n  v3LegacyAuthProviderCompatible?: false;\n} & AuthenticatedCommonProps;\n\n/**\n * `<Authenticated>` is the component form of {@link https://refine.dev/docs/api-reference/core/hooks/auth/useAuthenticated `useAuthenticated`}. It internally uses `useAuthenticated` to provide it's functionality.\n *\n * @requires {@link https://react.dev/learn/rendering-lists#why-does-react-need-keys `key`} prop if you have multiple components at the same level.\n * In React, components don't automatically unmount and remount with prop changes, which is generally good for performance. However, for specific cases this can cause issues like unwanted content rendering (`fallback` or `children`). To solve this, assigning unique `key` values to each instance of component is necessary, forcing React to unmount and remount the component, rather than just updating its props.\n * @example\n *```tsx\n * <Authenticated key=\"dashboard\">\n *   <h1>Dashboard Page</h1>\n * </Authenticated>\n *```\n *\n * @see {@link https://refine.dev/docs/core/components/auth/authenticated `<Authenticated>`} component for more details.\n */\nexport function Authenticated(\n  props: LegacyAuthenticatedProps,\n): JSX.Element | null;\n\n/**\n * `<Authenticated>` is the component form of {@link https://refine.dev/docs/api-reference/core/hooks/auth/useAuthenticated `useAuthenticated`}. It internally uses `useAuthenticated` to provide it's functionality.\n *\n * @requires {@link https://react.dev/learn/rendering-lists#why-does-react-need-keys `key`} prop if you have multiple components at the same level.\n * In React, components don't automatically unmount and remount with prop changes, which is generally good for performance. However, for specific cases this can cause issues like unwanted content rendering (`fallback` or `children`). To solve this, assigning unique `key` values to each instance of component is necessary, forcing React to unmount and remount the component, rather than just updating its props.\n * @example\n *```tsx\n * <Authenticated key=\"dashboard\">\n *   <h1>Dashboard Page</h1>\n * </Authenticated>\n *```\n *\n * @see {@link https://refine.dev/docs/core/components/auth/authenticated `<Authenticated>`} component for more details.\n */\nexport function Authenticated(props: AuthenticatedProps): JSX.Element | null;\n\nexport function Authenticated({\n  redirectOnFail = true,\n  appendCurrentPathToQuery = true,\n  children,\n  fallback: fallbackContent,\n  loading: loadingContent,\n}: AuthenticatedProps | LegacyAuthenticatedProps): JSX.Element | null {\n  const activeAuthProvider = useActiveAuthProvider();\n  const routerType = useRouterType();\n\n  const hasAuthProvider = Boolean(activeAuthProvider?.isProvided);\n  const isLegacyAuth = Boolean(activeAuthProvider?.isLegacy);\n  const isLegacyRouter = routerType === \"legacy\";\n\n  const parsed = useParsed();\n  const go = useGo();\n  const { useLocation } = useRouterContext();\n  const legacyLocation = useLocation();\n\n  const {\n    isFetching,\n    isSuccess,\n    data: {\n      authenticated: isAuthenticatedStatus,\n      redirectTo: authenticatedRedirect,\n    } = {},\n  } = useIsAuthenticated({\n    v3LegacyAuthProviderCompatible: isLegacyAuth,\n  });\n\n  // Authentication status\n  const isAuthenticated = hasAuthProvider\n    ? isLegacyAuth\n      ? isSuccess\n      : isAuthenticatedStatus\n    : true;\n\n  // when there is no auth provider\n  if (!hasAuthProvider) {\n    return <>{children ?? null}</>;\n  }\n\n  // when checking authentication status\n  if (isFetching) {\n    return <>{loadingContent ?? null}</>;\n  }\n\n  // when user is authenticated return children\n  if (isAuthenticated) {\n    return <>{children ?? null}</>;\n  }\n  // when user is not authenticated redirect or render fallbackContent\n\n  // render fallbackContent if it is exist\n  if (typeof fallbackContent !== \"undefined\") {\n    return <>{fallbackContent ?? null}</>;\n  }\n  // if there is no fallbackContent, redirect page\n\n  // Redirect url to use. use redirectOnFail if it is set.\n  // Otherwise use redirectTo property of the check function's response.\n  // If both are not set, use `/login` as the default redirect url. (only for legacy auth providers)\n  const appliedRedirect = isLegacyAuth\n    ? typeof redirectOnFail === \"string\"\n      ? redirectOnFail\n      : \"/login\"\n    : typeof redirectOnFail === \"string\"\n      ? redirectOnFail\n      : (authenticatedRedirect as string | undefined);\n\n  // Current pathname to append to the redirect url.\n  // User will be redirected to this url after successful mutation. (like login)\n  const pathname = `${\n    isLegacyRouter ? legacyLocation?.pathname : parsed.pathname\n  }`.replace(/(\\?.*|#.*)$/, \"\");\n  // Redirect if appliedRedirect is set, otherwise return null.\n  //  Uses `replace` for legacy router and `go` for new router.\n  if (appliedRedirect) {\n    if (isLegacyRouter) {\n      const toQuery = appendCurrentPathToQuery\n        ? `?to=${encodeURIComponent(pathname)}`\n        : \"\";\n      return <RedirectLegacy to={`${appliedRedirect}${toQuery}`} />;\n    }\n    return (\n      <Redirect\n        config={{\n          to: appliedRedirect,\n          query: appendCurrentPathToQuery\n            ? {\n                to: parsed.params?.to\n                  ? parsed.params.to\n                  : go({\n                      to: pathname,\n                      options: { keepQuery: true },\n                      type: \"path\",\n                    }),\n              }\n            : undefined,\n          type: \"replace\",\n        }}\n      />\n    );\n  }\n\n  return null;\n}\n\nconst Redirect = ({ config }: { config: GoConfig }) => {\n  const go = useGo();\n\n  React.useEffect(() => {\n    go(config);\n  }, [go, config]);\n\n  return null;\n};\n\nconst RedirectLegacy = ({ to }: { to: string }) => {\n  const { replace } = useNavigation();\n\n  React.useEffect(() => {\n    replace(to);\n  }, [replace, to]);\n\n  return null;\n};\n", "import { useEffect } from \"react\";\nimport { useRouterContext } from \"@hooks\";\nimport { useLegacyAuthContext } from \"@contexts/auth\";\n\nexport const RouteChangeHandler: React.FC = () => {\n  const { useLocation } = useRouterContext();\n\n  const { checkAuth } = useLegacyAuthContext();\n  const location = useLocation();\n\n  useEffect(() => {\n    checkAuth?.().catch(() => false);\n  }, [location?.pathname]);\n\n  return null;\n};\n", "import React, { useEffect } from \"react\";\nimport { UseQueryOptions } from \"@tanstack/react-query\";\n\nimport { useCan, useResourceParams } from \"@hooks\";\n\nimport { CanReturnType } from \"../../contexts/accessControl/types\";\nimport { BaseKey } from \"../../contexts/data/types\";\nimport { IResourceItem, ITreeMenu } from \"../../contexts/resource/types\";\n\ntype CanParams = {\n  resource?: IResourceItem & { children?: ITreeMenu[] };\n  id?: BaseKey;\n  [key: string]: any;\n};\n\ntype OnUnauthorizedProps = {\n  resource?: string;\n  reason?: string;\n  action: string;\n  params: CanParams;\n};\n\ntype CanAccessBaseProps = {\n  /**\n   * Resource name for API data interactions\n   */\n  resource?: string;\n  /**\n   * Intended action on resource\n   */\n  action: string;\n  /**\n   * Parameters associated with the resource\n   * @type { resource?: [IResourceItem](https://refine.dev/docs/api-reference/core/interfaceReferences/#canparams), id?: [BaseKey](https://refine.dev/docs/api-reference/core/interfaceReferences/#basekey), [key: string]: any }\n   */\n  params?: CanParams;\n  /**\n   * Content to show if access control returns `false`\n   */\n  fallback?: React.ReactNode;\n  /**\n   * Callback function to be called if access control returns `can: false`\n   */\n  onUnauthorized?: (props: OnUnauthorizedProps) => void;\n  children: React.ReactNode;\n  queryOptions?: UseQueryOptions<CanReturnType>;\n};\n\ntype CanAccessWithoutParamsProps = {\n  [key in Exclude<\n    keyof CanAccessBaseProps,\n    \"fallback\" | \"children\"\n  >]?: undefined;\n} & {\n  [key in \"fallback\" | \"children\"]?: CanAccessBaseProps[key];\n};\n\nexport type CanAccessProps = CanAccessBaseProps | CanAccessWithoutParamsProps;\n\nexport const CanAccess: React.FC<CanAccessProps> = ({\n  resource: resourceFromProp,\n  action: actionFromProp,\n  params: paramsFromProp,\n  fallback,\n  onUnauthorized,\n  children,\n  queryOptions: componentQueryOptions,\n  ...rest\n}) => {\n  const {\n    id,\n    resource,\n    action: fallbackAction = \"\",\n  } = useResourceParams({\n    resource: resourceFromProp,\n    id: paramsFromProp?.id,\n  });\n\n  const action = actionFromProp ?? fallbackAction;\n\n  const params = paramsFromProp ?? {\n    id,\n    resource,\n  };\n\n  const { data } = useCan({\n    resource: resource?.name,\n    action,\n    params,\n    queryOptions: componentQueryOptions,\n  });\n\n  useEffect(() => {\n    if (onUnauthorized && data?.can === false) {\n      onUnauthorized({\n        resource: resource?.name,\n        action,\n        reason: data?.reason,\n        params,\n      });\n    }\n  }, [data?.can]);\n\n  if (data?.can) {\n    if (React.isValidElement(children)) {\n      const Children = React.cloneElement(children, rest);\n      return Children;\n    }\n\n    return <>{children}</>;\n  }\n\n  if (data?.can === false) {\n    return <>{fallback ?? null}</>;\n  }\n\n  return null;\n};\n", "import React, { SVGProps, useEffect } from \"react\";\nimport { CSSRules } from \"./styles\";\n\nconst text =\n  \"If you find Refine useful, you can contribute to its growth by giving it a star on GitHub\";\n\nexport const GitHubBanner = () => {\n  useEffect(() => {\n    const styleTag = document.createElement(\"style\");\n    document.head.appendChild(styleTag);\n    CSSRules.forEach((rule) =>\n      styleTag.sheet?.insertRule(rule, styleTag.sheet.cssRules.length),\n    );\n  }, []);\n\n  return (\n    <div\n      className=\"banner bg-top-announcement\"\n      style={{\n        width: \"100%\",\n        height: \"48px\",\n      }}\n    >\n      <div\n        style={{\n          position: \"relative\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          paddingLeft: \"200px\",\n          width: \"100%\",\n          maxWidth: \"100vw\",\n          height: \"100%\",\n          borderBottom: \"1px solid #47ebeb26\",\n        }}\n      >\n        <div\n          className=\"top-announcement-mask\"\n          style={{\n            position: \"absolute\",\n            left: 0,\n            top: 0,\n            width: \"100%\",\n            height: \"100%\",\n            borderBottom: \"1px solid #47ebeb26\",\n          }}\n        >\n          <div\n            style={{\n              position: \"relative\",\n              width: \"960px\",\n              height: \"100%\",\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              margin: \"0 auto\",\n            }}\n          >\n            <div\n              style={{\n                width: \"calc(50% - 300px)\",\n                height: \"100%\",\n                position: \"relative\",\n              }}\n            >\n              <GlowSmall\n                style={{\n                  animationDelay: \"1.5s\",\n                  position: \"absolute\",\n                  top: \"2px\",\n                  right: \"220px\",\n                }}\n                id={\"1\"}\n              />\n              <GlowSmall\n                style={{\n                  animationDelay: \"1s\",\n                  position: \"absolute\",\n                  top: \"8px\",\n                  right: \"100px\",\n                  transform: \"rotate(180deg)\",\n                }}\n                id={\"2\"}\n              />\n              <GlowBig\n                style={{\n                  position: \"absolute\",\n                  right: \"10px\",\n                }}\n                id={\"3\"}\n              />\n            </div>\n\n            <div\n              style={{\n                width: \"calc(50% - 300px)\",\n                height: \"100%\",\n                position: \"relative\",\n              }}\n            >\n              <GlowSmall\n                style={{\n                  animationDelay: \"2s\",\n                  position: \"absolute\",\n                  top: \"6px\",\n                  right: \"180px\",\n                  transform: \"rotate(180deg)\",\n                }}\n                id={\"4\"}\n              />\n              <GlowSmall\n                style={{\n                  animationDelay: \"0.5s\",\n                  transitionDelay: \"1.3s\",\n                  position: \"absolute\",\n                  top: \"2px\",\n                  right: \"40px\",\n                }}\n                id={\"5\"}\n              />\n              <GlowBig\n                style={{\n                  position: \"absolute\",\n                  right: \"-70px\",\n                }}\n                id={\"6\"}\n              />\n            </div>\n          </div>\n        </div>\n        <Text text={text} />\n      </div>\n    </div>\n  );\n};\n\nconst Text = ({ text }: { text: string }) => {\n  return (\n    <a\n      className=\"gh-link\"\n      href=\"https://s.refine.dev/github-support\"\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      style={{\n        position: \"absolute\",\n        height: \"100%\",\n        padding: \"0 60px\",\n        display: \"flex\",\n        flexWrap: \"nowrap\",\n        whiteSpace: \"nowrap\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        backgroundImage:\n          \"linear-gradient(90deg, rgba(31, 63, 72, 0.00) 0%, #1F3F48 10%, #1F3F48 90%, rgba(31, 63, 72, 0.00) 100%)\",\n      }}\n    >\n      <div\n        style={{\n          color: \"#fff\",\n          display: \"flex\",\n          flexDirection: \"row\",\n          gap: \"8px\",\n        }}\n      >\n        <span\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          ⭐️\n        </span>\n        <span\n          className=\"text\"\n          style={{\n            fontSize: \"16px\",\n            lineHeight: \"24px\",\n          }}\n        >\n          {text}\n        </span>\n        <span\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          ⭐️\n        </span>\n      </div>\n    </a>\n  );\n};\n\nconst GlowSmall = ({ style, ...props }: SVGProps<SVGSVGElement>) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={80}\n      height={40}\n      fill=\"none\"\n      style={{\n        opacity: 1,\n        animation: \"top-announcement-glow 1s ease-in-out infinite alternate\",\n        ...style,\n      }}\n    >\n      <circle cx={40} r={40} fill={`url(#${props.id}-a)`} fillOpacity={0.5} />\n      <defs>\n        <radialGradient\n          id={`${props.id}-a`}\n          cx={0}\n          cy={0}\n          r={1}\n          gradientTransform=\"matrix(0 40 -40 0 40 0)\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#47EBEB\" />\n          <stop offset={1} stopColor=\"#47EBEB\" stopOpacity={0} />\n        </radialGradient>\n      </defs>\n    </svg>\n  );\n};\n\nconst GlowBig = ({ style, ...props }: SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={120}\n    height={48}\n    fill=\"none\"\n    {...props}\n    style={{\n      opacity: 1,\n      animation: \"top-announcement-glow 1s ease-in-out infinite alternate\",\n      ...style,\n    }}\n  >\n    <circle\n      cx={60}\n      cy={24}\n      r={60}\n      fill={`url(#${props.id}-a)`}\n      fillOpacity={0.5}\n    />\n    <defs>\n      <radialGradient\n        id={`${props.id}-a`}\n        cx={0}\n        cy={0}\n        r={1}\n        gradientTransform=\"matrix(0 60 -60 0 60 24)\"\n        gradientUnits=\"userSpaceOnUse\"\n      >\n        <stop stopColor=\"#47EBEB\" />\n        <stop offset={1} stopColor=\"#47EBEB\" stopOpacity={0} />\n      </radialGradient>\n    </defs>\n  </svg>\n);\n", "export const CSSRules = [\n  `\n    .bg-top-announcement {\n        border-bottom: 1px solid rgba(71, 235, 235, 0.15);\n        background: radial-gradient(\n                218.19% 111.8% at 0% 0%,\n                rgba(71, 235, 235, 0.1) 0%,\n                rgba(71, 235, 235, 0.2) 100%\n            ),\n            #14141f;\n    }\n    `,\n  `\n    .top-announcement-mask {\n        mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);\n        -webkit-mask-image: url(https://refine.ams3.cdn.digitaloceanspaces.com/website/static/assets/hexagon.svg);\n        mask-repeat: repeat;\n        -webkit-mask-repeat: repeat;\n        background: rgba(71, 235, 235, 0.25);\n    }\n    `,\n  `\n    .banner {\n        display: flex;\n        @media (max-width: 1000px) {\n            display: none;\n        }\n    }`,\n  `\n    .gh-link, .gh-link:hover, .gh-link:active, .gh-link:visited, .gh-link:focus {\n        text-decoration: none;\n        z-index: 9;\n    }\n    `,\n  `\n    @keyframes top-announcement-glow {\n        0% {\n            opacity: 1;\n        }\n\n        100% {\n            opacity: 0;\n        }\n    }\n    `,\n];\n", "import React from \"react\";\n\nimport { useTranslate } from \"@hooks/i18n\";\n\nimport { BaseRecord, HttpError } from \"../../contexts/data/types\";\nimport { AutoSaveIndicatorElements } from \"../../hooks/form/types\";\nimport { UseUpdateReturnType } from \"../../hooks/data/useUpdate\";\n\nexport type AutoSaveIndicatorProps<\n  TData extends BaseRecord = BaseRecord,\n  TError extends HttpError = HttpError,\n  TVariables = {},\n> = {\n  /**\n   * The data returned by the update request.\n   */\n  data?: UseUpdateReturnType<TData, TError, TVariables>[\"data\"];\n  /**\n   * The error returned by the update request.\n   */\n  error?: UseUpdateReturnType<TData, TError, TVariables>[\"error\"];\n  /**\n   * The status of the update request.\n   */\n  status: UseUpdateReturnType<TData, TError, TVariables>[\"status\"];\n  /**\n   * The elements to display for each status.\n   */\n  elements?: AutoSaveIndicatorElements;\n};\n\nexport const AutoSaveIndicator: React.FC<AutoSaveIndicatorProps> = ({\n  status,\n  elements: {\n    success = <Message key=\"autoSave.success\" defaultMessage=\"saved\" />,\n    error = <Message key=\"autoSave.error\" defaultMessage=\"auto save failure\" />,\n    loading = <Message key=\"autoSave.loading\" defaultMessage=\"saving...\" />,\n    idle = <Message key=\"autoSave.idle\" defaultMessage=\"waiting for changes\" />,\n  } = {},\n}) => {\n  switch (status) {\n    case \"success\":\n      return <>{success}</>;\n    case \"error\":\n      return <>{error}</>;\n    case \"loading\":\n      return <>{loading}</>;\n    default:\n      return <>{idle}</>;\n  }\n};\n\nconst Message = ({\n  key,\n  defaultMessage,\n}: {\n  key: string;\n  defaultMessage: string;\n}) => {\n  const translate = useTranslate();\n\n  return <span>{translate(key, defaultMessage)}</span>;\n};\n", "import ErrorStackParser from \"error-stack-parser\";\nimport { cleanStack } from \"./clean-stack\";\nimport { isRefineStack } from \"./is-refine-stack\";\nimport { getPackageNameFromFilename } from \"./get-package-name-from-filename\";\nimport { TraceType } from \"@refinedev/devtools-shared\";\n\nexport function getTrace(excludeFromTrace?: string[]) {\n  if (__DEV_CONDITION__ !== \"development\") {\n    return [];\n  }\n  try {\n    const error = new Error();\n    const stack = ErrorStackParser.parse(error);\n    const clean = cleanStack(stack);\n    const traces = clean\n      .map(\n        (frame) =>\n          ({\n            file: frame.fileName,\n            line: frame.lineNumber,\n            column: frame.columnNumber,\n            function: frame.functionName,\n            isRefine: isRefineStack(frame.fileName),\n            packageName: getPackageNameFromFilename(frame.fileName),\n          }) as TraceType,\n      )\n      .filter((trace) => trace.function)\n      .filter((trace) => !excludeFromTrace?.includes(trace.function ?? \"\"));\n    return traces.slice(1);\n  } catch (error) {\n    return [];\n  }\n}\n", "import type { StackFrame } from \"error-stack-parser\";\n\nconst unrelatedFunctionName = \"renderWithHooks\";\n\nexport const cleanStack = (stack: StackFrame[]) => {\n  const firstUnrelatedIndex = stack.findIndex(\n    (frame) => frame.functionName === unrelatedFunctionName,\n  );\n\n  if (firstUnrelatedIndex !== -1) {\n    return stack.slice(0, firstUnrelatedIndex);\n  }\n\n  return stack;\n};\n", "export const REFINE_PACKAGE_FILEPATH_REGEXP =\n  __DEV_CONDITION__ !== \"development\"\n    ? /node_modules\\/refinedev\\/(?<name>.*?)\\//\n    : /\\/refine\\/packages\\/(?<name>.*?)\\//;\n", "import { REFINE_PACKAGE_FILEPATH_REGEXP } from \"./constants\";\n\nexport const isRefineStack = (filename?: string) => {\n  if (!filename) return false;\n\n  const match = filename.match(REFINE_PACKAGE_FILEPATH_REGEXP);\n\n  return !!match;\n};\n", "import { REFINE_PACKAGE_FILEPATH_REGEXP } from \"./constants\";\n\nexport const getPackageNameFromFilename = (filename?: string) => {\n  if (!filename) return;\n\n  const match = filename.match(REFINE_PACKAGE_FILEPATH_REGEXP);\n\n  const name = match?.groups?.name;\n\n  if (!name) return;\n\n  return `@refinedev/${name}`;\n};\n", "import {\n  DevtoolsEvent,\n  DevtoolsEventPayloads,\n  RefineHook,\n  scopes,\n} from \"@refinedev/devtools-shared\";\n\nexport type Activity =\n  DevtoolsEventPayloads[DevtoolsEvent.DEVTOOLS_ACTIVITY_UPDATE][\"updatedActivities\"][number];\n\nexport const getResourcePath = (\n  hookName: RefineHook,\n  legacyKey: boolean,\n): string | null => {\n  if (scopes[hookName] === \"auth\") {\n    return null;\n  }\n  if (hookName === \"useCan\") {\n    if (legacyKey) {\n      return \"key[1].resource\";\n    }\n    return \"key[1]\";\n  }\n  if (scopes[hookName] === \"audit-log\") {\n    if (hookName === \"useLog\") {\n      return \"variables.resource\";\n    }\n    return \"key[1]\";\n  }\n  if (scopes[hookName] === \"data\") {\n    if (hookName === \"useCustom\" || hookName === \"useCustomMutation\") {\n      return null;\n    }\n    switch (hookName) {\n      case \"useList\":\n      case \"useInfiniteList\":\n      case \"useOne\":\n      case \"useMany\":\n        if (legacyKey) {\n          return \"key[1]\";\n        }\n        return \"key[2]\";\n      case \"useCreate\":\n      case \"useCreateMany\":\n      case \"useDelete\":\n      case \"useDeleteMany\":\n      case \"useUpdate\":\n      case \"useUpdateMany\":\n        return \"variables.resource\";\n    }\n  }\n  return null;\n};\n", "import { RefineHook, TraceType } from \"@refinedev/devtools-shared\";\nimport { getTrace } from \"./get-trace\";\nimport { getResourcePath } from \"./get-resource-path\";\n\nexport type XRayResponse = {\n  hookName: string;\n  trace: TraceType[];\n  resourcePath: string | null;\n  legacyKey: boolean;\n  resourceName?: string;\n};\n\nexport function getXRay(\n  hookName: string,\n  legacyKey: boolean,\n  resourceName?: string,\n  excludeFromTrace?: string[],\n): XRayResponse {\n  if (__DEV_CONDITION__ !== \"development\") {\n    return {\n      hookName: \"\",\n      trace: [],\n      resourcePath: null,\n      legacyKey: false,\n    };\n  }\n  const trace = getTrace(excludeFromTrace).slice(1);\n\n  const resourcePath = getResourcePath(hookName as RefineHook, legacyKey);\n\n  return {\n    hookName,\n    trace,\n    resourcePath,\n    legacyKey,\n    resourceName,\n  };\n}\n", "import {\n  DevToolsContext,\n  DevtoolsEvent,\n  receive,\n} from \"@refinedev/devtools-shared\";\nimport { QueryClient } from \"@tanstack/react-query\";\nimport React, { useContext } from \"react\";\nimport { createQueryListener, createMutationListener } from \"./listeners\";\n\nexport const useQuerySubscription =\n  __DEV_CONDITION__ !== \"development\"\n    ? () => ({})\n    : (queryClient: QueryClient) => {\n        const { ws } = useContext(DevToolsContext);\n        const queryCacheSubscription = React.useRef<() => void>();\n        const mutationCacheSubscription = React.useRef<() => void>();\n\n        React.useEffect(() => {\n          if (!ws) return () => 0;\n\n          const queryCache = queryClient.getQueryCache();\n\n          const queryListener = createQueryListener(ws);\n\n          queryCache.getAll().forEach(queryListener);\n\n          queryCacheSubscription.current = queryCache.subscribe(\n            ({ query, type }) =>\n              (type === \"added\" || type === \"updated\") && queryListener(query),\n          );\n\n          return () => {\n            queryCacheSubscription.current?.();\n          };\n        }, [ws, queryClient]);\n\n        React.useEffect(() => {\n          if (!ws) return () => 0;\n\n          const mutationCache = queryClient.getMutationCache();\n\n          const mutationListener = createMutationListener(ws);\n\n          mutationCache.getAll().forEach(mutationListener);\n\n          mutationCacheSubscription.current = mutationCache.subscribe(\n            ({ mutation, type }) =>\n              (type === \"added\" || type === \"updated\") &&\n              mutationListener(mutation),\n          );\n\n          return () => {\n            mutationCacheSubscription.current?.();\n          };\n        }, [ws, queryClient]);\n\n        React.useEffect(() => {\n          if (!ws) return () => 0;\n\n          const cb = receive(\n            ws,\n            DevtoolsEvent.DEVTOOLS_INVALIDATE_QUERY_ACTION,\n            ({ queryKey }) => {\n              if (queryKey) {\n                queryClient.invalidateQueries(queryKey);\n              }\n            },\n          );\n\n          return cb;\n        }, [ws, queryClient]);\n\n        return {};\n      };\n", "import { DevtoolsEvent, send } from \"@refinedev/devtools-shared\";\nimport { Mutation, Query } from \"@tanstack/react-query\";\n\nimport { createIdentifier } from \"./create-identifier\";\nimport { XRayResponse } from \"./get-xray\";\n\nexport const createMutationListener =\n  (ws: WebSocket) => (mutation?: Mutation) => {\n    if (!mutation?.meta?.trace) return;\n\n    const meta: XRayResponse = mutation?.meta as any;\n\n    new Promise<void>((resolve) => {\n      send(ws, DevtoolsEvent.ACTIVITY, {\n        type: \"mutation\",\n        identifier: createIdentifier(\n          mutation?.options.mutationKey,\n          mutation?.meta?.trace as any,\n        ),\n        key: mutation?.options.mutationKey as any,\n        status: mutation?.state.status,\n        state: mutation?.state,\n        variables: mutation?.state?.variables,\n        ...meta,\n      });\n      resolve();\n    });\n  };\n\nexport const createQueryListener = (ws: WebSocket) => (query: Query) => {\n  if (!query?.meta?.trace) return;\n\n  const meta: XRayResponse = query?.meta as any;\n\n  new Promise<void>((resolve) => {\n    send(ws, DevtoolsEvent.ACTIVITY, {\n      type: \"query\",\n      identifier: createIdentifier(query.queryKey, query.meta?.trace as any),\n      key: query.queryKey as any,\n      status: query.state.status,\n      state: query.state,\n      ...meta,\n    });\n    resolve();\n  });\n};\n", "import { TraceType } from \"@refinedev/devtools-shared\";\nimport { MutationKey, QueryKey } from \"@tanstack/react-query\";\n\nexport const createIdentifier = (\n  key?: QueryKey | MutationKey,\n  trace?: TraceType[],\n) => {\n  const simpleTrace = trace?.map(\n    (t) =>\n      `${t.file}:${t.line}:${t.column}#${t.function}-${t.packageName}-${\n        t.isRefine ? 1 : 0\n      }`,\n  );\n  const str = JSON.stringify([...(key ?? []), ...(simpleTrace ?? [])]);\n\n  return str;\n};\n", "type Listener = () => void\n\nexport class Subscribable<TListener extends Function = Listener> {\n  protected listeners: Set<{ listener: TListener }>\n\n  constructor() {\n    this.listeners = new Set()\n    this.subscribe = this.subscribe.bind(this)\n  }\n\n  subscribe(listener: TListener): () => void {\n    const identity = { listener }\n    this.listeners.add(identity)\n\n    this.onSubscribe()\n\n    return () => {\n      this.listeners.delete(identity)\n      this.onUnsubscribe()\n    }\n  }\n\n  hasListeners(): boolean {\n    return this.listeners.size > 0\n  }\n\n  protected onSubscribe(): void {\n    // Do nothing\n  }\n\n  protected onUnsubscribe(): void {\n    // Do nothing\n  }\n}\n", "import type { Mutation } from './mutation'\nimport type { Query } from './query'\nimport type {\n  FetchStatus,\n  MutationFunction,\n  MutationKey,\n  MutationOptions,\n  QueryFunction,\n  QueryKey,\n  QueryOptions,\n} from './types'\n\n// TYPES\n\nexport interface QueryFilters {\n  /**\n   * Filter to active queries, inactive queries or all queries\n   */\n  type?: QueryTypeFilter\n  /**\n   * Match query key exactly\n   */\n  exact?: boolean\n  /**\n   * Include queries matching this predicate function\n   */\n  predicate?: (query: Query) => boolean\n  /**\n   * Include queries matching this query key\n   */\n  queryKey?: QueryKey\n  /**\n   * Include or exclude stale queries\n   */\n  stale?: boolean\n  /**\n   * Include queries matching their fetchStatus\n   */\n  fetchStatus?: FetchStatus\n}\n\nexport interface MutationFilters {\n  /**\n   * Match mutation key exactly\n   */\n  exact?: boolean\n  /**\n   * Include mutations matching this predicate function\n   */\n  predicate?: (mutation: Mutation<any, any, any>) => boolean\n  /**\n   * Include mutations matching this mutation key\n   */\n  mutationKey?: MutationKey\n  /**\n   * Include or exclude fetching mutations\n   */\n  fetching?: boolean\n}\n\nexport type DataUpdateFunction<TInput, TOutput> = (input: TInput) => TOutput\n\nexport type Updater<TInput, TOutput> =\n  | TOutput\n  | DataUpdateFunction<TInput, TOutput>\n\nexport type QueryTypeFilter = 'all' | 'active' | 'inactive'\n\n// UTILS\n\nexport const isServer = typeof window === 'undefined' || 'Deno' in window\n\nexport function noop(): undefined {\n  return undefined\n}\n\nexport function functionalUpdate<TInput, TOutput>(\n  updater: Updater<TInput, TOutput>,\n  input: TInput,\n): TOutput {\n  return typeof updater === 'function'\n    ? (updater as DataUpdateFunction<TInput, TOutput>)(input)\n    : updater\n}\n\nexport function isValidTimeout(value: unknown): value is number {\n  return typeof value === 'number' && value >= 0 && value !== Infinity\n}\n\nexport function difference<T>(array1: T[], array2: T[]): T[] {\n  return array1.filter((x) => !array2.includes(x))\n}\n\nexport function replaceAt<T>(array: T[], index: number, value: T): T[] {\n  const copy = array.slice(0)\n  copy[index] = value\n  return copy\n}\n\nexport function timeUntilStale(updatedAt: number, staleTime?: number): number {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0)\n}\n\nexport function parseQueryArgs<\n  TOptions extends QueryOptions<any, any, any, TQueryKey>,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  arg1: TQueryKey | TOptions,\n  arg2?: QueryFunction<any, TQueryKey> | TOptions,\n  arg3?: TOptions,\n): TOptions {\n  if (!isQueryKey(arg1)) {\n    return arg1 as TOptions\n  }\n\n  if (typeof arg2 === 'function') {\n    return { ...arg3, queryKey: arg1, queryFn: arg2 } as TOptions\n  }\n\n  return { ...arg2, queryKey: arg1 } as TOptions\n}\n\nexport function parseMutationArgs<\n  TOptions extends MutationOptions<any, any, any, any>,\n>(\n  arg1: MutationKey | MutationFunction<any, any> | TOptions,\n  arg2?: MutationFunction<any, any> | TOptions,\n  arg3?: TOptions,\n): TOptions {\n  if (isQueryKey(arg1)) {\n    if (typeof arg2 === 'function') {\n      return { ...arg3, mutationKey: arg1, mutationFn: arg2 } as TOptions\n    }\n    return { ...arg2, mutationKey: arg1 } as TOptions\n  }\n\n  if (typeof arg1 === 'function') {\n    return { ...arg2, mutationFn: arg1 } as TOptions\n  }\n\n  return { ...arg1 } as TOptions\n}\n\nexport function parseFilterArgs<\n  TFilters extends QueryFilters,\n  TOptions = unknown,\n>(\n  arg1?: QueryKey | TFilters,\n  arg2?: TFilters | TOptions,\n  arg3?: TOptions,\n): [TFilters, TOptions | undefined] {\n  return (\n    isQueryKey(arg1) ? [{ ...arg2, queryKey: arg1 }, arg3] : [arg1 || {}, arg2]\n  ) as [TFilters, TOptions]\n}\n\nexport function parseMutationFilterArgs<\n  TFilters extends MutationFilters,\n  TOptions = unknown,\n>(\n  arg1?: QueryKey | TFilters,\n  arg2?: TFilters | TOptions,\n  arg3?: TOptions,\n): [TFilters, TOptions | undefined] {\n  return (\n    isQueryKey(arg1)\n      ? [{ ...arg2, mutationKey: arg1 }, arg3]\n      : [arg1 || {}, arg2]\n  ) as [TFilters, TOptions]\n}\n\nexport function matchQuery(\n  filters: QueryFilters,\n  query: Query<any, any, any, any>,\n): boolean {\n  const {\n    type = 'all',\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale,\n  } = filters\n\n  if (isQueryKey(queryKey)) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false\n    }\n  }\n\n  if (type !== 'all') {\n    const isActive = query.isActive()\n    if (type === 'active' && !isActive) {\n      return false\n    }\n    if (type === 'inactive' && isActive) {\n      return false\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false\n  }\n\n  if (\n    typeof fetchStatus !== 'undefined' &&\n    fetchStatus !== query.state.fetchStatus\n  ) {\n    return false\n  }\n\n  if (predicate && !predicate(query)) {\n    return false\n  }\n\n  return true\n}\n\nexport function matchMutation(\n  filters: MutationFilters,\n  mutation: Mutation<any, any>,\n): boolean {\n  const { exact, fetching, predicate, mutationKey } = filters\n  if (isQueryKey(mutationKey)) {\n    if (!mutation.options.mutationKey) {\n      return false\n    }\n    if (exact) {\n      if (\n        hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)\n      ) {\n        return false\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false\n    }\n  }\n\n  if (\n    typeof fetching === 'boolean' &&\n    (mutation.state.status === 'loading') !== fetching\n  ) {\n    return false\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false\n  }\n\n  return true\n}\n\nexport function hashQueryKeyByOptions<TQueryKey extends QueryKey = QueryKey>(\n  queryKey: TQueryKey,\n  options?: QueryOptions<any, any, any, TQueryKey>,\n): string {\n  const hashFn = options?.queryKeyHashFn || hashQueryKey\n  return hashFn(queryKey)\n}\n\n/**\n * Default query keys hash function.\n * Hashes the value into a stable hash.\n */\nexport function hashQueryKey(queryKey: QueryKey): string {\n  return JSON.stringify(queryKey, (_, val) =>\n    isPlainObject(val)\n      ? Object.keys(val)\n          .sort()\n          .reduce((result, key) => {\n            result[key] = val[key]\n            return result\n          }, {} as any)\n      : val,\n  )\n}\n\n/**\n * Checks if key `b` partially matches with key `a`.\n */\nexport function partialMatchKey(a: QueryKey, b: QueryKey): boolean {\n  return partialDeepEqual(a, b)\n}\n\n/**\n * Checks if `b` partially matches with `a`.\n */\nexport function partialDeepEqual(a: any, b: any): boolean {\n  if (a === b) {\n    return true\n  }\n\n  if (typeof a !== typeof b) {\n    return false\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some((key) => !partialDeepEqual(a[key], b[key]))\n  }\n\n  return false\n}\n\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\nexport function replaceEqualDeep<T>(a: unknown, b: T): T\nexport function replaceEqualDeep(a: any, b: any): any {\n  if (a === b) {\n    return a\n  }\n\n  const array = isPlainArray(a) && isPlainArray(b)\n\n  if (array || (isPlainObject(a) && isPlainObject(b))) {\n    const aSize = array ? a.length : Object.keys(a).length\n    const bItems = array ? b : Object.keys(b)\n    const bSize = bItems.length\n    const copy: any = array ? [] : {}\n\n    let equalItems = 0\n\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i]\n      copy[key] = replaceEqualDeep(a[key], b[key])\n      if (copy[key] === a[key]) {\n        equalItems++\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy\n  }\n\n  return b\n}\n\n/**\n * Shallow compare objects. Only works with objects that always have the same properties.\n */\nexport function shallowEqualObjects<T>(a: T, b: T): boolean {\n  if ((a && !b) || (b && !a)) {\n    return false\n  }\n\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nexport function isPlainArray(value: unknown) {\n  return Array.isArray(value) && value.length === Object.keys(value).length\n}\n\n// Copied from: https://github.com/jonschlinkert/is-plain-object\nexport function isPlainObject(o: any): o is Object {\n  if (!hasObjectPrototype(o)) {\n    return false\n  }\n\n  // If has modified constructor\n  const ctor = o.constructor\n  if (typeof ctor === 'undefined') {\n    return true\n  }\n\n  // If has modified prototype\n  const prot = ctor.prototype\n  if (!hasObjectPrototype(prot)) {\n    return false\n  }\n\n  // If constructor does not have an Object-specific method\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false\n  }\n\n  // Most likely a plain Object\n  return true\n}\n\nfunction hasObjectPrototype(o: any): boolean {\n  return Object.prototype.toString.call(o) === '[object Object]'\n}\n\nexport function isQueryKey(value: unknown): value is QueryKey {\n  return Array.isArray(value)\n}\n\nexport function isError(value: any): value is Error {\n  return value instanceof Error\n}\n\nexport function sleep(timeout: number): Promise<void> {\n  return new Promise((resolve) => {\n    setTimeout(resolve, timeout)\n  })\n}\n\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\nexport function scheduleMicrotask(callback: () => void) {\n  sleep(0).then(callback)\n}\n\nexport function getAbortController(): AbortController | undefined {\n  if (typeof AbortController === 'function') {\n    return new AbortController()\n  }\n  return\n}\n\nexport function replaceData<\n  TData,\n  TOptions extends QueryOptions<any, any, any, any>,\n>(prevData: TData | undefined, data: TData, options: TOptions): TData {\n  // Use prev data if an isDataEqual function is defined and returns `true`\n  if (options.isDataEqual?.(prevData, data)) {\n    return prevData as TData\n  } else if (typeof options.structuralSharing === 'function') {\n    return options.structuralSharing(prevData, data)\n  } else if (options.structuralSharing !== false) {\n    // Structurally share data between prev and new data if needed\n    return replaceEqualDeep(prevData, data)\n  }\n  return data\n}\n", "import { Subscribable } from './subscribable'\nimport { isServer } from './utils'\n\ntype SetupFn = (\n  setFocused: (focused?: boolean) => void,\n) => (() => void) | undefined\n\nexport class FocusManager extends Subscribable {\n  private focused?: boolean\n  private cleanup?: () => void\n\n  private setup: SetupFn\n\n  constructor() {\n    super()\n    this.setup = (onFocus) => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus()\n        // Listen to visibillitychange and focus\n        window.addEventListener('visibilitychange', listener, false)\n        window.addEventListener('focus', listener, false)\n\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener)\n          window.removeEventListener('focus', listener)\n        }\n      }\n      return\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup)\n    }\n  }\n\n  protected onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.cleanup?.()\n      this.cleanup = undefined\n    }\n  }\n\n  setEventListener(setup: SetupFn): void {\n    this.setup = setup\n    this.cleanup?.()\n    this.cleanup = setup((focused) => {\n      if (typeof focused === 'boolean') {\n        this.setFocused(focused)\n      } else {\n        this.onFocus()\n      }\n    })\n  }\n\n  setFocused(focused?: boolean): void {\n    const changed = this.focused !== focused\n    if (changed) {\n      this.focused = focused\n      this.onFocus()\n    }\n  }\n\n  onFocus(): void {\n    this.listeners.forEach(({ listener }) => {\n      listener()\n    })\n  }\n\n  isFocused(): boolean {\n    if (typeof this.focused === 'boolean') {\n      return this.focused\n    }\n\n    // document global can be unavailable in react native\n    if (typeof document === 'undefined') {\n      return true\n    }\n\n    return [undefined, 'visible', 'prerender'].includes(\n      document.visibilityState,\n    )\n  }\n}\n\nexport const focusManager = new FocusManager()\n", "import { Subscribable } from './subscribable'\nimport { isServer } from './utils'\n\ntype SetupFn = (\n  setOnline: (online?: boolean) => void,\n) => (() => void) | undefined\n\nconst onlineEvents = ['online', 'offline'] as const\n\nexport class OnlineManager extends Subscribable {\n  private online?: boolean\n  private cleanup?: () => void\n\n  private setup: SetupFn\n\n  constructor() {\n    super()\n    this.setup = (onOnline) => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onOnline()\n        // Listen to online\n        onlineEvents.forEach((event) => {\n          window.addEventListener(event, listener, false)\n        })\n\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          onlineEvents.forEach((event) => {\n            window.removeEventListener(event, listener)\n          })\n        }\n      }\n\n      return\n    }\n  }\n\n  protected onSubscribe(): void {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup)\n    }\n  }\n\n  protected onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.cleanup?.()\n      this.cleanup = undefined\n    }\n  }\n\n  setEventListener(setup: SetupFn): void {\n    this.setup = setup\n    this.cleanup?.()\n    this.cleanup = setup((online?: boolean) => {\n      if (typeof online === 'boolean') {\n        this.setOnline(online)\n      } else {\n        this.onOnline()\n      }\n    })\n  }\n\n  setOnline(online?: boolean): void {\n    const changed = this.online !== online\n\n    if (changed) {\n      this.online = online\n      this.onOnline()\n    }\n  }\n\n  onOnline(): void {\n    this.listeners.forEach(({ listener }) => {\n      listener()\n    })\n  }\n\n  isOnline(): boolean {\n    if (typeof this.online === 'boolean') {\n      return this.online\n    }\n\n    if (\n      typeof navigator === 'undefined' ||\n      typeof navigator.onLine === 'undefined'\n    ) {\n      return true\n    }\n\n    return navigator.onLine\n  }\n}\n\nexport const onlineManager = new OnlineManager()\n", "import { focusManager } from './focusManager'\nimport { onlineManager } from './onlineManager'\nimport { sleep } from './utils'\nimport type { CancelOptions, NetworkMode } from './types'\n\n// TYPES\n\ninterface RetryerConfig<TData = unknown, TError = unknown> {\n  fn: () => TData | Promise<TData>\n  abort?: () => void\n  onError?: (error: TError) => void\n  onSuccess?: (data: TData) => void\n  onFail?: (failureCount: number, error: TError) => void\n  onPause?: () => void\n  onContinue?: () => void\n  retry?: RetryValue<TError>\n  retryDelay?: RetryDelayValue<TError>\n  networkMode: NetworkMode | undefined\n}\n\nexport interface Retryer<TData = unknown> {\n  promise: Promise<TData>\n  cancel: (cancelOptions?: CancelOptions) => void\n  continue: () => Promise<unknown>\n  cancelRetry: () => void\n  continueRetry: () => void\n}\n\nexport type RetryValue<TError> = boolean | number | ShouldRetryFunction<TError>\n\ntype ShouldRetryFunction<TError> = (\n  failureCount: number,\n  error: TError,\n) => boolean\n\nexport type RetryDelayValue<TError> = number | RetryDelayFunction<TError>\n\ntype RetryDelayFunction<TError = unknown> = (\n  failureCount: number,\n  error: TError,\n) => number\n\nfunction defaultRetryDelay(failureCount: number) {\n  return Math.min(1000 * 2 ** failureCount, 30000)\n}\n\nexport function canFetch(networkMode: NetworkMode | undefined): boolean {\n  return (networkMode ?? 'online') === 'online'\n    ? onlineManager.isOnline()\n    : true\n}\n\nexport class CancelledError {\n  revert?: boolean\n  silent?: boolean\n  constructor(options?: CancelOptions) {\n    this.revert = options?.revert\n    this.silent = options?.silent\n  }\n}\n\nexport function isCancelledError(value: any): value is CancelledError {\n  return value instanceof CancelledError\n}\n\nexport function createRetryer<TData = unknown, TError = unknown>(\n  config: RetryerConfig<TData, TError>,\n): Retryer<TData> {\n  let isRetryCancelled = false\n  let failureCount = 0\n  let isResolved = false\n  let continueFn: ((value?: unknown) => boolean) | undefined\n  let promiseResolve: (data: TData) => void\n  let promiseReject: (error: TError) => void\n\n  const promise = new Promise<TData>((outerResolve, outerReject) => {\n    promiseResolve = outerResolve\n    promiseReject = outerReject\n  })\n\n  const cancel = (cancelOptions?: CancelOptions): void => {\n    if (!isResolved) {\n      reject(new CancelledError(cancelOptions))\n\n      config.abort?.()\n    }\n  }\n  const cancelRetry = () => {\n    isRetryCancelled = true\n  }\n\n  const continueRetry = () => {\n    isRetryCancelled = false\n  }\n\n  const shouldPause = () =>\n    !focusManager.isFocused() ||\n    (config.networkMode !== 'always' && !onlineManager.isOnline())\n\n  const resolve = (value: any) => {\n    if (!isResolved) {\n      isResolved = true\n      config.onSuccess?.(value)\n      continueFn?.()\n      promiseResolve(value)\n    }\n  }\n\n  const reject = (value: any) => {\n    if (!isResolved) {\n      isResolved = true\n      config.onError?.(value)\n      continueFn?.()\n      promiseReject(value)\n    }\n  }\n\n  const pause = () => {\n    return new Promise((continueResolve) => {\n      continueFn = (value) => {\n        const canContinue = isResolved || !shouldPause()\n        if (canContinue) {\n          continueResolve(value)\n        }\n        return canContinue\n      }\n      config.onPause?.()\n    }).then(() => {\n      continueFn = undefined\n      if (!isResolved) {\n        config.onContinue?.()\n      }\n    })\n  }\n\n  // Create loop function\n  const run = () => {\n    // Do nothing if already resolved\n    if (isResolved) {\n      return\n    }\n\n    let promiseOrValue: any\n\n    // Execute query\n    try {\n      promiseOrValue = config.fn()\n    } catch (error) {\n      promiseOrValue = Promise.reject(error)\n    }\n\n    Promise.resolve(promiseOrValue)\n      .then(resolve)\n      .catch((error) => {\n        // Stop if the fetch is already resolved\n        if (isResolved) {\n          return\n        }\n\n        // Do we need to retry the request?\n        const retry = config.retry ?? 3\n        const retryDelay = config.retryDelay ?? defaultRetryDelay\n        const delay =\n          typeof retryDelay === 'function'\n            ? retryDelay(failureCount, error)\n            : retryDelay\n        const shouldRetry =\n          retry === true ||\n          (typeof retry === 'number' && failureCount < retry) ||\n          (typeof retry === 'function' && retry(failureCount, error))\n\n        if (isRetryCancelled || !shouldRetry) {\n          // We are done if the query does not need to be retried\n          reject(error)\n          return\n        }\n\n        failureCount++\n\n        // Notify on fail\n        config.onFail?.(failureCount, error)\n\n        // Delay\n        sleep(delay)\n          // Pause if the document is not visible or when the device is offline\n          .then(() => {\n            if (shouldPause()) {\n              return pause()\n            }\n            return\n          })\n          .then(() => {\n            if (isRetryCancelled) {\n              reject(error)\n            } else {\n              run()\n            }\n          })\n      })\n  }\n\n  // Start loop\n  if (canFetch(config.networkMode)) {\n    run()\n  } else {\n    pause().then(run)\n  }\n\n  return {\n    promise,\n    cancel,\n    continue: () => {\n      const didContinue = continueFn?.()\n      return didContinue ? promise : Promise.resolve()\n    },\n    cancelRetry,\n    continueRetry,\n  }\n}\n", "export interface Logger {\n  log: LogFunction\n  warn: LogFunction\n  error: LogFunction\n}\n\ntype LogFunction = (...args: any[]) => void\n\nexport const defaultLogger: Logger = console\n", "import { scheduleMicrotask } from './utils'\n\n// TYPES\n\ntype NotifyCallback = () => void\n\ntype NotifyFunction = (callback: () => void) => void\n\ntype BatchNotifyFunction = (callback: () => void) => void\n\ntype BatchCallsCallback<T extends unknown[]> = (...args: T) => void\n\nexport function createNotifyManager() {\n  let queue: NotifyCallback[] = []\n  let transactions = 0\n  let notifyFn: NotifyFunction = (callback) => {\n    callback()\n  }\n  let batchNotifyFn: BatchNotifyFunction = (callback: () => void) => {\n    callback()\n  }\n\n  const batch = <T>(callback: () => T): T => {\n    let result\n    transactions++\n    try {\n      result = callback()\n    } finally {\n      transactions--\n      if (!transactions) {\n        flush()\n      }\n    }\n    return result\n  }\n\n  const schedule = (callback: NotifyCallback): void => {\n    if (transactions) {\n      queue.push(callback)\n    } else {\n      scheduleMicrotask(() => {\n        notifyFn(callback)\n      })\n    }\n  }\n\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n  const batchCalls = <T extends unknown[]>(\n    callback: BatchCallsCallback<T>,\n  ): BatchCallsCallback<T> => {\n    return (...args) => {\n      schedule(() => {\n        callback(...args)\n      })\n    }\n  }\n\n  const flush = (): void => {\n    const originalQueue = queue\n    queue = []\n    if (originalQueue.length) {\n      scheduleMicrotask(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach((callback) => {\n            notifyFn(callback)\n          })\n        })\n      })\n    }\n  }\n\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n  const setNotifyFunction = (fn: NotifyFunction) => {\n    notifyFn = fn\n  }\n\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n  const setBatchNotifyFunction = (fn: BatchNotifyFunction) => {\n    batchNotifyFn = fn\n  }\n\n  return {\n    batch,\n    batchCalls,\n    schedule,\n    setNotifyFunction,\n    setBatchNotifyFunction,\n  } as const\n}\n\n// SINGLETON\nexport const notifyManager = createNotifyManager()\n", "import { isServer, isValidTimeout } from './utils'\n\nexport abstract class Removable {\n  cacheTime!: number\n  private gcTimeout?: ReturnType<typeof setTimeout>\n\n  destroy(): void {\n    this.clearGcTimeout()\n  }\n\n  protected scheduleGc(): void {\n    this.clearGcTimeout()\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(() => {\n        this.optionalRemove()\n      }, this.cacheTime)\n    }\n  }\n\n  protected updateCacheTime(newCacheTime: number | undefined): void {\n    // Default to 5 minutes (Infinity for server-side) if no cache time is set\n    this.cacheTime = Math.max(\n      this.cacheTime || 0,\n      newCacheTime ?? (isServer ? Infinity : 5 * 60 * 1000),\n    )\n  }\n\n  protected clearGcTimeout() {\n    if (this.gcTimeout) {\n      clearTimeout(this.gcTimeout)\n      this.gcTimeout = undefined\n    }\n  }\n\n  protected abstract optionalRemove(): void\n}\n", "import { getAbortController, noop, replaceData, timeUntilStale } from './utils'\nimport { defaultLogger } from './logger'\nimport { notifyManager } from './notifyManager'\nimport { canFetch, createRetryer, isCancelledError } from './retryer'\nimport { Removable } from './removable'\nimport type {\n  CancelOptions,\n  FetchStatus,\n  InitialDataFunction,\n  QueryFunctionContext,\n  QueryKey,\n  QueryMeta,\n  QueryOptions,\n  QueryStatus,\n  SetDataOptions,\n} from './types'\nimport type { QueryCache } from './queryCache'\nimport type { QueryObserver } from './queryObserver'\nimport type { Logger } from './logger'\nimport type { Retryer } from './retryer'\n\n// TYPES\n\ninterface QueryConfig<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  cache: QueryCache\n  queryKey: TQueryKey\n  queryHash: string\n  logger?: Logger\n  options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  defaultOptions?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  state?: QueryState<TData, TError>\n}\n\nexport interface QueryState<TData = unknown, TError = unknown> {\n  data: TData | undefined\n  dataUpdateCount: number\n  dataUpdatedAt: number\n  error: TError | null\n  errorUpdateCount: number\n  errorUpdatedAt: number\n  fetchFailureCount: number\n  fetchFailureReason: TError | null\n  fetchMeta: any\n  isInvalidated: boolean\n  status: QueryStatus\n  fetchStatus: FetchStatus\n}\n\nexport interface FetchContext<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  fetchFn: () => unknown | Promise<unknown>\n  fetchOptions?: FetchOptions\n  signal?: AbortSignal\n  options: QueryOptions<TQueryFnData, TError, TData, any>\n  queryKey: TQueryKey\n  state: QueryState<TData, TError>\n}\n\nexport interface QueryBehavior<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> {\n  onFetch: (\n    context: FetchContext<TQueryFnData, TError, TData, TQueryKey>,\n  ) => void\n}\n\nexport interface FetchOptions {\n  cancelRefetch?: boolean\n  meta?: any\n}\n\ninterface FailedAction<TError> {\n  type: 'failed'\n  failureCount: number\n  error: TError\n}\n\ninterface FetchAction {\n  type: 'fetch'\n  meta?: any\n}\n\ninterface SuccessAction<TData> {\n  data: TData | undefined\n  type: 'success'\n  dataUpdatedAt?: number\n  manual?: boolean\n}\n\ninterface ErrorAction<TError> {\n  type: 'error'\n  error: TError\n}\n\ninterface InvalidateAction {\n  type: 'invalidate'\n}\n\ninterface PauseAction {\n  type: 'pause'\n}\n\ninterface ContinueAction {\n  type: 'continue'\n}\n\ninterface SetStateAction<TData, TError> {\n  type: 'setState'\n  state: Partial<QueryState<TData, TError>>\n  setStateOptions?: SetStateOptions\n}\n\nexport type Action<TData, TError> =\n  | ContinueAction\n  | ErrorAction<TError>\n  | FailedAction<TError>\n  | FetchAction\n  | InvalidateAction\n  | PauseAction\n  | SetStateAction<TData, TError>\n  | SuccessAction<TData>\n\nexport interface SetStateOptions {\n  meta?: any\n}\n\n// CLASS\n\nexport class Query<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> extends Removable {\n  queryKey: TQueryKey\n  queryHash: string\n  options!: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  initialState: QueryState<TData, TError>\n  revertState?: QueryState<TData, TError>\n  state: QueryState<TData, TError>\n  isFetchingOptimistic?: boolean\n\n  private cache: QueryCache\n  private logger: Logger\n  private promise?: Promise<TData>\n  private retryer?: Retryer<TData>\n  private observers: QueryObserver<any, any, any, any, any>[]\n  private defaultOptions?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>\n  private abortSignalConsumed: boolean\n\n  constructor(config: QueryConfig<TQueryFnData, TError, TData, TQueryKey>) {\n    super()\n\n    this.abortSignalConsumed = false\n    this.defaultOptions = config.defaultOptions\n    this.setOptions(config.options)\n    this.observers = []\n    this.cache = config.cache\n    this.logger = config.logger || defaultLogger\n    this.queryKey = config.queryKey\n    this.queryHash = config.queryHash\n    this.initialState = config.state || getDefaultState(this.options)\n    this.state = this.initialState\n    this.scheduleGc()\n  }\n\n  get meta(): QueryMeta | undefined {\n    return this.options.meta\n  }\n\n  private setOptions(\n    options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): void {\n    this.options = { ...this.defaultOptions, ...options }\n\n    this.updateCacheTime(this.options.cacheTime)\n  }\n\n  protected optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === 'idle') {\n      this.cache.remove(this)\n    }\n  }\n\n  setData(\n    newData: TData,\n    options?: SetDataOptions & { manual: boolean },\n  ): TData {\n    const data = replaceData(this.state.data, newData, this.options)\n\n    // Set data and mark it as cached\n    this.dispatch({\n      data,\n      type: 'success',\n      dataUpdatedAt: options?.updatedAt,\n      manual: options?.manual,\n    })\n\n    return data\n  }\n\n  setState(\n    state: Partial<QueryState<TData, TError>>,\n    setStateOptions?: SetStateOptions,\n  ): void {\n    this.dispatch({ type: 'setState', state, setStateOptions })\n  }\n\n  cancel(options?: CancelOptions): Promise<void> {\n    const promise = this.promise\n    this.retryer?.cancel(options)\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve()\n  }\n\n  destroy(): void {\n    super.destroy()\n\n    this.cancel({ silent: true })\n  }\n\n  reset(): void {\n    this.destroy()\n    this.setState(this.initialState)\n  }\n\n  isActive(): boolean {\n    return this.observers.some((observer) => observer.options.enabled !== false)\n  }\n\n  isDisabled(): boolean {\n    return this.getObserversCount() > 0 && !this.isActive()\n  }\n\n  isStale(): boolean {\n    return (\n      this.state.isInvalidated ||\n      !this.state.dataUpdatedAt ||\n      this.observers.some((observer) => observer.getCurrentResult().isStale)\n    )\n  }\n\n  isStaleByTime(staleTime = 0): boolean {\n    return (\n      this.state.isInvalidated ||\n      !this.state.dataUpdatedAt ||\n      !timeUntilStale(this.state.dataUpdatedAt, staleTime)\n    )\n  }\n\n  onFocus(): void {\n    const observer = this.observers.find((x) => x.shouldFetchOnWindowFocus())\n\n    if (observer) {\n      observer.refetch({ cancelRefetch: false })\n    }\n\n    // Continue fetch if currently paused\n    this.retryer?.continue()\n  }\n\n  onOnline(): void {\n    const observer = this.observers.find((x) => x.shouldFetchOnReconnect())\n\n    if (observer) {\n      observer.refetch({ cancelRefetch: false })\n    }\n\n    // Continue fetch if currently paused\n    this.retryer?.continue()\n  }\n\n  addObserver(observer: QueryObserver<any, any, any, any, any>): void {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer)\n\n      // Stop the query from being garbage collected\n      this.clearGcTimeout()\n\n      this.cache.notify({ type: 'observerAdded', query: this, observer })\n    }\n  }\n\n  removeObserver(observer: QueryObserver<any, any, any, any, any>): void {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter((x) => x !== observer)\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.retryer) {\n          if (this.abortSignalConsumed) {\n            this.retryer.cancel({ revert: true })\n          } else {\n            this.retryer.cancelRetry()\n          }\n        }\n\n        this.scheduleGc()\n      }\n\n      this.cache.notify({ type: 'observerRemoved', query: this, observer })\n    }\n  }\n\n  getObserversCount(): number {\n    return this.observers.length\n  }\n\n  invalidate(): void {\n    if (!this.state.isInvalidated) {\n      this.dispatch({ type: 'invalidate' })\n    }\n  }\n\n  fetch(\n    options?: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    fetchOptions?: FetchOptions,\n  ): Promise<TData> {\n    if (this.state.fetchStatus !== 'idle') {\n      if (this.state.dataUpdatedAt && fetchOptions?.cancelRefetch) {\n        // Silently cancel current fetch if the user wants to cancel refetches\n        this.cancel({ silent: true })\n      } else if (this.promise) {\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        this.retryer?.continueRetry()\n        // Return current promise if we are already fetching\n        return this.promise\n      }\n    }\n\n    // Update config if passed, otherwise the config from the last execution is used\n    if (options) {\n      this.setOptions(options)\n    }\n\n    // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n    if (!this.options.queryFn) {\n      const observer = this.observers.find((x) => x.options.queryFn)\n      if (observer) {\n        this.setOptions(observer.options)\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!Array.isArray(this.options.queryKey)) {\n        this.logger.error(\n          `As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']`,\n        )\n      }\n    }\n\n    const abortController = getAbortController()\n\n    // Create query function context\n    const queryFnContext: QueryFunctionContext<TQueryKey> = {\n      queryKey: this.queryKey,\n      pageParam: undefined,\n      meta: this.meta,\n    }\n\n    // Adds an enumerable signal property to the object that\n    // which sets abortSignalConsumed to true when the signal\n    // is read.\n    const addSignalProperty = (object: unknown) => {\n      Object.defineProperty(object, 'signal', {\n        enumerable: true,\n        get: () => {\n          if (abortController) {\n            this.abortSignalConsumed = true\n            return abortController.signal\n          }\n          return undefined\n        },\n      })\n    }\n\n    addSignalProperty(queryFnContext)\n\n    // Create fetch function\n    const fetchFn = () => {\n      if (!this.options.queryFn) {\n        return Promise.reject(\n          `Missing queryFn for queryKey '${this.options.queryHash}'`,\n        )\n      }\n      this.abortSignalConsumed = false\n      return this.options.queryFn(queryFnContext)\n    }\n\n    // Trigger behavior hook\n    const context: FetchContext<TQueryFnData, TError, TData, TQueryKey> = {\n      fetchOptions,\n      options: this.options,\n      queryKey: this.queryKey,\n      state: this.state,\n      fetchFn,\n    }\n\n    addSignalProperty(context)\n\n    this.options.behavior?.onFetch(context)\n\n    // Store state in case the current fetch needs to be reverted\n    this.revertState = this.state\n\n    // Set to fetching state if not already in it\n    if (\n      this.state.fetchStatus === 'idle' ||\n      this.state.fetchMeta !== context.fetchOptions?.meta\n    ) {\n      this.dispatch({ type: 'fetch', meta: context.fetchOptions?.meta })\n    }\n\n    const onError = (error: TError | { silent?: boolean }) => {\n      // Optimistically update state if needed\n      if (!(isCancelledError(error) && error.silent)) {\n        this.dispatch({\n          type: 'error',\n          error: error as TError,\n        })\n      }\n\n      if (!isCancelledError(error)) {\n        // Notify cache callback\n        this.cache.config.onError?.(error, this as Query<any, any, any, any>)\n        this.cache.config.onSettled?.(\n          this.state.data,\n          error,\n          this as Query<any, any, any, any>,\n        )\n\n        if (process.env.NODE_ENV !== 'production') {\n          this.logger.error(error)\n        }\n      }\n\n      if (!this.isFetchingOptimistic) {\n        // Schedule query gc after fetching\n        this.scheduleGc()\n      }\n      this.isFetchingOptimistic = false\n    }\n\n    // Try to fetch the data\n    this.retryer = createRetryer({\n      fn: context.fetchFn as () => TData,\n      abort: abortController?.abort.bind(abortController),\n      onSuccess: (data) => {\n        if (typeof data === 'undefined') {\n          if (process.env.NODE_ENV !== 'production') {\n            this.logger.error(\n              `Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`,\n            )\n          }\n          onError(new Error(`${this.queryHash} data is undefined`) as any)\n          return\n        }\n\n        this.setData(data as TData)\n\n        // Notify cache callback\n        this.cache.config.onSuccess?.(data, this as Query<any, any, any, any>)\n        this.cache.config.onSettled?.(\n          data,\n          this.state.error,\n          this as Query<any, any, any, any>,\n        )\n\n        if (!this.isFetchingOptimistic) {\n          // Schedule query gc after fetching\n          this.scheduleGc()\n        }\n        this.isFetchingOptimistic = false\n      },\n      onError,\n      onFail: (failureCount, error) => {\n        this.dispatch({ type: 'failed', failureCount, error })\n      },\n      onPause: () => {\n        this.dispatch({ type: 'pause' })\n      },\n      onContinue: () => {\n        this.dispatch({ type: 'continue' })\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode,\n    })\n\n    this.promise = this.retryer.promise\n\n    return this.promise\n  }\n\n  private dispatch(action: Action<TData, TError>): void {\n    const reducer = (\n      state: QueryState<TData, TError>,\n    ): QueryState<TData, TError> => {\n      switch (action.type) {\n        case 'failed':\n          return {\n            ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error,\n          }\n        case 'pause':\n          return {\n            ...state,\n            fetchStatus: 'paused',\n          }\n        case 'continue':\n          return {\n            ...state,\n            fetchStatus: 'fetching',\n          }\n        case 'fetch':\n          return {\n            ...state,\n            fetchFailureCount: 0,\n            fetchFailureReason: null,\n            fetchMeta: action.meta ?? null,\n            fetchStatus: canFetch(this.options.networkMode)\n              ? 'fetching'\n              : 'paused',\n            ...(!state.dataUpdatedAt && {\n              error: null,\n              status: 'loading',\n            }),\n          }\n        case 'success':\n          return {\n            ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: action.dataUpdatedAt ?? Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: 'success',\n            ...(!action.manual && {\n              fetchStatus: 'idle',\n              fetchFailureCount: 0,\n              fetchFailureReason: null,\n            }),\n          }\n        case 'error':\n          const error = action.error as unknown\n\n          if (isCancelledError(error) && error.revert && this.revertState) {\n            return { ...this.revertState, fetchStatus: 'idle' }\n          }\n\n          return {\n            ...state,\n            error: error as TError,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error as TError,\n            fetchStatus: 'idle',\n            status: 'error',\n          }\n        case 'invalidate':\n          return {\n            ...state,\n            isInvalidated: true,\n          }\n        case 'setState':\n          return {\n            ...state,\n            ...action.state,\n          }\n      }\n    }\n\n    this.state = reducer(this.state)\n\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onQueryUpdate(action)\n      })\n\n      this.cache.notify({ query: this, type: 'updated', action })\n    })\n  }\n}\n\nfunction getDefaultState<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryKey extends QueryKey,\n>(\n  options: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n): QueryState<TData, TError> {\n  const data =\n    typeof options.initialData === 'function'\n      ? (options.initialData as InitialDataFunction<TData>)()\n      : options.initialData\n\n  const hasData = typeof data !== 'undefined'\n\n  const initialDataUpdatedAt = hasData\n    ? typeof options.initialDataUpdatedAt === 'function'\n      ? (options.initialDataUpdatedAt as () => number | undefined)()\n      : options.initialDataUpdatedAt\n    : 0\n\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt ?? Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? 'success' : 'loading',\n    fetchStatus: 'idle',\n  }\n}\n", "import { hashQueryKeyByOptions, matchQuery, parseFilterArgs } from './utils'\nimport { Query } from './query'\nimport { notifyManager } from './notifyManager'\nimport { Subscribable } from './subscribable'\nimport type { QueryFilters } from './utils'\nimport type { Action, QueryState } from './query'\nimport type { NotifyEvent, QueryKey, QueryOptions } from './types'\nimport type { QueryClient } from './queryClient'\nimport type { QueryObserver } from './queryObserver'\n\n// TYPES\n\ninterface QueryCacheConfig {\n  onError?: (error: unknown, query: Query<unknown, unknown, unknown>) => void\n  onSuccess?: (data: unknown, query: Query<unknown, unknown, unknown>) => void\n  onSettled?: (\n    data: unknown | undefined,\n    error: unknown | null,\n    query: Query<unknown, unknown, unknown>,\n  ) => void\n}\n\ninterface QueryHashMap {\n  [hash: string]: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryAdded extends NotifyEvent {\n  type: 'added'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryRemoved extends NotifyEvent {\n  type: 'removed'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryUpdated extends NotifyEvent {\n  type: 'updated'\n  query: Query<any, any, any, any>\n  action: Action<any, any>\n}\n\ninterface NotifyEventQueryObserverAdded extends NotifyEvent {\n  type: 'observerAdded'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverRemoved extends NotifyEvent {\n  type: 'observerRemoved'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverResultsUpdated extends NotifyEvent {\n  type: 'observerResultsUpdated'\n  query: Query<any, any, any, any>\n}\n\ninterface NotifyEventQueryObserverOptionsUpdated extends NotifyEvent {\n  type: 'observerOptionsUpdated'\n  query: Query<any, any, any, any>\n  observer: QueryObserver<any, any, any, any, any>\n}\n\nexport type QueryCacheNotifyEvent =\n  | NotifyEventQueryAdded\n  | NotifyEventQueryRemoved\n  | NotifyEventQueryUpdated\n  | NotifyEventQueryObserverAdded\n  | NotifyEventQueryObserverRemoved\n  | NotifyEventQueryObserverResultsUpdated\n  | NotifyEventQueryObserverOptionsUpdated\n\ntype QueryCacheListener = (event: QueryCacheNotifyEvent) => void\n\n// CLASS\n\nexport class QueryCache extends Subscribable<QueryCacheListener> {\n  config: QueryCacheConfig\n\n  private queries: Query<any, any, any, any>[]\n  private queriesMap: QueryHashMap\n\n  constructor(config?: QueryCacheConfig) {\n    super()\n    this.config = config || {}\n    this.queries = []\n    this.queriesMap = {}\n  }\n\n  build<TQueryFnData, TError, TData, TQueryKey extends QueryKey>(\n    client: QueryClient,\n    options: QueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    state?: QueryState<TData, TError>,\n  ): Query<TQueryFnData, TError, TData, TQueryKey> {\n    const queryKey = options.queryKey!\n    const queryHash =\n      options.queryHash ?? hashQueryKeyByOptions(queryKey, options)\n    let query = this.get<TQueryFnData, TError, TData, TQueryKey>(queryHash)\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        logger: client.getLogger(),\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey),\n      })\n      this.add(query)\n    }\n\n    return query\n  }\n\n  add(query: Query<any, any, any, any>): void {\n    if (!this.queriesMap[query.queryHash]) {\n      this.queriesMap[query.queryHash] = query\n      this.queries.push(query)\n      this.notify({\n        type: 'added',\n        query,\n      })\n    }\n  }\n\n  remove(query: Query<any, any, any, any>): void {\n    const queryInMap = this.queriesMap[query.queryHash]\n\n    if (queryInMap) {\n      query.destroy()\n\n      this.queries = this.queries.filter((x) => x !== query)\n\n      if (queryInMap === query) {\n        delete this.queriesMap[query.queryHash]\n      }\n\n      this.notify({ type: 'removed', query })\n    }\n  }\n\n  clear(): void {\n    notifyManager.batch(() => {\n      this.queries.forEach((query) => {\n        this.remove(query)\n      })\n    })\n  }\n\n  get<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryHash: string,\n  ): Query<TQueryFnData, TError, TData, TQueryKey> | undefined {\n    return this.queriesMap[queryHash]\n  }\n\n  getAll(): Query[] {\n    return this.queries\n  }\n\n  find<TQueryFnData = unknown, TError = unknown, TData = TQueryFnData>(\n    arg1: QueryKey,\n    arg2?: QueryFilters,\n  ): Query<TQueryFnData, TError, TData> | undefined {\n    const [filters] = parseFilterArgs(arg1, arg2)\n\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true\n    }\n\n    return this.queries.find((query) => matchQuery(filters, query))\n  }\n\n  findAll(queryKey?: QueryKey, filters?: QueryFilters): Query[]\n  findAll(filters?: QueryFilters): Query[]\n  findAll(arg1?: QueryKey | QueryFilters, arg2?: QueryFilters): Query[]\n  findAll(arg1?: QueryKey | QueryFilters, arg2?: QueryFilters): Query[] {\n    const [filters] = parseFilterArgs(arg1, arg2)\n    return Object.keys(filters).length > 0\n      ? this.queries.filter((query) => matchQuery(filters, query))\n      : this.queries\n  }\n\n  notify(event: QueryCacheNotifyEvent) {\n    notifyManager.batch(() => {\n      this.listeners.forEach(({ listener }) => {\n        listener(event)\n      })\n    })\n  }\n\n  onFocus(): void {\n    notifyManager.batch(() => {\n      this.queries.forEach((query) => {\n        query.onFocus()\n      })\n    })\n  }\n\n  onOnline(): void {\n    notifyManager.batch(() => {\n      this.queries.forEach((query) => {\n        query.onOnline()\n      })\n    })\n  }\n}\n", "import { defaultLogger } from './logger'\nimport { notifyManager } from './notifyManager'\nimport { Removable } from './removable'\nimport { canFetch, createRetryer } from './retryer'\nimport type { MutationMeta, MutationOptions, MutationStatus } from './types'\nimport type { MutationCache } from './mutationCache'\nimport type { MutationObserver } from './mutationObserver'\nimport type { Logger } from './logger'\nimport type { Retryer } from './retryer'\n\n// TYPES\n\ninterface MutationConfig<TData, TError, TVariables, TContext> {\n  mutationId: number\n  mutationCache: MutationCache\n  options: MutationOptions<TData, TError, TVariables, TContext>\n  logger?: Logger\n  defaultOptions?: MutationOptions<TData, TError, TVariables, TContext>\n  state?: MutationState<TData, TError, TVariables, TContext>\n  meta?: MutationMeta\n}\n\nexport interface MutationState<\n  TData = unknown,\n  TError = unknown,\n  TVariables = void,\n  TContext = unknown,\n> {\n  context: TContext | undefined\n  data: TData | undefined\n  error: TError | null\n  failureCount: number\n  failureReason: TError | null\n  isPaused: boolean\n  status: MutationStatus\n  variables: TVariables | undefined\n}\n\ninterface FailedAction<TError> {\n  type: 'failed'\n  failureCount: number\n  error: TError | null\n}\n\ninterface LoadingAction<TVariables, TContext> {\n  type: 'loading'\n  variables?: TVariables\n  context?: TContext\n}\n\ninterface SuccessAction<TData> {\n  type: 'success'\n  data: TData\n}\n\ninterface ErrorAction<TError> {\n  type: 'error'\n  error: TError\n}\n\ninterface PauseAction {\n  type: 'pause'\n}\n\ninterface ContinueAction {\n  type: 'continue'\n}\n\ninterface SetStateAction<TData, TError, TVariables, TContext> {\n  type: 'setState'\n  state: MutationState<TData, TError, TVariables, TContext>\n}\n\nexport type Action<TData, TError, TVariables, TContext> =\n  | ContinueAction\n  | ErrorAction<TError>\n  | FailedAction<TError>\n  | LoadingAction<TVariables, TContext>\n  | PauseAction\n  | SetStateAction<TData, TError, TVariables, TContext>\n  | SuccessAction<TData>\n\n// CLASS\n\nexport class Mutation<\n  TData = unknown,\n  TError = unknown,\n  TVariables = void,\n  TContext = unknown,\n> extends Removable {\n  state: MutationState<TData, TError, TVariables, TContext>\n  options!: MutationOptions<TData, TError, TVariables, TContext>\n  mutationId: number\n\n  private observers: MutationObserver<TData, TError, TVariables, TContext>[]\n  private defaultOptions?: MutationOptions<TData, TError, TVariables, TContext>\n  private mutationCache: MutationCache\n  private logger: Logger\n  private retryer?: Retryer<TData>\n\n  constructor(config: MutationConfig<TData, TError, TVariables, TContext>) {\n    super()\n\n    this.defaultOptions = config.defaultOptions\n    this.mutationId = config.mutationId\n    this.mutationCache = config.mutationCache\n    this.logger = config.logger || defaultLogger\n    this.observers = []\n    this.state = config.state || getDefaultState()\n\n    this.setOptions(config.options)\n    this.scheduleGc()\n  }\n\n  setOptions(\n    options?: MutationOptions<TData, TError, TVariables, TContext>,\n  ): void {\n    this.options = { ...this.defaultOptions, ...options }\n\n    this.updateCacheTime(this.options.cacheTime)\n  }\n\n  get meta(): MutationMeta | undefined {\n    return this.options.meta\n  }\n\n  setState(state: MutationState<TData, TError, TVariables, TContext>): void {\n    this.dispatch({ type: 'setState', state })\n  }\n\n  addObserver(observer: MutationObserver<any, any, any, any>): void {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer)\n\n      // Stop the mutation from being garbage collected\n      this.clearGcTimeout()\n\n      this.mutationCache.notify({\n        type: 'observerAdded',\n        mutation: this,\n        observer,\n      })\n    }\n  }\n\n  removeObserver(observer: MutationObserver<any, any, any, any>): void {\n    this.observers = this.observers.filter((x) => x !== observer)\n\n    this.scheduleGc()\n\n    this.mutationCache.notify({\n      type: 'observerRemoved',\n      mutation: this,\n      observer,\n    })\n  }\n\n  protected optionalRemove() {\n    if (!this.observers.length) {\n      if (this.state.status === 'loading') {\n        this.scheduleGc()\n      } else {\n        this.mutationCache.remove(this)\n      }\n    }\n  }\n\n  continue(): Promise<unknown> {\n    return this.retryer?.continue() ?? this.execute()\n  }\n\n  async execute(): Promise<TData> {\n    const executeMutation = () => {\n      this.retryer = createRetryer({\n        fn: () => {\n          if (!this.options.mutationFn) {\n            return Promise.reject('No mutationFn found')\n          }\n          return this.options.mutationFn(this.state.variables!)\n        },\n        onFail: (failureCount, error) => {\n          this.dispatch({ type: 'failed', failureCount, error })\n        },\n        onPause: () => {\n          this.dispatch({ type: 'pause' })\n        },\n        onContinue: () => {\n          this.dispatch({ type: 'continue' })\n        },\n        retry: this.options.retry ?? 0,\n        retryDelay: this.options.retryDelay,\n        networkMode: this.options.networkMode,\n      })\n\n      return this.retryer.promise\n    }\n\n    const restored = this.state.status === 'loading'\n    try {\n      if (!restored) {\n        this.dispatch({ type: 'loading', variables: this.options.variables! })\n        // Notify cache callback\n        await this.mutationCache.config.onMutate?.(\n          this.state.variables,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n        )\n        const context = await this.options.onMutate?.(this.state.variables!)\n        if (context !== this.state.context) {\n          this.dispatch({\n            type: 'loading',\n            context,\n            variables: this.state.variables,\n          })\n        }\n      }\n      const data = await executeMutation()\n\n      // Notify cache callback\n      await this.mutationCache.config.onSuccess?.(\n        data,\n        this.state.variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n      )\n\n      await this.options.onSuccess?.(\n        data,\n        this.state.variables!,\n        this.state.context!,\n      )\n\n      // Notify cache callback\n      await this.mutationCache.config.onSettled?.(\n        data,\n        null,\n        this.state.variables,\n        this.state.context,\n        this as Mutation<unknown, unknown, unknown, unknown>,\n      )\n\n      await this.options.onSettled?.(\n        data,\n        null,\n        this.state.variables!,\n        this.state.context,\n      )\n\n      this.dispatch({ type: 'success', data })\n      return data\n    } catch (error) {\n      try {\n        // Notify cache callback\n        await this.mutationCache.config.onError?.(\n          error,\n          this.state.variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n        )\n\n        if (process.env.NODE_ENV !== 'production') {\n          this.logger.error(error)\n        }\n\n        await this.options.onError?.(\n          error as TError,\n          this.state.variables!,\n          this.state.context,\n        )\n\n        // Notify cache callback\n        await this.mutationCache.config.onSettled?.(\n          undefined,\n          error,\n          this.state.variables,\n          this.state.context,\n          this as Mutation<unknown, unknown, unknown, unknown>,\n        )\n\n        await this.options.onSettled?.(\n          undefined,\n          error as TError,\n          this.state.variables!,\n          this.state.context,\n        )\n        throw error\n      } finally {\n        this.dispatch({ type: 'error', error: error as TError })\n      }\n    }\n  }\n\n  private dispatch(action: Action<TData, TError, TVariables, TContext>): void {\n    const reducer = (\n      state: MutationState<TData, TError, TVariables, TContext>,\n    ): MutationState<TData, TError, TVariables, TContext> => {\n      switch (action.type) {\n        case 'failed':\n          return {\n            ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error,\n          }\n        case 'pause':\n          return {\n            ...state,\n            isPaused: true,\n          }\n        case 'continue':\n          return {\n            ...state,\n            isPaused: false,\n          }\n        case 'loading':\n          return {\n            ...state,\n            context: action.context,\n            data: undefined,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: !canFetch(this.options.networkMode),\n            status: 'loading',\n            variables: action.variables,\n          }\n        case 'success':\n          return {\n            ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: 'success',\n            isPaused: false,\n          }\n        case 'error':\n          return {\n            ...state,\n            data: undefined,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: 'error',\n          }\n        case 'setState':\n          return {\n            ...state,\n            ...action.state,\n          }\n      }\n    }\n    this.state = reducer(this.state)\n\n    notifyManager.batch(() => {\n      this.observers.forEach((observer) => {\n        observer.onMutationUpdate(action)\n      })\n      this.mutationCache.notify({\n        mutation: this,\n        type: 'updated',\n        action,\n      })\n    })\n  }\n}\n\nexport function getDefaultState<\n  TData,\n  TError,\n  TVariables,\n  TContext,\n>(): MutationState<TData, TError, TVariables, TContext> {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined,\n  }\n}\n", "import { notifyManager } from './notifyManager'\nimport { Mutation } from './mutation'\nimport { matchMutation, noop } from './utils'\nimport { Subscribable } from './subscribable'\nimport type { MutationObserver } from './mutationObserver'\nimport type { MutationOptions, NotifyEvent } from './types'\nimport type { QueryClient } from './queryClient'\nimport type { Action, MutationState } from './mutation'\nimport type { MutationFilters } from './utils'\n\n// TYPES\n\ninterface MutationCacheConfig {\n  onError?: (\n    error: unknown,\n    variables: unknown,\n    context: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n  onSuccess?: (\n    data: unknown,\n    variables: unknown,\n    context: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n  onMutate?: (\n    variables: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n  onSettled?: (\n    data: unknown | undefined,\n    error: unknown | null,\n    variables: unknown,\n    context: unknown,\n    mutation: Mutation<unknown, unknown, unknown>,\n  ) => Promise<unknown> | unknown\n}\n\ninterface NotifyEventMutationAdded extends NotifyEvent {\n  type: 'added'\n  mutation: Mutation<any, any, any, any>\n}\ninterface NotifyEventMutationRemoved extends NotifyEvent {\n  type: 'removed'\n  mutation: Mutation<any, any, any, any>\n}\n\ninterface NotifyEventMutationObserverAdded extends NotifyEvent {\n  type: 'observerAdded'\n  mutation: Mutation<any, any, any, any>\n  observer: MutationObserver<any, any, any>\n}\n\ninterface NotifyEventMutationObserverRemoved extends NotifyEvent {\n  type: 'observerRemoved'\n  mutation: Mutation<any, any, any, any>\n  observer: MutationObserver<any, any, any>\n}\n\ninterface NotifyEventMutationObserverOptionsUpdated extends NotifyEvent {\n  type: 'observerOptionsUpdated'\n  mutation?: Mutation<any, any, any, any>\n  observer: MutationObserver<any, any, any, any>\n}\n\ninterface NotifyEventMutationUpdated extends NotifyEvent {\n  type: 'updated'\n  mutation: Mutation<any, any, any, any>\n  action: Action<any, any, any, any>\n}\n\ntype MutationCacheNotifyEvent =\n  | NotifyEventMutationAdded\n  | NotifyEventMutationRemoved\n  | NotifyEventMutationObserverAdded\n  | NotifyEventMutationObserverRemoved\n  | NotifyEventMutationObserverOptionsUpdated\n  | NotifyEventMutationUpdated\n\ntype MutationCacheListener = (event: MutationCacheNotifyEvent) => void\n\n// CLASS\n\nexport class MutationCache extends Subscribable<MutationCacheListener> {\n  config: MutationCacheConfig\n\n  private mutations: Mutation<any, any, any, any>[]\n  private mutationId: number\n  private resuming: Promise<unknown> | undefined\n\n  constructor(config?: MutationCacheConfig) {\n    super()\n    this.config = config || {}\n    this.mutations = []\n    this.mutationId = 0\n  }\n\n  build<TData, TError, TVariables, TContext>(\n    client: QueryClient,\n    options: MutationOptions<TData, TError, TVariables, TContext>,\n    state?: MutationState<TData, TError, TVariables, TContext>,\n  ): Mutation<TData, TError, TVariables, TContext> {\n    const mutation = new Mutation({\n      mutationCache: this,\n      logger: client.getLogger(),\n      mutationId: ++this.mutationId,\n      options: client.defaultMutationOptions(options),\n      state,\n      defaultOptions: options.mutationKey\n        ? client.getMutationDefaults(options.mutationKey)\n        : undefined,\n    })\n\n    this.add(mutation)\n\n    return mutation\n  }\n\n  add(mutation: Mutation<any, any, any, any>): void {\n    this.mutations.push(mutation)\n    this.notify({ type: 'added', mutation })\n  }\n\n  remove(mutation: Mutation<any, any, any, any>): void {\n    this.mutations = this.mutations.filter((x) => x !== mutation)\n    this.notify({ type: 'removed', mutation })\n  }\n\n  clear(): void {\n    notifyManager.batch(() => {\n      this.mutations.forEach((mutation) => {\n        this.remove(mutation)\n      })\n    })\n  }\n\n  getAll(): Mutation[] {\n    return this.mutations\n  }\n\n  find<TData = unknown, TError = unknown, TVariables = any, TContext = unknown>(\n    filters: MutationFilters,\n  ): Mutation<TData, TError, TVariables, TContext> | undefined {\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true\n    }\n\n    return this.mutations.find((mutation) => matchMutation(filters, mutation))\n  }\n\n  findAll(filters: MutationFilters): Mutation[] {\n    return this.mutations.filter((mutation) => matchMutation(filters, mutation))\n  }\n\n  notify(event: MutationCacheNotifyEvent) {\n    notifyManager.batch(() => {\n      this.listeners.forEach(({ listener }) => {\n        listener(event)\n      })\n    })\n  }\n\n  resumePausedMutations(): Promise<unknown> {\n    this.resuming = (this.resuming ?? Promise.resolve())\n      .then(() => {\n        const pausedMutations = this.mutations.filter((x) => x.state.isPaused)\n        return notifyManager.batch(() =>\n          pausedMutations.reduce(\n            (promise, mutation) =>\n              promise.then(() => mutation.continue().catch(noop)),\n            Promise.resolve() as Promise<unknown>,\n          ),\n        )\n      })\n      .then(() => {\n        this.resuming = undefined\n      })\n\n    return this.resuming\n  }\n}\n", "import type { QueryBehavior } from './query'\n\nimport type {\n  InfiniteData,\n  QueryFunctionContext,\n  QueryOptions,\n  RefetchQueryFilters,\n} from './types'\n\nexport function infiniteQueryBehavior<\n  TQueryFnData,\n  TError,\n  TData,\n>(): QueryBehavior<TQueryFnData, TError, InfiniteData<TData>> {\n  return {\n    onFetch: (context) => {\n      context.fetchFn = () => {\n        const refetchPage: RefetchQueryFilters['refetchPage'] | undefined =\n          context.fetchOptions?.meta?.refetchPage\n        const fetchMore = context.fetchOptions?.meta?.fetchMore\n        const pageParam = fetchMore?.pageParam\n        const isFetchingNextPage = fetchMore?.direction === 'forward'\n        const isFetchingPreviousPage = fetchMore?.direction === 'backward'\n        const oldPages = context.state.data?.pages || []\n        const oldPageParams = context.state.data?.pageParams || []\n        let newPageParams = oldPageParams\n        let cancelled = false\n\n        const addSignalProperty = (object: unknown) => {\n          Object.defineProperty(object, 'signal', {\n            enumerable: true,\n            get: () => {\n              if (context.signal?.aborted) {\n                cancelled = true\n              } else {\n                context.signal?.addEventListener('abort', () => {\n                  cancelled = true\n                })\n              }\n              return context.signal\n            },\n          })\n        }\n\n        // Get query function\n        const queryFn =\n          context.options.queryFn ||\n          (() =>\n            Promise.reject(\n              `Missing queryFn for queryKey '${context.options.queryHash}'`,\n            ))\n\n        const buildNewPages = (\n          pages: unknown[],\n          param: unknown,\n          page: unknown,\n          previous?: boolean,\n        ) => {\n          newPageParams = previous\n            ? [param, ...newPageParams]\n            : [...newPageParams, param]\n          return previous ? [page, ...pages] : [...pages, page]\n        }\n\n        // Create function to fetch a page\n        const fetchPage = (\n          pages: unknown[],\n          manual?: boolean,\n          param?: unknown,\n          previous?: boolean,\n        ): Promise<unknown[]> => {\n          if (cancelled) {\n            return Promise.reject('Cancelled')\n          }\n\n          if (typeof param === 'undefined' && !manual && pages.length) {\n            return Promise.resolve(pages)\n          }\n\n          const queryFnContext: QueryFunctionContext = {\n            queryKey: context.queryKey,\n            pageParam: param,\n            meta: context.options.meta,\n          }\n\n          addSignalProperty(queryFnContext)\n\n          const queryFnResult = queryFn(queryFnContext)\n\n          const promise = Promise.resolve(queryFnResult).then((page) =>\n            buildNewPages(pages, param, page, previous),\n          )\n\n          return promise\n        }\n\n        let promise: Promise<unknown[]>\n\n        // Fetch first page?\n        if (!oldPages.length) {\n          promise = fetchPage([])\n        }\n\n        // Fetch next page?\n        else if (isFetchingNextPage) {\n          const manual = typeof pageParam !== 'undefined'\n          const param = manual\n            ? pageParam\n            : getNextPageParam(context.options, oldPages)\n          promise = fetchPage(oldPages, manual, param)\n        }\n\n        // Fetch previous page?\n        else if (isFetchingPreviousPage) {\n          const manual = typeof pageParam !== 'undefined'\n          const param = manual\n            ? pageParam\n            : getPreviousPageParam(context.options, oldPages)\n          promise = fetchPage(oldPages, manual, param, true)\n        }\n\n        // Refetch pages\n        else {\n          newPageParams = []\n\n          const manual = typeof context.options.getNextPageParam === 'undefined'\n\n          const shouldFetchFirstPage =\n            refetchPage && oldPages[0]\n              ? refetchPage(oldPages[0], 0, oldPages)\n              : true\n\n          // Fetch first page\n          promise = shouldFetchFirstPage\n            ? fetchPage([], manual, oldPageParams[0])\n            : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0]))\n\n          // Fetch remaining pages\n          for (let i = 1; i < oldPages.length; i++) {\n            promise = promise.then((pages) => {\n              const shouldFetchNextPage =\n                refetchPage && oldPages[i]\n                  ? refetchPage(oldPages[i], i, oldPages)\n                  : true\n\n              if (shouldFetchNextPage) {\n                const param = manual\n                  ? oldPageParams[i]\n                  : getNextPageParam(context.options, pages)\n                return fetchPage(pages, manual, param)\n              }\n              return Promise.resolve(\n                buildNewPages(pages, oldPageParams[i], oldPages[i]),\n              )\n            })\n          }\n        }\n\n        const finalPromise = promise.then((pages) => ({\n          pages,\n          pageParams: newPageParams,\n        }))\n\n        return finalPromise\n      }\n    },\n  }\n}\n\nexport function getNextPageParam(\n  options: QueryOptions<any, any>,\n  pages: unknown[],\n): unknown | undefined {\n  return options.getNextPageParam?.(pages[pages.length - 1], pages)\n}\n\nexport function getPreviousPageParam(\n  options: QueryOptions<any, any>,\n  pages: unknown[],\n): unknown | undefined {\n  return options.getPreviousPageParam?.(pages[0], pages)\n}\n\n/**\n * Checks if there is a next page.\n * Returns `undefined` if it cannot be determined.\n */\nexport function hasNextPage(\n  options: QueryOptions<any, any, any, any>,\n  pages?: unknown,\n): boolean | undefined {\n  if (options.getNextPageParam && Array.isArray(pages)) {\n    const nextPageParam = getNextPageParam(options, pages)\n    return (\n      typeof nextPageParam !== 'undefined' &&\n      nextPageParam !== null &&\n      nextPageParam !== false\n    )\n  }\n  return\n}\n\n/**\n * Checks if there is a previous page.\n * Returns `undefined` if it cannot be determined.\n */\nexport function hasPreviousPage(\n  options: QueryOptions<any, any, any, any>,\n  pages?: unknown,\n): boolean | undefined {\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\n    const previousPageParam = getPreviousPageParam(options, pages)\n    return (\n      typeof previousPageParam !== 'undefined' &&\n      previousPageParam !== null &&\n      previousPageParam !== false\n    )\n  }\n  return\n}\n", "import {\n  functionalUpdate,\n  hashQueryKey,\n  hashQueryKeyByOptions,\n  noop,\n  parseFilterArgs,\n  parseQueryArgs,\n  partialMatchKey,\n} from './utils'\nimport { QueryCache } from './queryCache'\nimport { MutationCache } from './mutationCache'\nimport { focusManager } from './focusManager'\nimport { onlineManager } from './onlineManager'\nimport { notifyManager } from './notifyManager'\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior'\nimport { defaultLogger } from './logger'\nimport type { CancelOptions, DefaultedQueryObserverOptions } from './types'\nimport type { Logger } from './logger'\nimport type { QueryState } from './query'\nimport type {\n  DefaultOptions,\n  FetchInfiniteQueryOptions,\n  FetchQueryOptions,\n  InfiniteData,\n  InvalidateOptions,\n  InvalidateQueryFilters,\n  MutationKey,\n  MutationObserverOptions,\n  MutationOptions,\n  QueryClientConfig,\n  QueryFunction,\n  QueryKey,\n  QueryObserverOptions,\n  QueryOptions,\n  RefetchOptions,\n  RefetchQueryFilters,\n  ResetOptions,\n  ResetQueryFilters,\n  SetDataOptions,\n  WithRequired,\n} from './types'\nimport type { MutationFilters, QueryFilters, Updater } from './utils'\n\n// TYPES\n\ninterface QueryDefaults {\n  queryKey: QueryKey\n  defaultOptions: QueryOptions<any, any, any>\n}\n\ninterface MutationDefaults {\n  mutationKey: MutationKey\n  defaultOptions: MutationOptions<any, any, any, any>\n}\n\n// CLASS\n\nexport class QueryClient {\n  private queryCache: QueryCache\n  private mutationCache: MutationCache\n  private logger: Logger\n  private defaultOptions: DefaultOptions\n  private queryDefaults: QueryDefaults[]\n  private mutationDefaults: MutationDefaults[]\n  private mountCount: number\n  private unsubscribeFocus?: () => void\n  private unsubscribeOnline?: () => void\n\n  constructor(config: QueryClientConfig = {}) {\n    this.queryCache = config.queryCache || new QueryCache()\n    this.mutationCache = config.mutationCache || new MutationCache()\n    this.logger = config.logger || defaultLogger\n    this.defaultOptions = config.defaultOptions || {}\n    this.queryDefaults = []\n    this.mutationDefaults = []\n    this.mountCount = 0\n\n    if (process.env.NODE_ENV !== 'production' && config.logger) {\n      this.logger.error(\n        `Passing a custom logger has been deprecated and will be removed in the next major version.`,\n      )\n    }\n  }\n\n  mount(): void {\n    this.mountCount++\n    if (this.mountCount !== 1) return\n\n    this.unsubscribeFocus = focusManager.subscribe(() => {\n      if (focusManager.isFocused()) {\n        this.resumePausedMutations()\n        this.queryCache.onFocus()\n      }\n    })\n    this.unsubscribeOnline = onlineManager.subscribe(() => {\n      if (onlineManager.isOnline()) {\n        this.resumePausedMutations()\n        this.queryCache.onOnline()\n      }\n    })\n  }\n\n  unmount(): void {\n    this.mountCount--\n    if (this.mountCount !== 0) return\n\n    this.unsubscribeFocus?.()\n    this.unsubscribeFocus = undefined\n\n    this.unsubscribeOnline?.()\n    this.unsubscribeOnline = undefined\n  }\n\n  isFetching(filters?: QueryFilters): number\n  isFetching(queryKey?: QueryKey, filters?: QueryFilters): number\n  isFetching(arg1?: QueryKey | QueryFilters, arg2?: QueryFilters): number {\n    const [filters] = parseFilterArgs(arg1, arg2)\n    filters.fetchStatus = 'fetching'\n    return this.queryCache.findAll(filters).length\n  }\n\n  isMutating(filters?: MutationFilters): number {\n    return this.mutationCache.findAll({ ...filters, fetching: true }).length\n  }\n\n  getQueryData<TQueryFnData = unknown>(\n    queryKey: QueryKey,\n    filters?: QueryFilters,\n  ): TQueryFnData | undefined {\n    return this.queryCache.find<TQueryFnData>(queryKey, filters)?.state.data\n  }\n\n  ensureQueryData<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: WithRequired<\n      FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n      'queryKey'\n    >,\n  ): Promise<TData>\n  ensureQueryData<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    options?: Omit<\n      FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n      'queryKey'\n    >,\n  ): Promise<TData>\n  ensureQueryData<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    queryFn: QueryFunction<TQueryFnData, TQueryKey>,\n    options?: Omit<\n      FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n      'queryKey' | 'queryFn'\n    >,\n  ): Promise<TData>\n  ensureQueryData<\n    TQueryFnData,\n    TError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    arg1:\n      | TQueryKey\n      | WithRequired<\n          FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n          'queryKey'\n        >,\n    arg2?:\n      | QueryFunction<TQueryFnData, TQueryKey>\n      | FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    arg3?: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<TData> {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3)\n    const cachedData = this.getQueryData<TData>(parsedOptions.queryKey!)\n\n    return cachedData\n      ? Promise.resolve(cachedData)\n      : this.fetchQuery(parsedOptions)\n  }\n\n  getQueriesData<TQueryFnData = unknown>(\n    queryKey: QueryKey,\n  ): [QueryKey, TQueryFnData | undefined][]\n  getQueriesData<TQueryFnData = unknown>(\n    filters: QueryFilters,\n  ): [QueryKey, TQueryFnData | undefined][]\n  getQueriesData<TQueryFnData = unknown>(\n    queryKeyOrFilters: QueryKey | QueryFilters,\n  ): [QueryKey, TQueryFnData | undefined][] {\n    return this.getQueryCache()\n      .findAll(queryKeyOrFilters)\n      .map(({ queryKey, state }) => {\n        const data = state.data as TQueryFnData | undefined\n        return [queryKey, data]\n      })\n  }\n\n  setQueryData<TQueryFnData>(\n    queryKey: QueryKey,\n    updater: Updater<TQueryFnData | undefined, TQueryFnData | undefined>,\n    options?: SetDataOptions,\n  ): TQueryFnData | undefined {\n    const query = this.queryCache.find<TQueryFnData>(queryKey)\n    const prevData = query?.state.data\n    const data = functionalUpdate(updater, prevData)\n\n    if (typeof data === 'undefined') {\n      return undefined\n    }\n\n    const parsedOptions = parseQueryArgs(queryKey)\n    const defaultedOptions = this.defaultQueryOptions(parsedOptions)\n    return this.queryCache\n      .build(this, defaultedOptions)\n      .setData(data, { ...options, manual: true })\n  }\n\n  setQueriesData<TQueryFnData>(\n    queryKey: QueryKey,\n    updater: Updater<TQueryFnData | undefined, TQueryFnData | undefined>,\n    options?: SetDataOptions,\n  ): [QueryKey, TQueryFnData | undefined][]\n\n  setQueriesData<TQueryFnData>(\n    filters: QueryFilters,\n    updater: Updater<TQueryFnData | undefined, TQueryFnData | undefined>,\n    options?: SetDataOptions,\n  ): [QueryKey, TQueryFnData | undefined][]\n\n  setQueriesData<TQueryFnData>(\n    queryKeyOrFilters: QueryKey | QueryFilters,\n    updater: Updater<TQueryFnData | undefined, TQueryFnData | undefined>,\n    options?: SetDataOptions,\n  ): [QueryKey, TQueryFnData | undefined][] {\n    return notifyManager.batch(() =>\n      this.getQueryCache()\n        .findAll(queryKeyOrFilters)\n        .map(({ queryKey }) => [\n          queryKey,\n          this.setQueryData<TQueryFnData>(queryKey, updater, options),\n        ]),\n    )\n  }\n\n  getQueryState<TQueryFnData = unknown, TError = undefined>(\n    queryKey: QueryKey,\n    filters?: QueryFilters,\n  ): QueryState<TQueryFnData, TError> | undefined {\n    return this.queryCache.find<TQueryFnData, TError>(queryKey, filters)?.state\n  }\n\n  removeQueries(filters?: QueryFilters): void\n  removeQueries(queryKey?: QueryKey, filters?: QueryFilters): void\n  removeQueries(arg1?: QueryKey | QueryFilters, arg2?: QueryFilters): void {\n    const [filters] = parseFilterArgs(arg1, arg2)\n    const queryCache = this.queryCache\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        queryCache.remove(query)\n      })\n    })\n  }\n\n  resetQueries<TPageData = unknown>(\n    filters?: ResetQueryFilters<TPageData>,\n    options?: ResetOptions,\n  ): Promise<void>\n  resetQueries<TPageData = unknown>(\n    queryKey?: QueryKey,\n    filters?: ResetQueryFilters<TPageData>,\n    options?: ResetOptions,\n  ): Promise<void>\n  resetQueries(\n    arg1?: QueryKey | ResetQueryFilters,\n    arg2?: ResetQueryFilters | ResetOptions,\n    arg3?: ResetOptions,\n  ): Promise<void> {\n    const [filters, options] = parseFilterArgs(arg1, arg2, arg3)\n    const queryCache = this.queryCache\n\n    const refetchFilters: RefetchQueryFilters = {\n      type: 'active',\n      ...filters,\n    }\n\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach((query) => {\n        query.reset()\n      })\n      return this.refetchQueries(refetchFilters, options)\n    })\n  }\n\n  cancelQueries(filters?: QueryFilters, options?: CancelOptions): Promise<void>\n  cancelQueries(\n    queryKey?: QueryKey,\n    filters?: QueryFilters,\n    options?: CancelOptions,\n  ): Promise<void>\n  cancelQueries(\n    arg1?: QueryKey | QueryFilters,\n    arg2?: QueryFilters | CancelOptions,\n    arg3?: CancelOptions,\n  ): Promise<void> {\n    const [filters, cancelOptions = {}] = parseFilterArgs(arg1, arg2, arg3)\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true\n    }\n\n    const promises = notifyManager.batch(() =>\n      this.queryCache\n        .findAll(filters)\n        .map((query) => query.cancel(cancelOptions)),\n    )\n\n    return Promise.all(promises).then(noop).catch(noop)\n  }\n\n  invalidateQueries<TPageData = unknown>(\n    filters?: InvalidateQueryFilters<TPageData>,\n    options?: InvalidateOptions,\n  ): Promise<void>\n  invalidateQueries<TPageData = unknown>(\n    queryKey?: QueryKey,\n    filters?: InvalidateQueryFilters<TPageData>,\n    options?: InvalidateOptions,\n  ): Promise<void>\n  invalidateQueries(\n    arg1?: QueryKey | InvalidateQueryFilters,\n    arg2?: InvalidateQueryFilters | InvalidateOptions,\n    arg3?: InvalidateOptions,\n  ): Promise<void> {\n    const [filters, options] = parseFilterArgs(arg1, arg2, arg3)\n\n    return notifyManager.batch(() => {\n      this.queryCache.findAll(filters).forEach((query) => {\n        query.invalidate()\n      })\n\n      if (filters.refetchType === 'none') {\n        return Promise.resolve()\n      }\n      const refetchFilters: RefetchQueryFilters = {\n        ...filters,\n        type: filters.refetchType ?? filters.type ?? 'active',\n      }\n      return this.refetchQueries(refetchFilters, options)\n    })\n  }\n\n  refetchQueries<TPageData = unknown>(\n    filters?: RefetchQueryFilters<TPageData>,\n    options?: RefetchOptions,\n  ): Promise<void>\n  refetchQueries<TPageData = unknown>(\n    queryKey?: QueryKey,\n    filters?: RefetchQueryFilters<TPageData>,\n    options?: RefetchOptions,\n  ): Promise<void>\n  refetchQueries(\n    arg1?: QueryKey | RefetchQueryFilters,\n    arg2?: RefetchQueryFilters | RefetchOptions,\n    arg3?: RefetchOptions,\n  ): Promise<void> {\n    const [filters, options] = parseFilterArgs(arg1, arg2, arg3)\n\n    const promises = notifyManager.batch(() =>\n      this.queryCache\n        .findAll(filters)\n        .filter((query) => !query.isDisabled())\n        .map((query) =>\n          query.fetch(undefined, {\n            ...options,\n            cancelRefetch: options?.cancelRefetch ?? true,\n            meta: { refetchPage: filters.refetchPage },\n          }),\n        ),\n    )\n\n    let promise = Promise.all(promises).then(noop)\n\n    if (!options?.throwOnError) {\n      promise = promise.catch(noop)\n    }\n\n    return promise\n  }\n\n  fetchQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<TData>\n  fetchQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    options?: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<TData>\n  fetchQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    queryFn: QueryFunction<TQueryFnData, TQueryKey>,\n    options?: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<TData>\n  fetchQuery<\n    TQueryFnData,\n    TError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    arg1: TQueryKey | FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    arg2?:\n      | QueryFunction<TQueryFnData, TQueryKey>\n      | FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    arg3?: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<TData> {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3)\n    const defaultedOptions = this.defaultQueryOptions(parsedOptions)\n\n    // https://github.com/tannerlinsley/react-query/issues/652\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false\n    }\n\n    const query = this.queryCache.build(this, defaultedOptions)\n\n    return query.isStaleByTime(defaultedOptions.staleTime)\n      ? query.fetch(defaultedOptions)\n      : Promise.resolve(query.state.data as TData)\n  }\n\n  prefetchQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void>\n  prefetchQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    options?: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void>\n  prefetchQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    queryFn: QueryFunction<TQueryFnData, TQueryKey>,\n    options?: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void>\n  prefetchQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    arg1: TQueryKey | FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    arg2?:\n      | QueryFunction<TQueryFnData, TQueryKey>\n      | FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    arg3?: FetchQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void> {\n    return this.fetchQuery(arg1 as any, arg2 as any, arg3)\n      .then(noop)\n      .catch(noop)\n  }\n\n  fetchInfiniteQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<InfiniteData<TData>>\n  fetchInfiniteQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    options?: FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<InfiniteData<TData>>\n  fetchInfiniteQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    queryFn: QueryFunction<TQueryFnData, TQueryKey>,\n    options?: FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<InfiniteData<TData>>\n  fetchInfiniteQuery<\n    TQueryFnData,\n    TError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    arg1:\n      | TQueryKey\n      | FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    arg2?:\n      | QueryFunction<TQueryFnData, TQueryKey>\n      | FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    arg3?: FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<InfiniteData<TData>> {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3)\n    parsedOptions.behavior = infiniteQueryBehavior<\n      TQueryFnData,\n      TError,\n      TData\n    >()\n    return this.fetchQuery(parsedOptions)\n  }\n\n  prefetchInfiniteQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    options: FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void>\n  prefetchInfiniteQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    options?: FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void>\n  prefetchInfiniteQuery<\n    TQueryFnData = unknown,\n    TError = unknown,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    queryKey: TQueryKey,\n    queryFn: QueryFunction<TQueryFnData, TQueryKey>,\n    options?: FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void>\n  prefetchInfiniteQuery<\n    TQueryFnData,\n    TError,\n    TData = TQueryFnData,\n    TQueryKey extends QueryKey = QueryKey,\n  >(\n    arg1:\n      | TQueryKey\n      | FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    arg2?:\n      | QueryFunction<TQueryFnData, TQueryKey>\n      | FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    arg3?: FetchInfiniteQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  ): Promise<void> {\n    return this.fetchInfiniteQuery(arg1 as any, arg2 as any, arg3)\n      .then(noop)\n      .catch(noop)\n  }\n\n  resumePausedMutations(): Promise<unknown> {\n    return this.mutationCache.resumePausedMutations()\n  }\n\n  getQueryCache(): QueryCache {\n    return this.queryCache\n  }\n\n  getMutationCache(): MutationCache {\n    return this.mutationCache\n  }\n\n  getLogger(): Logger {\n    return this.logger\n  }\n\n  getDefaultOptions(): DefaultOptions {\n    return this.defaultOptions\n  }\n\n  setDefaultOptions(options: DefaultOptions): void {\n    this.defaultOptions = options\n  }\n\n  setQueryDefaults(\n    queryKey: QueryKey,\n    options: QueryObserverOptions<unknown, any, any, any>,\n  ): void {\n    const result = this.queryDefaults.find(\n      (x) => hashQueryKey(queryKey) === hashQueryKey(x.queryKey),\n    )\n    if (result) {\n      result.defaultOptions = options\n    } else {\n      this.queryDefaults.push({ queryKey, defaultOptions: options })\n    }\n  }\n\n  getQueryDefaults(\n    queryKey?: QueryKey,\n  ): QueryObserverOptions<any, any, any, any, any> | undefined {\n    if (!queryKey) {\n      return undefined\n    }\n\n    // Get the first matching defaults\n    const firstMatchingDefaults = this.queryDefaults.find((x) =>\n      partialMatchKey(queryKey, x.queryKey),\n    )\n\n    // Additional checks and error in dev mode\n    if (process.env.NODE_ENV !== 'production') {\n      // Retrieve all matching defaults for the given key\n      const matchingDefaults = this.queryDefaults.filter((x) =>\n        partialMatchKey(queryKey, x.queryKey),\n      )\n      // It is ok not having defaults, but it is error prone to have more than 1 default for a given key\n      if (matchingDefaults.length > 1) {\n        this.logger.error(\n          `[QueryClient] Several query defaults match with key '${JSON.stringify(\n            queryKey,\n          )}'. The first matching query defaults are used. Please check how query defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetquerydefaults.`,\n        )\n      }\n    }\n\n    return firstMatchingDefaults?.defaultOptions\n  }\n\n  setMutationDefaults(\n    mutationKey: MutationKey,\n    options: MutationObserverOptions<any, any, any, any>,\n  ): void {\n    const result = this.mutationDefaults.find(\n      (x) => hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey),\n    )\n    if (result) {\n      result.defaultOptions = options\n    } else {\n      this.mutationDefaults.push({ mutationKey, defaultOptions: options })\n    }\n  }\n\n  getMutationDefaults(\n    mutationKey?: MutationKey,\n  ): MutationObserverOptions<any, any, any, any> | undefined {\n    if (!mutationKey) {\n      return undefined\n    }\n\n    // Get the first matching defaults\n    const firstMatchingDefaults = this.mutationDefaults.find((x) =>\n      partialMatchKey(mutationKey, x.mutationKey),\n    )\n\n    // Additional checks and error in dev mode\n    if (process.env.NODE_ENV !== 'production') {\n      // Retrieve all matching defaults for the given key\n      const matchingDefaults = this.mutationDefaults.filter((x) =>\n        partialMatchKey(mutationKey, x.mutationKey),\n      )\n      // It is ok not having defaults, but it is error prone to have more than 1 default for a given key\n      if (matchingDefaults.length > 1) {\n        this.logger.error(\n          `[QueryClient] Several mutation defaults match with key '${JSON.stringify(\n            mutationKey,\n          )}'. The first matching mutation defaults are used. Please check how mutation defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetmutationdefaults.`,\n        )\n      }\n    }\n\n    return firstMatchingDefaults?.defaultOptions\n  }\n\n  defaultQueryOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey extends QueryKey,\n  >(\n    options?:\n      | QueryObserverOptions<TQueryFnData, TError, TData, TQueryData, TQueryKey>\n      | DefaultedQueryObserverOptions<\n          TQueryFnData,\n          TError,\n          TData,\n          TQueryData,\n          TQueryKey\n        >,\n  ): DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  > {\n    if (options?._defaulted) {\n      return options as DefaultedQueryObserverOptions<\n        TQueryFnData,\n        TError,\n        TData,\n        TQueryData,\n        TQueryKey\n      >\n    }\n\n    const defaultedOptions = {\n      ...this.defaultOptions.queries,\n      ...this.getQueryDefaults(options?.queryKey),\n      ...options,\n      _defaulted: true,\n    }\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(\n        defaultedOptions.queryKey,\n        defaultedOptions,\n      )\n    }\n\n    // dependent default values\n    if (typeof defaultedOptions.refetchOnReconnect === 'undefined') {\n      defaultedOptions.refetchOnReconnect =\n        defaultedOptions.networkMode !== 'always'\n    }\n    if (typeof defaultedOptions.useErrorBoundary === 'undefined') {\n      defaultedOptions.useErrorBoundary = !!defaultedOptions.suspense\n    }\n\n    return defaultedOptions as DefaultedQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >\n  }\n\n  defaultMutationOptions<T extends MutationOptions<any, any, any, any>>(\n    options?: T,\n  ): T {\n    if (options?._defaulted) {\n      return options\n    }\n    return {\n      ...this.defaultOptions.mutations,\n      ...this.getMutationDefaults(options?.mutationKey),\n      ...options,\n      _defaulted: true,\n    } as T\n  }\n\n  clear(): void {\n    this.queryCache.clear()\n    this.mutationCache.clear()\n  }\n}\n", "import {\n  isServer,\n  isValidTimeout,\n  noop,\n  replaceData,\n  shallowEqualObjects,\n  timeUntilStale,\n} from './utils'\nimport { notifyManager } from './notifyManager'\nimport { focusManager } from './focusManager'\nimport { Subscribable } from './subscribable'\nimport { canFetch, isCancelledError } from './retryer'\nimport type {\n  PlaceholderDataFunction,\n  QueryKey,\n  QueryObserverBaseResult,\n  QueryObserverOptions,\n  QueryObserverResult,\n  QueryOptions,\n  RefetchOptions,\n} from './types'\nimport type { Action, FetchOptions, Query, QueryState } from './query'\nimport type { QueryClient } from './queryClient'\nimport type { DefaultedQueryObserverOptions, RefetchPageFilters } from './types'\n\ntype QueryObserverListener<TData, TError> = (\n  result: QueryObserverResult<TData, TError>,\n) => void\n\nexport interface NotifyOptions {\n  cache?: boolean\n  listeners?: boolean\n  onError?: boolean\n  onSuccess?: boolean\n}\n\nexport interface ObserverFetchOptions extends FetchOptions {\n  throwOnError?: boolean\n}\n\nexport class QueryObserver<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> extends Subscribable<QueryObserverListener<TData, TError>> {\n  options: QueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >\n\n  private client: QueryClient\n  private currentQuery!: Query<TQueryFnData, TError, TQueryData, TQueryKey>\n  private currentQueryInitialState!: QueryState<TQueryData, TError>\n  private currentResult!: QueryObserverResult<TData, TError>\n  private currentResultState?: QueryState<TQueryData, TError>\n  private currentResultOptions?: QueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >\n  private previousQueryResult?: QueryObserverResult<TData, TError>\n  private selectError: TError | null\n  private selectFn?: (data: TQueryData) => TData\n  private selectResult?: TData\n  private staleTimeoutId?: ReturnType<typeof setTimeout>\n  private refetchIntervalId?: ReturnType<typeof setInterval>\n  private currentRefetchInterval?: number | false\n  private trackedProps!: Set<keyof QueryObserverResult>\n\n  constructor(\n    client: QueryClient,\n    options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ) {\n    super()\n\n    this.client = client\n    this.options = options\n    this.trackedProps = new Set()\n    this.selectError = null\n    this.bindMethods()\n    this.setOptions(options)\n  }\n\n  protected bindMethods(): void {\n    this.remove = this.remove.bind(this)\n    this.refetch = this.refetch.bind(this)\n  }\n\n  protected onSubscribe(): void {\n    if (this.listeners.size === 1) {\n      this.currentQuery.addObserver(this)\n\n      if (shouldFetchOnMount(this.currentQuery, this.options)) {\n        this.executeFetch()\n      }\n\n      this.updateTimers()\n    }\n  }\n\n  protected onUnsubscribe(): void {\n    if (!this.hasListeners()) {\n      this.destroy()\n    }\n  }\n\n  shouldFetchOnReconnect(): boolean {\n    return shouldFetchOn(\n      this.currentQuery,\n      this.options,\n      this.options.refetchOnReconnect,\n    )\n  }\n\n  shouldFetchOnWindowFocus(): boolean {\n    return shouldFetchOn(\n      this.currentQuery,\n      this.options,\n      this.options.refetchOnWindowFocus,\n    )\n  }\n\n  destroy(): void {\n    this.listeners = new Set()\n    this.clearStaleTimeout()\n    this.clearRefetchInterval()\n    this.currentQuery.removeObserver(this)\n  }\n\n  setOptions(\n    options?: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n    notifyOptions?: NotifyOptions,\n  ): void {\n    const prevOptions = this.options\n    const prevQuery = this.currentQuery\n\n    this.options = this.client.defaultQueryOptions(options)\n\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      typeof options?.isDataEqual !== 'undefined'\n    ) {\n      this.client\n        .getLogger()\n        .error(\n          `The isDataEqual option has been deprecated and will be removed in the next major version. You can achieve the same functionality by passing a function as the structuralSharing option`,\n        )\n    }\n\n    if (!shallowEqualObjects(prevOptions, this.options)) {\n      this.client.getQueryCache().notify({\n        type: 'observerOptionsUpdated',\n        query: this.currentQuery,\n        observer: this,\n      })\n    }\n\n    if (\n      typeof this.options.enabled !== 'undefined' &&\n      typeof this.options.enabled !== 'boolean'\n    ) {\n      throw new Error('Expected enabled to be a boolean')\n    }\n\n    // Keep previous query key if the user does not supply one\n    if (!this.options.queryKey) {\n      this.options.queryKey = prevOptions.queryKey\n    }\n\n    this.updateQuery()\n\n    const mounted = this.hasListeners()\n\n    // Fetch if there are subscribers\n    if (\n      mounted &&\n      shouldFetchOptionally(\n        this.currentQuery,\n        prevQuery,\n        this.options,\n        prevOptions,\n      )\n    ) {\n      this.executeFetch()\n    }\n\n    // Update result\n    this.updateResult(notifyOptions)\n\n    // Update stale interval if needed\n    if (\n      mounted &&\n      (this.currentQuery !== prevQuery ||\n        this.options.enabled !== prevOptions.enabled ||\n        this.options.staleTime !== prevOptions.staleTime)\n    ) {\n      this.updateStaleTimeout()\n    }\n\n    const nextRefetchInterval = this.computeRefetchInterval()\n\n    // Update refetch interval if needed\n    if (\n      mounted &&\n      (this.currentQuery !== prevQuery ||\n        this.options.enabled !== prevOptions.enabled ||\n        nextRefetchInterval !== this.currentRefetchInterval)\n    ) {\n      this.updateRefetchInterval(nextRefetchInterval)\n    }\n  }\n\n  getOptimisticResult(\n    options: DefaultedQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): QueryObserverResult<TData, TError> {\n    const query = this.client.getQueryCache().build(this.client, options)\n\n    const result = this.createResult(query, options)\n\n    if (shouldAssignObserverCurrentProperties(this, result, options)) {\n      // this assigns the optimistic result to the current Observer\n      // because if the query function changes, useQuery will be performing\n      // an effect where it would fetch again.\n      // When the fetch finishes, we perform a deep data cloning in order\n      // to reuse objects references. This deep data clone is performed against\n      // the `observer.currentResult.data` property\n      // When QueryKey changes, we refresh the query and get new `optimistic`\n      // result, while we leave the `observer.currentResult`, so when new data\n      // arrives, it finds the old `observer.currentResult` which is related\n      // to the old QueryKey. Which means that currentResult and selectData are\n      // out of sync already.\n      // To solve this, we move the cursor of the currentResult everytime\n      // an observer reads an optimistic value.\n\n      // When keeping the previous data, the result doesn't change until new\n      // data arrives.\n      this.currentResult = result\n      this.currentResultOptions = this.options\n      this.currentResultState = this.currentQuery.state\n    }\n    return result\n  }\n\n  getCurrentResult(): QueryObserverResult<TData, TError> {\n    return this.currentResult\n  }\n\n  trackResult(\n    result: QueryObserverResult<TData, TError>,\n  ): QueryObserverResult<TData, TError> {\n    const trackedResult = {} as QueryObserverResult<TData, TError>\n\n    Object.keys(result).forEach((key) => {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: () => {\n          this.trackedProps.add(key as keyof QueryObserverResult)\n          return result[key as keyof QueryObserverResult]\n        },\n      })\n    })\n\n    return trackedResult\n  }\n\n  getCurrentQuery(): Query<TQueryFnData, TError, TQueryData, TQueryKey> {\n    return this.currentQuery\n  }\n\n  remove(): void {\n    this.client.getQueryCache().remove(this.currentQuery)\n  }\n\n  refetch<TPageData>({\n    refetchPage,\n    ...options\n  }: RefetchOptions & RefetchPageFilters<TPageData> = {}): Promise<\n    QueryObserverResult<TData, TError>\n  > {\n    return this.fetch({\n      ...options,\n      meta: { refetchPage },\n    })\n  }\n\n  fetchOptimistic(\n    options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): Promise<QueryObserverResult<TData, TError>> {\n    const defaultedOptions = this.client.defaultQueryOptions(options)\n\n    const query = this.client\n      .getQueryCache()\n      .build(this.client, defaultedOptions)\n    query.isFetchingOptimistic = true\n\n    return query.fetch().then(() => this.createResult(query, defaultedOptions))\n  }\n\n  protected fetch(\n    fetchOptions: ObserverFetchOptions,\n  ): Promise<QueryObserverResult<TData, TError>> {\n    return this.executeFetch({\n      ...fetchOptions,\n      cancelRefetch: fetchOptions.cancelRefetch ?? true,\n    }).then(() => {\n      this.updateResult()\n      return this.currentResult\n    })\n  }\n\n  private executeFetch(\n    fetchOptions?: ObserverFetchOptions,\n  ): Promise<TQueryData | undefined> {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.updateQuery()\n\n    // Fetch\n    let promise: Promise<TQueryData | undefined> = this.currentQuery.fetch(\n      this.options as QueryOptions<TQueryFnData, TError, TQueryData, TQueryKey>,\n      fetchOptions,\n    )\n\n    if (!fetchOptions?.throwOnError) {\n      promise = promise.catch(noop)\n    }\n\n    return promise\n  }\n\n  private updateStaleTimeout(): void {\n    this.clearStaleTimeout()\n\n    if (\n      isServer ||\n      this.currentResult.isStale ||\n      !isValidTimeout(this.options.staleTime)\n    ) {\n      return\n    }\n\n    const time = timeUntilStale(\n      this.currentResult.dataUpdatedAt,\n      this.options.staleTime,\n    )\n\n    // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n    const timeout = time + 1\n\n    this.staleTimeoutId = setTimeout(() => {\n      if (!this.currentResult.isStale) {\n        this.updateResult()\n      }\n    }, timeout)\n  }\n\n  private computeRefetchInterval() {\n    return typeof this.options.refetchInterval === 'function'\n      ? this.options.refetchInterval(this.currentResult.data, this.currentQuery)\n      : this.options.refetchInterval ?? false\n  }\n\n  private updateRefetchInterval(nextInterval: number | false): void {\n    this.clearRefetchInterval()\n\n    this.currentRefetchInterval = nextInterval\n\n    if (\n      isServer ||\n      this.options.enabled === false ||\n      !isValidTimeout(this.currentRefetchInterval) ||\n      this.currentRefetchInterval === 0\n    ) {\n      return\n    }\n\n    this.refetchIntervalId = setInterval(() => {\n      if (\n        this.options.refetchIntervalInBackground ||\n        focusManager.isFocused()\n      ) {\n        this.executeFetch()\n      }\n    }, this.currentRefetchInterval)\n  }\n\n  private updateTimers(): void {\n    this.updateStaleTimeout()\n    this.updateRefetchInterval(this.computeRefetchInterval())\n  }\n\n  private clearStaleTimeout(): void {\n    if (this.staleTimeoutId) {\n      clearTimeout(this.staleTimeoutId)\n      this.staleTimeoutId = undefined\n    }\n  }\n\n  private clearRefetchInterval(): void {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId)\n      this.refetchIntervalId = undefined\n    }\n  }\n\n  protected createResult(\n    query: Query<TQueryFnData, TError, TQueryData, TQueryKey>,\n    options: QueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): QueryObserverResult<TData, TError> {\n    const prevQuery = this.currentQuery\n    const prevOptions = this.options\n    const prevResult = this.currentResult as\n      | QueryObserverResult<TData, TError>\n      | undefined\n    const prevResultState = this.currentResultState\n    const prevResultOptions = this.currentResultOptions\n    const queryChange = query !== prevQuery\n    const queryInitialState = queryChange\n      ? query.state\n      : this.currentQueryInitialState\n    const prevQueryResult = queryChange\n      ? this.currentResult\n      : this.previousQueryResult\n\n    const { state } = query\n    let { dataUpdatedAt, error, errorUpdatedAt, fetchStatus, status } = state\n    let isPreviousData = false\n    let isPlaceholderData = false\n    let data: TData | undefined\n\n    // Optimistically set result in fetching state if needed\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners()\n\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options)\n\n      const fetchOptionally =\n        mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions)\n\n      if (fetchOnMount || fetchOptionally) {\n        fetchStatus = canFetch(query.options.networkMode)\n          ? 'fetching'\n          : 'paused'\n        if (!dataUpdatedAt) {\n          status = 'loading'\n        }\n      }\n      if (options._optimisticResults === 'isRestoring') {\n        fetchStatus = 'idle'\n      }\n    }\n\n    // Keep previous data if needed\n    if (\n      options.keepPreviousData &&\n      !state.dataUpdatedAt &&\n      prevQueryResult?.isSuccess &&\n      status !== 'error'\n    ) {\n      data = prevQueryResult.data\n      dataUpdatedAt = prevQueryResult.dataUpdatedAt\n      status = prevQueryResult.status\n      isPreviousData = true\n    }\n    // Select data if needed\n    else if (options.select && typeof state.data !== 'undefined') {\n      // Memoize select result\n      if (\n        prevResult &&\n        state.data === prevResultState?.data &&\n        options.select === this.selectFn\n      ) {\n        data = this.selectResult\n      } else {\n        try {\n          this.selectFn = options.select\n          data = options.select(state.data)\n          data = replaceData(prevResult?.data, data, options)\n          this.selectResult = data\n          this.selectError = null\n        } catch (selectError) {\n          if (process.env.NODE_ENV !== 'production') {\n            this.client.getLogger().error(selectError)\n          }\n          this.selectError = selectError as TError\n        }\n      }\n    }\n    // Use query data\n    else {\n      data = state.data as unknown as TData\n    }\n\n    // Show placeholder data if needed\n    if (\n      typeof options.placeholderData !== 'undefined' &&\n      typeof data === 'undefined' &&\n      status === 'loading'\n    ) {\n      let placeholderData\n\n      // Memoize placeholder data\n      if (\n        prevResult?.isPlaceholderData &&\n        options.placeholderData === prevResultOptions?.placeholderData\n      ) {\n        placeholderData = prevResult.data\n      } else {\n        placeholderData =\n          typeof options.placeholderData === 'function'\n            ? (options.placeholderData as PlaceholderDataFunction<TQueryData>)()\n            : options.placeholderData\n        if (options.select && typeof placeholderData !== 'undefined') {\n          try {\n            placeholderData = options.select(placeholderData)\n            this.selectError = null\n          } catch (selectError) {\n            if (process.env.NODE_ENV !== 'production') {\n              this.client.getLogger().error(selectError)\n            }\n            this.selectError = selectError as TError\n          }\n        }\n      }\n\n      if (typeof placeholderData !== 'undefined') {\n        status = 'success'\n        data = replaceData(prevResult?.data, placeholderData, options) as TData\n        isPlaceholderData = true\n      }\n    }\n\n    if (this.selectError) {\n      error = this.selectError as any\n      data = this.selectResult\n      errorUpdatedAt = Date.now()\n      status = 'error'\n    }\n\n    const isFetching = fetchStatus === 'fetching'\n    const isLoading = status === 'loading'\n    const isError = status === 'error'\n\n    const result: QueryObserverBaseResult<TData, TError> = {\n      status,\n      fetchStatus,\n      isLoading,\n      isSuccess: status === 'success',\n      isError,\n      isInitialLoading: isLoading && isFetching,\n      data,\n      dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: state.fetchFailureCount,\n      failureReason: state.fetchFailureReason,\n      errorUpdateCount: state.errorUpdateCount,\n      isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,\n      isFetchedAfterMount:\n        state.dataUpdateCount > queryInitialState.dataUpdateCount ||\n        state.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isLoading,\n      isLoadingError: isError && state.dataUpdatedAt === 0,\n      isPaused: fetchStatus === 'paused',\n      isPlaceholderData,\n      isPreviousData,\n      isRefetchError: isError && state.dataUpdatedAt !== 0,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      remove: this.remove,\n    }\n\n    return result as QueryObserverResult<TData, TError>\n  }\n\n  updateResult(notifyOptions?: NotifyOptions): void {\n    const prevResult = this.currentResult as\n      | QueryObserverResult<TData, TError>\n      | undefined\n\n    const nextResult = this.createResult(this.currentQuery, this.options)\n    this.currentResultState = this.currentQuery.state\n    this.currentResultOptions = this.options\n\n    // Only notify and update result if something has changed\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return\n    }\n\n    this.currentResult = nextResult\n\n    // Determine which callbacks to trigger\n    const defaultNotifyOptions: NotifyOptions = { cache: true }\n\n    const shouldNotifyListeners = (): boolean => {\n      if (!prevResult) {\n        return true\n      }\n\n      const { notifyOnChangeProps } = this.options\n      const notifyOnChangePropsValue =\n        typeof notifyOnChangeProps === 'function'\n          ? notifyOnChangeProps()\n          : notifyOnChangeProps\n\n      if (\n        notifyOnChangePropsValue === 'all' ||\n        (!notifyOnChangePropsValue && !this.trackedProps.size)\n      ) {\n        return true\n      }\n\n      const includedProps = new Set(\n        notifyOnChangePropsValue ?? this.trackedProps,\n      )\n\n      if (this.options.useErrorBoundary) {\n        includedProps.add('error')\n      }\n\n      return Object.keys(this.currentResult).some((key) => {\n        const typedKey = key as keyof QueryObserverResult\n        const changed = this.currentResult[typedKey] !== prevResult[typedKey]\n        return changed && includedProps.has(typedKey)\n      })\n    }\n\n    if (notifyOptions?.listeners !== false && shouldNotifyListeners()) {\n      defaultNotifyOptions.listeners = true\n    }\n\n    this.notify({ ...defaultNotifyOptions, ...notifyOptions })\n  }\n\n  private updateQuery(): void {\n    const query = this.client.getQueryCache().build(this.client, this.options)\n\n    if (query === this.currentQuery) {\n      return\n    }\n\n    const prevQuery = this.currentQuery as\n      | Query<TQueryFnData, TError, TQueryData, TQueryKey>\n      | undefined\n    this.currentQuery = query\n    this.currentQueryInitialState = query.state\n    this.previousQueryResult = this.currentResult\n\n    if (this.hasListeners()) {\n      prevQuery?.removeObserver(this)\n      query.addObserver(this)\n    }\n  }\n\n  onQueryUpdate(action: Action<TData, TError>): void {\n    const notifyOptions: NotifyOptions = {}\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = !action.manual\n    } else if (action.type === 'error' && !isCancelledError(action.error)) {\n      notifyOptions.onError = true\n    }\n\n    this.updateResult(notifyOptions)\n\n    if (this.hasListeners()) {\n      this.updateTimers()\n    }\n  }\n\n  private notify(notifyOptions: NotifyOptions): void {\n    notifyManager.batch(() => {\n      // First trigger the configuration callbacks\n      if (notifyOptions.onSuccess) {\n        this.options.onSuccess?.(this.currentResult.data!)\n        this.options.onSettled?.(this.currentResult.data!, null)\n      } else if (notifyOptions.onError) {\n        this.options.onError?.(this.currentResult.error!)\n        this.options.onSettled?.(undefined, this.currentResult.error!)\n      }\n\n      // Then trigger the listeners\n      if (notifyOptions.listeners) {\n        this.listeners.forEach(({ listener }) => {\n          listener(this.currentResult)\n        })\n      }\n\n      // Then the cache listeners\n      if (notifyOptions.cache) {\n        this.client.getQueryCache().notify({\n          query: this.currentQuery,\n          type: 'observerResultsUpdated',\n        })\n      }\n    })\n  }\n}\n\nfunction shouldLoadOnMount(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any>,\n): boolean {\n  return (\n    options.enabled !== false &&\n    !query.state.dataUpdatedAt &&\n    !(query.state.status === 'error' && options.retryOnMount === false)\n  )\n}\n\nfunction shouldFetchOnMount(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n): boolean {\n  return (\n    shouldLoadOnMount(query, options) ||\n    (query.state.dataUpdatedAt > 0 &&\n      shouldFetchOn(query, options, options.refetchOnMount))\n  )\n}\n\nfunction shouldFetchOn(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n  field: typeof options['refetchOnMount'] &\n    typeof options['refetchOnWindowFocus'] &\n    typeof options['refetchOnReconnect'],\n) {\n  if (options.enabled !== false) {\n    const value = typeof field === 'function' ? field(query) : field\n\n    return value === 'always' || (value !== false && isStale(query, options))\n  }\n  return false\n}\n\nfunction shouldFetchOptionally(\n  query: Query<any, any, any, any>,\n  prevQuery: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n  prevOptions: QueryObserverOptions<any, any, any, any, any>,\n): boolean {\n  return (\n    options.enabled !== false &&\n    (query !== prevQuery || prevOptions.enabled === false) &&\n    (!options.suspense || query.state.status !== 'error') &&\n    isStale(query, options)\n  )\n}\n\nfunction isStale(\n  query: Query<any, any, any, any>,\n  options: QueryObserverOptions<any, any, any, any, any>,\n): boolean {\n  return query.isStaleByTime(options.staleTime)\n}\n\n// this function would decide if we will update the observer's 'current'\n// properties after an optimistic reading via getOptimisticResult\nfunction shouldAssignObserverCurrentProperties<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  observer: QueryObserver<TQueryFnData, TError, TData, TQueryData, TQueryKey>,\n  optimisticResult: QueryObserverResult<TData, TError>,\n  options: DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n) {\n  // it is important to keep this condition like this for three reasons:\n  // 1. It will get removed in the v5\n  // 2. it reads: don't update the properties if we want to keep the previous\n  // data.\n  // 3. The opposite condition (!options.keepPreviousData) would fallthrough\n  // and will result in a bad decision\n  if (options.keepPreviousData) {\n    return false\n  }\n\n  // this means we want to put some placeholder data when pending and queryKey\n  // changed.\n  if (options.placeholderData !== undefined) {\n    // re-assign properties only if current data is placeholder data\n    // which means that data did not arrive yet, so, if there is some cached data\n    // we need to \"prepare\" to receive it\n    return optimisticResult.isPlaceholderData\n  }\n\n  // if the newly created result isn't what the observer is holding as current,\n  // then we'll need to update the properties as well\n  if (!shallowEqualObjects(observer.getCurrentResult(), optimisticResult)) {\n    return true\n  }\n\n  // basically, just keep previous properties if nothing changed\n  return false\n}\n", "import { QueryObserver } from './queryObserver'\nimport {\n  hasNextPage,\n  hasPreviousPage,\n  infiniteQueryBehavior,\n} from './infiniteQueryBehavior'\nimport type {\n  DefaultedInfiniteQueryObserverOptions,\n  FetchNextPageOptions,\n  FetchPreviousPageOptions,\n  InfiniteData,\n  InfiniteQueryObserverOptions,\n  InfiniteQueryObserverResult,\n  QueryKey,\n} from './types'\nimport type { QueryClient } from './queryClient'\nimport type { NotifyOptions, ObserverFetchOptions } from './queryObserver'\nimport type { Query } from './query'\n\ntype InfiniteQueryObserverListener<TData, TError> = (\n  result: InfiniteQueryObserverResult<TData, TError>,\n) => void\n\nexport class InfiniteQueryObserver<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n> extends QueryObserver<\n  TQueryFnData,\n  TError,\n  InfiniteData<TData>,\n  InfiniteData<TQueryData>,\n  TQueryKey\n> {\n  // Type override\n  subscribe!: (\n    listener?: InfiniteQueryObserverListener<TData, TError>,\n  ) => () => void\n\n  // Type override\n  getCurrentResult!: () => InfiniteQueryObserverResult<TData, TError>\n\n  // Type override\n  protected fetch!: (\n    fetchOptions: ObserverFetchOptions,\n  ) => Promise<InfiniteQueryObserverResult<TData, TError>>\n\n  // eslint-disable-next-line @typescript-eslint/no-useless-constructor\n  constructor(\n    client: QueryClient,\n    options: InfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ) {\n    super(client, options)\n  }\n\n  protected bindMethods(): void {\n    super.bindMethods()\n    this.fetchNextPage = this.fetchNextPage.bind(this)\n    this.fetchPreviousPage = this.fetchPreviousPage.bind(this)\n  }\n\n  setOptions(\n    options?: InfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n    notifyOptions?: NotifyOptions,\n  ): void {\n    super.setOptions(\n      {\n        ...options,\n        behavior: infiniteQueryBehavior(),\n      },\n      notifyOptions,\n    )\n  }\n\n  getOptimisticResult(\n    options: DefaultedInfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): InfiniteQueryObserverResult<TData, TError> {\n    options.behavior = infiniteQueryBehavior()\n    return super.getOptimisticResult(options) as InfiniteQueryObserverResult<\n      TData,\n      TError\n    >\n  }\n\n  fetchNextPage({ pageParam, ...options }: FetchNextPageOptions = {}): Promise<\n    InfiniteQueryObserverResult<TData, TError>\n  > {\n    return this.fetch({\n      ...options,\n      meta: {\n        fetchMore: { direction: 'forward', pageParam },\n      },\n    })\n  }\n\n  fetchPreviousPage({\n    pageParam,\n    ...options\n  }: FetchPreviousPageOptions = {}): Promise<\n    InfiniteQueryObserverResult<TData, TError>\n  > {\n    return this.fetch({\n      ...options,\n      meta: {\n        fetchMore: { direction: 'backward', pageParam },\n      },\n    })\n  }\n\n  protected createResult(\n    query: Query<TQueryFnData, TError, InfiniteData<TQueryData>, TQueryKey>,\n    options: InfiniteQueryObserverOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryData,\n      TQueryKey\n    >,\n  ): InfiniteQueryObserverResult<TData, TError> {\n    const { state } = query\n    const result = super.createResult(query, options)\n\n    const { isFetching, isRefetching } = result\n\n    const isFetchingNextPage =\n      isFetching && state.fetchMeta?.fetchMore?.direction === 'forward'\n\n    const isFetchingPreviousPage =\n      isFetching && state.fetchMeta?.fetchMore?.direction === 'backward'\n\n    return {\n      ...result,\n      fetchNextPage: this.fetchNextPage,\n      fetchPreviousPage: this.fetchPreviousPage,\n      hasNextPage: hasNextPage(options, state.data?.pages),\n      hasPreviousPage: hasPreviousPage(options, state.data?.pages),\n      isFetchingNextPage,\n      isFetchingPreviousPage,\n      isRefetching:\n        isRefetching && !isFetchingNextPage && !isFetchingPreviousPage,\n    }\n  }\n}\n", "import { getDefaultState } from './mutation'\nimport { notifyManager } from './notifyManager'\nimport { Subscribable } from './subscribable'\nimport { shallowEqualObjects } from './utils'\nimport type { QueryClient } from './queryClient'\nimport type {\n  MutateOptions,\n  MutationObserverBaseResult,\n  MutationObserverOptions,\n  MutationObserverResult,\n} from './types'\nimport type { Action, Mutation } from './mutation'\n\n// TYPES\n\ntype MutationObserverListener<TData, TError, TVariables, TContext> = (\n  result: MutationObserverResult<TData, TError, TVariables, TContext>,\n) => void\n\ninterface NotifyOptions {\n  listeners?: boolean\n  onError?: boolean\n  onSuccess?: boolean\n}\n\n// CLASS\n\nexport class MutationObserver<\n  TData = unknown,\n  TError = unknown,\n  TVariables = void,\n  TContext = unknown,\n> extends Subscribable<\n  MutationObserverListener<TData, TError, TVariables, TContext>\n> {\n  options!: MutationObserverOptions<TData, TError, TVariables, TContext>\n\n  private client: QueryClient\n  private currentResult!: MutationObserverResult<\n    TData,\n    TError,\n    TVariables,\n    TContext\n  >\n  private currentMutation?: Mutation<TData, TError, TVariables, TContext>\n  private mutateOptions?: MutateOptions<TData, TError, TVariables, TContext>\n\n  constructor(\n    client: QueryClient,\n    options: MutationObserverOptions<TData, TError, TVariables, TContext>,\n  ) {\n    super()\n\n    this.client = client\n    this.setOptions(options)\n    this.bindMethods()\n    this.updateResult()\n  }\n\n  protected bindMethods(): void {\n    this.mutate = this.mutate.bind(this)\n    this.reset = this.reset.bind(this)\n  }\n\n  setOptions(\n    options?: MutationObserverOptions<TData, TError, TVariables, TContext>,\n  ) {\n    const prevOptions = this.options\n    this.options = this.client.defaultMutationOptions(options)\n    if (!shallowEqualObjects(prevOptions, this.options)) {\n      this.client.getMutationCache().notify({\n        type: 'observerOptionsUpdated',\n        mutation: this.currentMutation,\n        observer: this,\n      })\n    }\n    this.currentMutation?.setOptions(this.options)\n  }\n\n  protected onUnsubscribe(): void {\n    if (!this.hasListeners()) {\n      this.currentMutation?.removeObserver(this)\n    }\n  }\n\n  onMutationUpdate(action: Action<TData, TError, TVariables, TContext>): void {\n    this.updateResult()\n\n    // Determine which callbacks to trigger\n    const notifyOptions: NotifyOptions = {\n      listeners: true,\n    }\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true\n    } else if (action.type === 'error') {\n      notifyOptions.onError = true\n    }\n\n    this.notify(notifyOptions)\n  }\n\n  getCurrentResult(): MutationObserverResult<\n    TData,\n    TError,\n    TVariables,\n    TContext\n  > {\n    return this.currentResult\n  }\n\n  reset(): void {\n    this.currentMutation = undefined\n    this.updateResult()\n    this.notify({ listeners: true })\n  }\n\n  mutate(\n    variables?: TVariables,\n    options?: MutateOptions<TData, TError, TVariables, TContext>,\n  ): Promise<TData> {\n    this.mutateOptions = options\n\n    if (this.currentMutation) {\n      this.currentMutation.removeObserver(this)\n    }\n\n    this.currentMutation = this.client.getMutationCache().build(this.client, {\n      ...this.options,\n      variables:\n        typeof variables !== 'undefined' ? variables : this.options.variables,\n    })\n\n    this.currentMutation.addObserver(this)\n\n    return this.currentMutation.execute()\n  }\n\n  private updateResult(): void {\n    const state = this.currentMutation\n      ? this.currentMutation.state\n      : getDefaultState<TData, TError, TVariables, TContext>()\n\n    const result: MutationObserverBaseResult<\n      TData,\n      TError,\n      TVariables,\n      TContext\n    > = {\n      ...state,\n      isLoading: state.status === 'loading',\n      isSuccess: state.status === 'success',\n      isError: state.status === 'error',\n      isIdle: state.status === 'idle',\n      mutate: this.mutate,\n      reset: this.reset,\n    }\n\n    this.currentResult = result as MutationObserverResult<\n      TData,\n      TError,\n      TVariables,\n      TContext\n    >\n  }\n\n  private notify(options: NotifyOptions) {\n    notifyManager.batch(() => {\n      // First trigger the mutate callbacks\n      if (this.mutateOptions && this.hasListeners()) {\n        if (options.onSuccess) {\n          this.mutateOptions.onSuccess?.(\n            this.currentResult.data!,\n            this.currentResult.variables!,\n            this.currentResult.context!,\n          )\n          this.mutateOptions.onSettled?.(\n            this.currentResult.data!,\n            null,\n            this.currentResult.variables!,\n            this.currentResult.context,\n          )\n        } else if (options.onError) {\n          this.mutateOptions.onError?.(\n            this.currentResult.error!,\n            this.currentResult.variables!,\n            this.currentResult.context,\n          )\n          this.mutateOptions.onSettled?.(\n            undefined,\n            this.currentResult.error,\n            this.currentResult.variables!,\n            this.currentResult.context,\n          )\n        }\n      }\n\n      // Then trigger the listeners\n      if (options.listeners) {\n        this.listeners.forEach(({ listener }) => {\n          listener(this.currentResult)\n        })\n      }\n    })\n  }\n}\n", "'use client'\nimport * as ReactDOM from 'react-dom'\n\nexport const unstable_batchedUpdates = ReactDOM.unstable_batchedUpdates\n", "import { notifyManager } from '@tanstack/query-core'\nimport { unstable_batchedUpdates } from './reactBatchedUpdates'\n\nnotifyManager.setBatchNotifyFunction(unstable_batchedUpdates)\n", "'use client'\n// Temporary workaround due to an issue with react-native uSES - https://github.com/TanStack/query/pull/3601\nimport { useSyncExternalStore as uSES } from 'use-sync-external-store/shim/index.js'\n\nexport const useSyncExternalStore = uSES\n", "'use client'\nimport * as React from 'react'\n\nimport type { QueryClient } from '@tanstack/query-core'\nimport type { ContextOptions } from './types'\n\ndeclare global {\n  interface Window {\n    ReactQueryClientContext?: React.Context<QueryClient | undefined>\n  }\n}\n\nexport const defaultContext = React.createContext<QueryClient | undefined>(\n  undefined,\n)\nconst QueryClientSharingContext = React.createContext<boolean>(false)\n\n// If we are given a context, we will use it.\n// Otherwise, if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\nfunction getQueryClientContext(\n  context: React.Context<QueryClient | undefined> | undefined,\n  contextSharing: boolean,\n) {\n  if (context) {\n    return context\n  }\n  if (contextSharing && typeof window !== 'undefined') {\n    if (!window.ReactQueryClientContext) {\n      window.ReactQueryClientContext = defaultContext\n    }\n\n    return window.ReactQueryClientContext\n  }\n\n  return defaultContext\n}\n\nexport const useQueryClient = ({ context }: ContextOptions = {}) => {\n  const queryClient = React.useContext(\n    getQueryClientContext(context, React.useContext(QueryClientSharingContext)),\n  )\n\n  if (!queryClient) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one')\n  }\n\n  return queryClient\n}\n\ntype QueryClientProviderPropsBase = {\n  client: QueryClient\n  children?: React.ReactNode\n}\ntype QueryClientProviderPropsWithContext = ContextOptions & {\n  contextSharing?: never\n} & QueryClientProviderPropsBase\ntype QueryClientProviderPropsWithContextSharing = {\n  context?: never\n  contextSharing?: boolean\n} & QueryClientProviderPropsBase\n\nexport type QueryClientProviderProps =\n  | QueryClientProviderPropsWithContext\n  | QueryClientProviderPropsWithContextSharing\n\nexport const QueryClientProvider = ({\n  client,\n  children,\n  context,\n  contextSharing = false,\n}: QueryClientProviderProps): JSX.Element => {\n  React.useEffect(() => {\n    client.mount()\n    return () => {\n      client.unmount()\n    }\n  }, [client])\n\n  if (process.env.NODE_ENV !== 'production' && contextSharing) {\n    client\n      .getLogger()\n      .error(\n        `The contextSharing option has been deprecated and will be removed in the next major version`,\n      )\n  }\n\n  const Context = getQueryClientContext(context, contextSharing)\n\n  return (\n    <QueryClientSharingContext.Provider value={!context && contextSharing}>\n      <Context.Provider value={client}>{children}</Context.Provider>\n    </QueryClientSharingContext.Provider>\n  )\n}\n", "'use client'\nimport * as React from 'react'\n\nconst IsRestoringContext = React.createContext(false)\n\nexport const useIsRestoring = () => React.useContext(IsRestoringContext)\nexport const IsRestoringProvider = IsRestoringContext.Provider\n", "'use client'\nimport * as React from 'react'\n\n// CONTEXT\n\nexport interface QueryErrorResetBoundaryValue {\n  clearReset: () => void\n  isReset: () => boolean\n  reset: () => void\n}\n\nfunction createValue(): QueryErrorResetBoundaryValue {\n  let isReset = false\n  return {\n    clearReset: () => {\n      isReset = false\n    },\n    reset: () => {\n      isReset = true\n    },\n    isReset: () => {\n      return isReset\n    },\n  }\n}\n\nconst QueryErrorResetBoundaryContext = React.createContext(createValue())\n\n// HOOK\n\nexport const useQueryErrorResetBoundary = () =>\n  React.useContext(QueryErrorResetBoundaryContext)\n\n// COMPONENT\n\nexport interface QueryErrorResetBoundaryProps {\n  children:\n    | ((value: QueryErrorResetBoundaryValue) => React.ReactNode)\n    | React.ReactNode\n}\n\nexport const QueryErrorResetBoundary = ({\n  children,\n}: QueryErrorResetBoundaryProps) => {\n  const [value] = React.useState(() => createValue())\n  return (\n    <QueryErrorResetBoundaryContext.Provider value={value}>\n      {typeof children === 'function'\n        ? (children as Function)(value)\n        : children}\n    </QueryErrorResetBoundaryContext.Provider>\n  )\n}\n", "export function shouldThrowError<T extends (...args: any[]) => boolean>(\n  _useErrorBoundary: boolean | T | undefined,\n  params: Parameters<T>,\n): boolean {\n  // Allow useErrorBoundary function to override throwing behavior on a per-error basis\n  if (typeof _useErrorBoundary === 'function') {\n    return _useErrorBoundary(...params)\n  }\n\n  return !!_useErrorBoundary\n}\n", "'use client'\nimport * as React from 'react'\nimport { shouldThrowError } from './utils'\nimport type {\n  DefaultedQueryObserverOptions,\n  Query,\n  QueryKey,\n  QueryObserverResult,\n  UseErrorBoundary,\n} from '@tanstack/query-core'\nimport type { QueryErrorResetBoundaryValue } from './QueryErrorResetBoundary'\n\nexport const ensurePreventErrorBoundaryRetry = <\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  options: DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) => {\n  if (options.suspense || options.useErrorBoundary) {\n    // Prevent retrying failed query if the error boundary has not been reset yet\n    if (!errorResetBoundary.isReset()) {\n      options.retryOnMount = false\n    }\n  }\n}\n\nexport const useClearResetErrorBoundary = (\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) => {\n  React.useEffect(() => {\n    errorResetBoundary.clearReset()\n  }, [errorResetBoundary])\n}\n\nexport const getHasError = <\n  TData,\n  TError,\n  TQueryFnData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>({\n  result,\n  errorResetBoundary,\n  useErrorBoundary,\n  query,\n}: {\n  result: QueryObserverResult<TData, TError>\n  errorResetBoundary: QueryErrorResetBoundaryValue\n  useErrorBoundary: UseErrorBoundary<\n    TQueryFnData,\n    TError,\n    TQueryData,\n    TQueryKey\n  >\n  query: Query<TQueryFnData, TError, TQueryData, TQueryKey>\n}) => {\n  return (\n    result.isError &&\n    !errorResetBoundary.isReset() &&\n    !result.isFetching &&\n    shouldThrowError(useErrorBoundary, [result.error, query])\n  )\n}\n", "import type { DefaultedQueryObserverOptions } from '@tanstack/query-core'\nimport type { QueryObserver } from '@tanstack/query-core'\nimport type { QueryErrorResetBoundaryValue } from './QueryErrorResetBoundary'\nimport type { QueryObserverResult } from '@tanstack/query-core'\nimport type { QueryKey } from '@tanstack/query-core'\n\nexport const ensureStaleTime = (\n  defaultedOptions: DefaultedQueryObserverOptions<any, any, any, any, any>,\n) => {\n  if (defaultedOptions.suspense) {\n    // Always set stale time when using suspense to prevent\n    // fetching again when directly mounting after suspending\n    if (typeof defaultedOptions.staleTime !== 'number') {\n      defaultedOptions.staleTime = 1000\n    }\n  }\n}\n\nexport const willFetch = (\n  result: QueryObserverResult<any, any>,\n  isRestoring: boolean,\n) => result.isLoading && result.isFetching && !isRestoring\n\nexport const shouldSuspend = (\n  defaultedOptions:\n    | DefaultedQueryObserverOptions<any, any, any, any, any>\n    | undefined,\n  result: QueryObserverResult<any, any>,\n  isRestoring: boolean,\n) => defaultedOptions?.suspense && willFetch(result, isRestoring)\n\nexport const fetchOptimistic = <\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  defaultedOptions: DefaultedQueryObserverOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  observer: QueryObserver<TQueryFnData, TError, TData, TQueryData, TQueryKey>,\n  errorResetBoundary: QueryErrorResetBoundaryValue,\n) =>\n  observer\n    .fetchOptimistic(defaultedOptions)\n    .then(({ data }) => {\n      defaultedOptions.onSuccess?.(data as TData)\n      defaultedOptions.onSettled?.(data, null)\n    })\n    .catch((error) => {\n      errorResetBoundary.clearReset()\n      defaultedOptions.onError?.(error)\n      defaultedOptions.onSettled?.(undefined, error)\n    })\n", "'use client'\nimport * as React from 'react'\n\nimport { notifyManager } from '@tanstack/query-core'\nimport { useSyncExternalStore } from './useSyncExternalStore'\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary'\nimport { useQueryClient } from './QueryClientProvider'\nimport { useIsRestoring } from './isRestoring'\nimport {\n  ensurePreventErrorBoundaryRetry,\n  getHasError,\n  useClearResetErrorBoundary,\n} from './errorBoundaryUtils'\nimport { ensureStaleTime, fetchOptimistic, shouldSuspend } from './suspense'\nimport type { QueryKey, QueryObserver } from '@tanstack/query-core'\nimport type { UseBaseQueryOptions } from './types'\n\nexport function useBaseQuery<\n  TQueryFnData,\n  TError,\n  TData,\n  TQueryData,\n  TQueryKey extends QueryKey,\n>(\n  options: UseBaseQueryOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryData,\n    TQueryKey\n  >,\n  Observer: typeof QueryObserver,\n) {\n  const queryClient = useQueryClient({ context: options.context })\n  const isRestoring = useIsRestoring()\n  const errorResetBoundary = useQueryErrorResetBoundary()\n  const defaultedOptions = queryClient.defaultQueryOptions(options)\n\n  // Make sure results are optimistically set in fetching state before subscribing or updating options\n  defaultedOptions._optimisticResults = isRestoring\n    ? 'isRestoring'\n    : 'optimistic'\n\n  // Include callbacks in batch renders\n  if (defaultedOptions.onError) {\n    defaultedOptions.onError = notifyManager.batchCalls(\n      defaultedOptions.onError,\n    )\n  }\n\n  if (defaultedOptions.onSuccess) {\n    defaultedOptions.onSuccess = notifyManager.batchCalls(\n      defaultedOptions.onSuccess,\n    )\n  }\n\n  if (defaultedOptions.onSettled) {\n    defaultedOptions.onSettled = notifyManager.batchCalls(\n      defaultedOptions.onSettled,\n    )\n  }\n\n  ensureStaleTime(defaultedOptions)\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary)\n\n  useClearResetErrorBoundary(errorResetBoundary)\n\n  const [observer] = React.useState(\n    () =>\n      new Observer<TQueryFnData, TError, TData, TQueryData, TQueryKey>(\n        queryClient,\n        defaultedOptions,\n      ),\n  )\n\n  const result = observer.getOptimisticResult(defaultedOptions)\n\n  useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) => {\n        const unsubscribe = isRestoring\n          ? () => undefined\n          : observer.subscribe(notifyManager.batchCalls(onStoreChange))\n\n        // Update result to make sure we did not miss any query updates\n        // between creating the observer and subscribing to it.\n        observer.updateResult()\n\n        return unsubscribe\n      },\n      [observer, isRestoring],\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult(),\n  )\n\n  React.useEffect(() => {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setOptions(defaultedOptions, { listeners: false })\n  }, [defaultedOptions, observer])\n\n  // Handle suspense\n  if (shouldSuspend(defaultedOptions, result, isRestoring)) {\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary)\n  }\n\n  // Handle error boundary\n  if (\n    getHasError({\n      result,\n      errorResetBoundary,\n      useErrorBoundary: defaultedOptions.useErrorBoundary,\n      query: observer.getCurrentQuery(),\n    })\n  ) {\n    throw result.error\n  }\n\n  // Handle result property usage tracking\n  return !defaultedOptions.notifyOnChangeProps\n    ? observer.trackResult(result)\n    : result\n}\n", "'use client'\nimport { QueryObserver, parseQueryArgs } from '@tanstack/query-core'\nimport { useBaseQuery } from './useBaseQuery'\nimport type { QueryFunction, QueryKey } from '@tanstack/query-core'\nimport type {\n  DefinedUseQueryResult,\n  UseQueryOptions,\n  UseQueryResult,\n} from './types'\n\n// HOOK\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: Omit<\n    UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    'initialData'\n  > & { initialData?: () => undefined },\n): UseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: Omit<\n    UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    'initialData'\n  > & { initialData: TQueryFnData | (() => TQueryFnData) },\n): DefinedUseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n): UseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  queryKey: TQueryKey,\n  options?: Omit<\n    UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    'queryKey' | 'initialData'\n  > & { initialData?: () => undefined },\n): UseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  queryKey: TQueryKey,\n  options?: Omit<\n    UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    'queryKey' | 'initialData'\n  > & { initialData: TQueryFnData | (() => TQueryFnData) },\n): DefinedUseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  queryKey: TQueryKey,\n  options?: Omit<\n    UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    'queryKey'\n  >,\n): UseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  queryKey: TQueryKey,\n  queryFn: QueryFunction<TQueryFnData, TQueryKey>,\n  options?: Omit<\n    UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    'queryKey' | 'queryFn' | 'initialData'\n  > & { initialData?: () => undefined },\n): UseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  queryKey: TQueryKey,\n  queryFn: QueryFunction<TQueryFnData, TQueryKey>,\n  options?: Omit<\n    UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    'queryKey' | 'queryFn' | 'initialData'\n  > & { initialData: TQueryFnData | (() => TQueryFnData) },\n): DefinedUseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  queryKey: TQueryKey,\n  queryFn: QueryFunction<TQueryFnData, TQueryKey>,\n  options?: Omit<\n    UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n    'queryKey' | 'queryFn'\n  >,\n): UseQueryResult<TData, TError>\n\nexport function useQuery<\n  TQueryFnData,\n  TError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  arg1: TQueryKey | UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  arg2?:\n    | QueryFunction<TQueryFnData, TQueryKey>\n    | UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n  arg3?: UseQueryOptions<TQueryFnData, TError, TData, TQueryKey>,\n): UseQueryResult<TData, TError> {\n  const parsedOptions = parseQueryArgs(arg1, arg2, arg3)\n  return useBaseQuery(parsedOptions, QueryObserver)\n}\n", "'use client'\nimport * as React from 'react'\nimport {\n  MutationObserver,\n  notifyManager,\n  parseMutationArgs,\n} from '@tanstack/query-core'\nimport { useSyncExternalStore } from './useSyncExternalStore'\n\nimport { useQueryClient } from './QueryClientProvider'\nimport { shouldThrowError } from './utils'\nimport type { MutationFunction, MutationKey } from '@tanstack/query-core'\nimport type {\n  UseMutateFunction,\n  UseMutationOptions,\n  UseMutationResult,\n} from './types'\n\n// HOOK\n\nexport function useMutation<\n  TData = unknown,\n  TError = unknown,\n  TVariables = void,\n  TContext = unknown,\n>(\n  options: UseMutationOptions<TData, TError, TVariables, TContext>,\n): UseMutationResult<TData, TError, TVariables, TContext>\nexport function useMutation<\n  TData = unknown,\n  TError = unknown,\n  TVariables = void,\n  TContext = unknown,\n>(\n  mutationFn: MutationFunction<TData, TVariables>,\n  options?: Omit<\n    UseMutationOptions<TData, TError, TVariables, TContext>,\n    'mutationFn'\n  >,\n): UseMutationResult<TData, TError, TVariables, TContext>\nexport function useMutation<\n  TData = unknown,\n  TError = unknown,\n  TVariables = void,\n  TContext = unknown,\n>(\n  mutationKey: MutationKey,\n  options?: Omit<\n    UseMutationOptions<TData, TError, TVariables, TContext>,\n    'mutationKey'\n  >,\n): UseMutationResult<TData, TError, TVariables, TContext>\nexport function useMutation<\n  TData = unknown,\n  TError = unknown,\n  TVariables = void,\n  TContext = unknown,\n>(\n  mutationKey: MutationKey,\n  mutationFn?: MutationFunction<TData, TVariables>,\n  options?: Omit<\n    UseMutationOptions<TData, TError, TVariables, TContext>,\n    'mutationKey' | 'mutationFn'\n  >,\n): UseMutationResult<TData, TError, TVariables, TContext>\nexport function useMutation<\n  TData = unknown,\n  TError = unknown,\n  TVariables = void,\n  TContext = unknown,\n>(\n  arg1:\n    | MutationKey\n    | MutationFunction<TData, TVariables>\n    | UseMutationOptions<TData, TError, TVariables, TContext>,\n  arg2?:\n    | MutationFunction<TData, TVariables>\n    | UseMutationOptions<TData, TError, TVariables, TContext>,\n  arg3?: UseMutationOptions<TData, TError, TVariables, TContext>,\n): UseMutationResult<TData, TError, TVariables, TContext> {\n  const options = parseMutationArgs(arg1, arg2, arg3)\n  const queryClient = useQueryClient({ context: options.context })\n\n  const [observer] = React.useState(\n    () =>\n      new MutationObserver<TData, TError, TVariables, TContext>(\n        queryClient,\n        options,\n      ),\n  )\n\n  React.useEffect(() => {\n    observer.setOptions(options)\n  }, [observer, options])\n\n  const result = useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) =>\n        observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer],\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult(),\n  )\n\n  const mutate = React.useCallback<\n    UseMutateFunction<TData, TError, TVariables, TContext>\n  >(\n    (variables, mutateOptions) => {\n      observer.mutate(variables, mutateOptions).catch(noop)\n    },\n    [observer],\n  )\n\n  if (\n    result.error &&\n    shouldThrowError(observer.options.useErrorBoundary, [result.error])\n  ) {\n    throw result.error\n  }\n\n  return { ...result, mutate, mutateAsync: result.mutate }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() {}\n", "'use client'\nimport { InfiniteQueryObserver, parseQueryArgs } from '@tanstack/query-core'\nimport { useBaseQuery } from './useBaseQuery'\nimport type {\n  QueryFunction,\n  QueryKey,\n  QueryObserver,\n} from '@tanstack/query-core'\nimport type { UseInfiniteQueryOptions, UseInfiniteQueryResult } from './types'\n\n// HOOK\n\nexport function useInfiniteQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  options: UseInfiniteQueryOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryFnData,\n    TQueryKey\n  >,\n): UseInfiniteQueryResult<TData, TError>\nexport function useInfiniteQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  queryKey: TQueryKey,\n  options?: Omit<\n    UseInfiniteQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryFnData,\n      TQueryKey\n    >,\n    'queryKey'\n  >,\n): UseInfiniteQueryResult<TData, TError>\nexport function useInfiniteQuery<\n  TQueryFnData = unknown,\n  TError = unknown,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  queryKey: TQueryKey,\n  queryFn: QueryFunction<TQueryFnData, TQueryKey>,\n  options?: Omit<\n    UseInfiniteQueryOptions<\n      TQueryFnData,\n      TError,\n      TData,\n      TQueryFnData,\n      TQueryKey\n    >,\n    'queryKey' | 'queryFn'\n  >,\n): UseInfiniteQueryResult<TData, TError>\nexport function useInfiniteQuery<\n  TQueryFnData,\n  TError,\n  TData = TQueryFnData,\n  TQueryKey extends QueryKey = QueryKey,\n>(\n  arg1:\n    | TQueryKey\n    | UseInfiniteQueryOptions<\n        TQueryFnData,\n        TError,\n        TData,\n        TQueryFnData,\n        TQueryKey\n      >,\n  arg2?:\n    | QueryFunction<TQueryFnData, TQueryKey>\n    | UseInfiniteQueryOptions<\n        TQueryFnData,\n        TError,\n        TData,\n        TQueryFnData,\n        TQueryKey\n      >,\n  arg3?: UseInfiniteQueryOptions<\n    TQueryFnData,\n    TError,\n    TData,\n    TQueryFnData,\n    TQueryKey\n  >,\n): UseInfiniteQueryResult<TData, TError> {\n  const options = parseQueryArgs(arg1, arg2, arg3)\n  return useBaseQuery(\n    options,\n    InfiniteQueryObserver as typeof QueryObserver,\n  ) as UseInfiniteQueryResult<TData, TError>\n}\n", "import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n", "import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n", "import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n", "/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n", "import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n", "/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n", "import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n", "import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n", "import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n", "/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n", "import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n", "import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n", "import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n", "import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n", "/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n", "/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n", "import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n", "import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n", "import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n", "/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n", "import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n", "import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n", "/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n", "/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n", "import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n", "/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n", "/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nexport default baseIsNaN;\n", "/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default strictIndexOf;\n", "import baseFindIndex from './_baseFindIndex.js';\nimport baseIsNaN from './_baseIsNaN.js';\nimport strictIndexOf from './_strictIndexOf.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nexport default baseIndexOf;\n", "import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n", "/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n", "/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n", "/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n", "/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n", "import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport arrayMap from './_arrayMap.js';\nimport baseUnary from './_baseUnary.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseDifference;\n", "/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n", "import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n", "import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n", "/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n", "import Symbol from './_Symbol.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nexport default isFlattenable;\n", "import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n", "/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n", "/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n", "import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n", "/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n", "import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n", "import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n", "/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n", "import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n", "import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n", "import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n", "import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n", "/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nexport default last;\n", "import baseDifference from './_baseDifference.js';\nimport baseFlatten from './_baseFlatten.js';\nimport baseRest from './_baseRest.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport last from './last.js';\n\n/**\n * This method is like `_.difference` except that it accepts `comparator`\n * which is invoked to compare elements of `array` to `values`. The order and\n * references of result values are determined by the first array. The comparator\n * is invoked with two arguments: (arrVal, othVal).\n *\n * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n *\n * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n * // => [{ 'x': 2, 'y': 1 }]\n */\nvar differenceWith = baseRest(function(array, values) {\n  var comparator = last(values);\n  if (isArrayLikeObject(comparator)) {\n    comparator = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n    : [];\n});\n\nexport default differenceWith;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n", "/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n", "/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n", "import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nexport default createSet;\n", "import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseUniq;\n", "import baseFlatten from './_baseFlatten.js';\nimport baseRest from './_baseRest.js';\nimport baseUniq from './_baseUniq.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport last from './last.js';\n\n/**\n * This method is like `_.union` except that it accepts `comparator` which\n * is invoked to compare elements of `arrays`. Result values are chosen from\n * the first array in which the value occurs. The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.unionWith(objects, others, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n */\nvar unionWith = baseRest(function(arrays) {\n  var comparator = last(arrays);\n  comparator = typeof comparator == 'function' ? comparator : undefined;\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n});\n\nexport default unionWith;\n", "/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nexport default fromPairs;\n", "/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n", "/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n", "/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n", "import arrayFilter from './_arrayFilter.js';\nimport arrayMap from './_arrayMap.js';\nimport baseProperty from './_baseProperty.js';\nimport baseTimes from './_baseTimes.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.zip` except that it accepts an array of grouped\n * elements and creates an array regrouping the elements to their pre-zip\n * configuration.\n *\n * @static\n * @memberOf _\n * @since 1.2.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n *\n * _.unzip(zipped);\n * // => [['a', 'b'], [1, 2], [true, false]]\n */\nfunction unzip(array) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var length = 0;\n  array = arrayFilter(array, function(group) {\n    if (isArrayLikeObject(group)) {\n      length = nativeMax(group.length, length);\n      return true;\n    }\n  });\n  return baseTimes(length, function(index) {\n    return arrayMap(array, baseProperty(index));\n  });\n}\n\nexport default unzip;\n", "import baseRest from './_baseRest.js';\nimport unzip from './unzip.js';\n\n/**\n * Creates an array of grouped elements, the first of which contains the\n * first elements of the given arrays, the second of which contains the\n * second elements of the given arrays, and so on.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n */\nvar zip = baseRest(unzip);\n\nexport default zip;\n", "import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n", "/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n", "/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n", "/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n", "import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n", "import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n", "/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n", "import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n", "import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n", "/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n", "import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n", "import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n", "/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n", "import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n", "/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n", "import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n", "import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n", "import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n", "import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n", "import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n", "/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n", "import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n", "import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n", "import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n", "import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n", "import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n", "import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n", "import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n", "import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n", "import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n", "/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n", "import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n", "import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nexport default toFinite;\n", "import toFinite from './toFinite.js';\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nexport default toInteger;\n", "import baseSlice from './_baseSlice.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array == null ? 0 : array.length;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nexport default chunk;\n", "import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n", "import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n", "import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n", "import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n", "import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n", "import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n", "import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n", "import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n", "import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n", "import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n", "import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n", "import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n", "import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n", "/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n", "import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n", "/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n", "import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n", "import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n", "import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n", "import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n", "import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n", "import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n", "import baseIteratee from './_baseIteratee.js';\nimport baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nexport default uniqBy;\n"],
  "mappings": "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",
  "names": ["exports", "module", "p", "i", "v", "exports", "module", "i", "exports", "React", "is", "y", "useState", "useEffect", "useSyncExternalStore", "error", "useSyncExternalStore$1", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "exports", "module", "concatty", "b", "i", "slicy", "Empty", "exports", "module", "exports", "module", "exports", "module", "undefined", "doEval", "rePropName", "reEscapeChar", "stringToPath", "last", "getBaseIntrinsic", "i", "exports", "module", "exports", "module", "exports", "module", "property", "exports", "module", "hasPropertyDescriptors", "exports", "module", "define", "exports", "module", "applyBind", "exports", "module", "exports", "module", "O", "isArray", "keys", "i", "xs", "isError", "ys", "isPlainObject", "stringTag", "f", "m", "l", "exports", "module", "$o", "exports", "module", "exports", "module", "isArray", "i", "compactQueue", "arrayToObject", "merge", "encode", "compact", "keys", "isRegExp", "isBuffer", "combine", "b", "maybeMap", "exports", "module", "isArray", "isNonNullishPrimitive", "v", "stringify", "value", "keys", "normalizeStringifyOptions", "i", "exports", "module", "isArray", "i", "keys", "normalizeParseOptions", "exports", "module", "exports", "module", "exports", "module", "f", "o", "b", "r", "J", "i", "e", "t", "_", "n", "l", "p", "m", "y", "s", "a", "u", "h", "v", "d", "c", "g", "E", "z", "P", "q", "I", "w", "R", "S", "T", "O", "A", "import_react", "unrelatedFunctionName", "cleanStack", "stack", "firstUnrelatedIndex", "frame", "REFINE_PACKAGE_FILEPATH_REGEXP", "isRefineStack", "filename", "getPackageNameFromFilename", "_a", "match", "name", "getTrace", "excludeFromTrace", "error", "ErrorStackParser", "trace", "getResourcePath", "hookName", "legacyKey", "scopes", "getXRay", "resourceName", "resourcePath", "createIdentifier", "key", "simpleTrace", "t", "createMutationListener", "ws", "mutation", "meta", "resolve", "_b", "send", "DevtoolsEvent", "createQueryListener", "query", "useQuerySubscription", "queryClient", "useContext", "DevToolsContext", "queryCacheSubscription", "React", "mutationCacheSubscription", "queryCache", "queryListener", "type", "mutationCache", "mutationListener", "receive", "queryKey", "Subscribable", "constructor", "listeners", "Set", "subscribe", "bind", "listener", "identity", "add", "onSubscribe", "delete", "onUnsubscribe", "hasListeners", "size", "isServer", "window", "noop", "undefined", "functionalUpdate", "updater", "input", "isValidTimeout", "value", "Infinity", "timeUntilStale", "updatedAt", "staleTime", "Math", "max", "Date", "now", "parseQueryArgs", "arg1", "arg2", "arg3", "isQueryKey", "queryKey", "queryFn", "parseMutationArgs", "mutationKey", "mutationFn", "parseFilterArgs", "matchQuery", "filters", "query", "type", "exact", "fetchStatus", "predicate", "queryKey", "stale", "isQueryKey", "queryHash", "hashQueryKeyByOptions", "options", "partialMatchKey", "isActive", "isStale", "state", "matchMutation", "mutation", "fetching", "mutationKey", "hashQueryKey", "status", "hashFn", "queryKeyHashFn", "JSON", "stringify", "_", "val", "isPlainObject", "Object", "keys", "sort", "reduce", "result", "key", "a", "b", "partialDeepEqual", "some", "replaceEqualDeep", "array", "isPlainArray", "aSize", "length", "bItems", "bSize", "copy", "equalItems", "i", "shallowEqualObjects", "value", "Array", "isArray", "o", "hasObjectPrototype", "ctor", "constructor", "prot", "prototype", "hasOwnProperty", "toString", "call", "sleep", "timeout", "Promise", "resolve", "setTimeout", "scheduleMicrotask", "callback", "then", "getAbortController", "AbortController", "replaceData", "prevData", "data", "options", "isDataEqual", "structuralSharing", "replaceEqualDeep", "FocusManager", "Subscribable", "constructor", "setup", "onFocus", "isServer", "window", "addEventListener", "listener", "removeEventListener", "onSubscribe", "cleanup", "setEventListener", "onUnsubscribe", "hasListeners", "undefined", "focused", "setFocused", "changed", "listeners", "forEach", "isFocused", "document", "includes", "visibilityState", "focusManager", "onlineEvents", "OnlineManager", "Subscribable", "constructor", "setup", "onOnline", "isServer", "window", "addEventListener", "listener", "forEach", "event", "removeEventListener", "onSubscribe", "cleanup", "setEventListener", "onUnsubscribe", "hasListeners", "undefined", "online", "setOnline", "changed", "listeners", "isOnline", "navigator", "onLine", "onlineManager", "defaultRetryDelay", "failureCount", "Math", "min", "canFetch", "networkMode", "onlineManager", "isOnline", "CancelledError", "constructor", "options", "revert", "silent", "isCancelledError", "value", "createRetryer", "config", "isRetryCancelled", "isResolved", "continueFn", "promiseResolve", "promiseReject", "promise", "Promise", "outerResolve", "outerReject", "cancel", "cancelOptions", "reject", "abort", "cancelRetry", "continueRetry", "shouldPause", "focusManager", "isFocused", "resolve", "onSuccess", "onError", "pause", "continueResolve", "canContinue", "onPause", "then", "undefined", "onContinue", "run", "promiseOrValue", "fn", "error", "catch", "retry", "retryDelay", "delay", "shouldRetry", "onFail", "sleep", "continue", "didContinue", "defaultLogger", "console", "createNotifyManager", "queue", "transactions", "notifyFn", "callback", "batchNotifyFn", "batch", "result", "flush", "schedule", "push", "scheduleMicrotask", "batchCalls", "args", "originalQueue", "length", "forEach", "setNotifyFunction", "fn", "setBatchNotifyFunction", "notifyManager", "Removable", "destroy", "clearGcTimeout", "scheduleGc", "isValidTimeout", "cacheTime", "gcTimeout", "setTimeout", "optionalRemove", "updateCacheTime", "newCacheTime", "Math", "max", "isServer", "Infinity", "clearTimeout", "undefined", "Query", "Removable", "constructor", "config", "abortSignalConsumed", "defaultOptions", "setOptions", "options", "observers", "cache", "logger", "defaultLogger", "queryKey", "queryHash", "initialState", "state", "getDefaultState", "scheduleGc", "meta", "updateCacheTime", "cacheTime", "optionalRemove", "length", "fetchStatus", "remove", "setData", "newData", "data", "replaceData", "dispatch", "type", "dataUpdatedAt", "updatedAt", "manual", "setState", "setStateOptions", "cancel", "promise", "retryer", "then", "noop", "catch", "Promise", "resolve", "destroy", "silent", "reset", "isActive", "some", "observer", "enabled", "isDisabled", "getObserversCount", "isStale", "isInvalidated", "getCurrentResult", "isStaleByTime", "staleTime", "timeUntilStale", "onFocus", "find", "x", "shouldFetchOnWindowFocus", "refetch", "cancelRefetch", "continue", "onOnline", "shouldFetchOnReconnect", "addObserver", "includes", "push", "clearGcTimeout", "notify", "query", "removeObserver", "filter", "revert", "cancelRetry", "invalidate", "fetch", "fetchOptions", "continueRetry", "queryFn", "process", "Array", "isArray", "error", "abortController", "getAbortController", "queryFnContext", "pageParam", "undefined", "addSignalProperty", "object", "Object", "defineProperty", "enumerable", "get", "signal", "fetchFn", "reject", "context", "behavior", "onFetch", "revertState", "fetchMeta", "onError", "isCancelledError", "onSettled", "isFetchingOptimistic", "createRetryer", "fn", "abort", "bind", "onSuccess", "Error", "onFail", "failureCount", "onPause", "onContinue", "retry", "retryDelay", "networkMode", "action", "reducer", "fetchFailureCount", "fetchFailureReason", "canFetch", "status", "dataUpdateCount", "Date", "now", "errorUpdateCount", "errorUpdatedAt", "notifyManager", "batch", "forEach", "onQueryUpdate", "initialData", "hasData", "initialDataUpdatedAt", "QueryCache", "Subscribable", "constructor", "config", "queries", "queriesMap", "build", "client", "options", "state", "queryKey", "queryHash", "hashQueryKeyByOptions", "query", "get", "Query", "cache", "logger", "getLogger", "defaultQueryOptions", "defaultOptions", "getQueryDefaults", "add", "push", "notify", "type", "remove", "queryInMap", "destroy", "filter", "x", "clear", "notifyManager", "batch", "forEach", "getAll", "find", "arg1", "arg2", "filters", "parseFilterArgs", "exact", "matchQuery", "findAll", "Object", "keys", "length", "event", "listeners", "listener", "onFocus", "onOnline", "Mutation", "Removable", "constructor", "config", "defaultOptions", "mutationId", "mutationCache", "logger", "defaultLogger", "observers", "state", "getDefaultState", "setOptions", "options", "scheduleGc", "updateCacheTime", "cacheTime", "meta", "setState", "dispatch", "type", "addObserver", "observer", "includes", "push", "clearGcTimeout", "notify", "mutation", "removeObserver", "filter", "x", "optionalRemove", "length", "status", "remove", "continue", "retryer", "execute", "executeMutation", "createRetryer", "fn", "mutationFn", "Promise", "reject", "variables", "onFail", "failureCount", "error", "onPause", "onContinue", "retry", "retryDelay", "networkMode", "promise", "restored", "onMutate", "context", "data", "onSuccess", "onSettled", "onError", "process", "undefined", "action", "reducer", "failureReason", "isPaused", "canFetch", "notifyManager", "batch", "forEach", "onMutationUpdate", "MutationCache", "Subscribable", "constructor", "config", "mutations", "mutationId", "build", "client", "options", "state", "mutation", "Mutation", "mutationCache", "logger", "getLogger", "defaultMutationOptions", "defaultOptions", "mutationKey", "getMutationDefaults", "undefined", "add", "push", "notify", "type", "remove", "filter", "x", "clear", "notifyManager", "batch", "forEach", "getAll", "find", "filters", "exact", "matchMutation", "findAll", "event", "listeners", "listener", "resumePausedMutations", "resuming", "Promise", "resolve", "then", "pausedMutations", "isPaused", "reduce", "promise", "continue", "catch", "noop", "infiniteQueryBehavior", "onFetch", "context", "fetchFn", "refetchPage", "fetchOptions", "meta", "fetchMore", "pageParam", "isFetchingNextPage", "direction", "isFetchingPreviousPage", "oldPages", "state", "data", "pages", "oldPageParams", "pageParams", "newPageParams", "cancelled", "addSignalProperty", "object", "Object", "defineProperty", "enumerable", "get", "signal", "aborted", "addEventListener", "queryFn", "options", "Promise", "reject", "queryHash", "buildNewPages", "param", "page", "previous", "fetchPage", "manual", "length", "resolve", "queryFnContext", "queryKey", "queryFnResult", "promise", "then", "getNextPageParam", "getPreviousPageParam", "shouldFetchFirstPage", "i", "shouldFetchNextPage", "finalPromise", "hasNextPage", "Array", "isArray", "nextPageParam", "hasPreviousPage", "previousPageParam", "QueryClient", "constructor", "config", "queryCache", "QueryCache", "mutationCache", "MutationCache", "logger", "defaultLogger", "defaultOptions", "queryDefaults", "mutationDefaults", "mountCount", "error", "mount", "unsubscribeFocus", "focusManager", "subscribe", "isFocused", "resumePausedMutations", "onFocus", "unsubscribeOnline", "onlineManager", "isOnline", "onOnline", "unmount", "undefined", "isFetching", "arg1", "arg2", "filters", "parseFilterArgs", "fetchStatus", "findAll", "length", "isMutating", "fetching", "getQueryData", "queryKey", "find", "state", "data", "ensureQueryData", "arg3", "parsedOptions", "parseQueryArgs", "cachedData", "Promise", "resolve", "fetchQuery", "getQueriesData", "queryKeyOrFilters", "getQueryCache", "map", "setQueryData", "updater", "options", "query", "prevData", "functionalUpdate", "defaultedOptions", "defaultQueryOptions", "build", "setData", "manual", "setQueriesData", "notifyManager", "batch", "getQueryState", "removeQueries", "forEach", "remove", "resetQueries", "refetchFilters", "type", "reset", "refetchQueries", "cancelQueries", "cancelOptions", "revert", "promises", "cancel", "all", "then", "noop", "catch", "invalidateQueries", "invalidate", "refetchType", "filter", "isDisabled", "fetch", "cancelRefetch", "meta", "refetchPage", "promise", "throwOnError", "retry", "isStaleByTime", "staleTime", "prefetchQuery", "fetchInfiniteQuery", "behavior", "infiniteQueryBehavior", "prefetchInfiniteQuery", "getMutationCache", "getLogger", "getDefaultOptions", "setDefaultOptions", "setQueryDefaults", "result", "x", "hashQueryKey", "push", "getQueryDefaults", "firstMatchingDefaults", "partialMatchKey", "process", "matchingDefaults", "JSON", "stringify", "setMutationDefaults", "mutationKey", "getMutationDefaults", "_defaulted", "queries", "queryHash", "hashQueryKeyByOptions", "refetchOnReconnect", "networkMode", "useErrorBoundary", "suspense", "defaultMutationOptions", "mutations", "clear", "QueryObserver", "Subscribable", "constructor", "client", "options", "trackedProps", "Set", "selectError", "bindMethods", "setOptions", "remove", "bind", "refetch", "onSubscribe", "listeners", "size", "currentQuery", "addObserver", "shouldFetchOnMount", "executeFetch", "updateTimers", "onUnsubscribe", "hasListeners", "destroy", "shouldFetchOnReconnect", "shouldFetchOn", "refetchOnReconnect", "shouldFetchOnWindowFocus", "refetchOnWindowFocus", "clearStaleTimeout", "clearRefetchInterval", "removeObserver", "notifyOptions", "prevOptions", "prevQuery", "defaultQueryOptions", "isDataEqual", "getLogger", "error", "shallowEqualObjects", "getQueryCache", "notify", "type", "query", "observer", "enabled", "Error", "queryKey", "updateQuery", "mounted", "shouldFetchOptionally", "updateResult", "staleTime", "updateStaleTimeout", "nextRefetchInterval", "computeRefetchInterval", "currentRefetchInterval", "updateRefetchInterval", "getOptimisticResult", "build", "result", "createResult", "shouldAssignObserverCurrentProperties", "currentResult", "currentResultOptions", "currentResultState", "state", "getCurrentResult", "trackResult", "trackedResult", "Object", "keys", "forEach", "key", "defineProperty", "configurable", "enumerable", "get", "add", "getCurrentQuery", "refetchPage", "fetch", "meta", "fetchOptimistic", "defaultedOptions", "isFetchingOptimistic", "then", "fetchOptions", "cancelRefetch", "promise", "throwOnError", "catch", "noop", "isServer", "isStale", "isValidTimeout", "time", "timeUntilStale", "dataUpdatedAt", "timeout", "staleTimeoutId", "setTimeout", "refetchInterval", "data", "nextInterval", "refetchIntervalId", "setInterval", "refetchIntervalInBackground", "focusManager", "isFocused", "clearTimeout", "undefined", "clearInterval", "prevResult", "prevResultState", "prevResultOptions", "queryChange", "queryInitialState", "currentQueryInitialState", "prevQueryResult", "previousQueryResult", "errorUpdatedAt", "fetchStatus", "status", "isPreviousData", "isPlaceholderData", "_optimisticResults", "fetchOnMount", "fetchOptionally", "canFetch", "networkMode", "keepPreviousData", "isSuccess", "select", "selectFn", "selectResult", "replaceData", "process", "placeholderData", "Date", "now", "isFetching", "isLoading", "isError", "isInitialLoading", "failureCount", "fetchFailureCount", "failureReason", "fetchFailureReason", "errorUpdateCount", "isFetched", "dataUpdateCount", "isFetchedAfterMount", "isRefetching", "isLoadingError", "isPaused", "isRefetchError", "nextResult", "defaultNotifyOptions", "cache", "shouldNotifyListeners", "notifyOnChangeProps", "notifyOnChangePropsValue", "includedProps", "useErrorBoundary", "some", "typedKey", "changed", "has", "onQueryUpdate", "action", "onSuccess", "manual", "isCancelledError", "onError", "notifyManager", "batch", "onSettled", "listener", "shouldLoadOnMount", "retryOnMount", "refetchOnMount", "field", "value", "suspense", "isStaleByTime", "optimisticResult", "InfiniteQueryObserver", "QueryObserver", "constructor", "client", "options", "bindMethods", "fetchNextPage", "bind", "fetchPreviousPage", "setOptions", "notifyOptions", "behavior", "infiniteQueryBehavior", "getOptimisticResult", "pageParam", "fetch", "meta", "fetchMore", "direction", "createResult", "query", "state", "result", "isFetching", "isRefetching", "isFetchingNextPage", "fetchMeta", "isFetchingPreviousPage", "hasNextPage", "data", "pages", "hasPreviousPage", "MutationObserver", "Subscribable", "constructor", "client", "options", "setOptions", "bindMethods", "updateResult", "mutate", "bind", "reset", "prevOptions", "defaultMutationOptions", "shallowEqualObjects", "getMutationCache", "notify", "type", "mutation", "currentMutation", "observer", "onUnsubscribe", "hasListeners", "removeObserver", "onMutationUpdate", "action", "notifyOptions", "listeners", "onSuccess", "onError", "getCurrentResult", "currentResult", "undefined", "variables", "mutateOptions", "build", "addObserver", "execute", "state", "getDefaultState", "result", "isLoading", "status", "isSuccess", "isError", "isIdle", "notifyManager", "batch", "data", "context", "onSettled", "error", "forEach", "listener", "unstable_batchedUpdates", "notifyManager", "setBatchNotifyFunction", "unstable_batchedUpdates", "useSyncExternalStore$1", "context", "contextSharing", "client", "IsRestoringProvider", "clearReset", "isReset", "reset", "shouldThrowError", "_useErrorBoundary", "params", "useClearResetErrorBoundary", "errorResetBoundary", "query", "ensureStaleTime", "defaultedOptions", "suspense", "staleTime", "willFetch", "result", "isRestoring", "isLoading", "isFetching", "shouldSuspend", "fetchOptimistic", "observer", "errorResetBoundary", "then", "data", "onSuccess", "onSettled", "catch", "error", "clearReset", "onError", "undefined", "ensurePreventErrorBoundaryRetry", "useSyncExternalStore", "observer", "listeners", "noop", "import_react", "funcProto", "funcToString", "objectProto", "hasOwnProperty", "objectProto", "hasOwnProperty", "HASH_UNDEFINED", "Map", "HASH_UNDEFINED", "objectProto", "hasOwnProperty", "Set", "noop", "LARGE_ARRAY_SIZE", "nativeMax", "import_react", "import_pluralize", "import_react", "import_qs", "import_react", "import_qs", "import_react", "import_react", "import_react", "import_react", "LARGE_ARRAY_SIZE", "othValue", "Uint8Array", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "objectProto", "propertyIsEnumerable", "Buffer", "MAX_SAFE_INTEGER", "argsTag", "boolTag", "dateTag", "errorTag", "funcTag", "mapTag", "numberTag", "regexpTag", "setTag", "stringTag", "arrayBufferTag", "dataViewTag", "freeExports", "freeModule", "moduleExports", "objectProto", "hasOwnProperty", "objectProto", "objectProto", "hasOwnProperty", "COMPARE_PARTIAL_FLAG", "objectProto", "hasOwnProperty", "DataView", "Promise", "WeakMap", "mapTag", "objectTag", "setTag", "weakMapTag", "dataViewTag", "COMPARE_PARTIAL_FLAG", "argsTag", "arrayTag", "objectTag", "objectProto", "hasOwnProperty", "import_react", "import_react", "import_warn_once", "INFINITY", "nativeMax", "import_papaparse", "import_react", "import_react", "INFINITY", "symbolProto", "INFINITY", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "import_react", "import_qs", "import_warn_once", "import_react", "import_react", "import_react", "import_warn_once", "import_react", "import_react", "LegacyAuthContext", "React", "LegacyAuthContextProvider", "__name", "children", "isProvided", "authOperations", "replace", "useNavigation", "loginFunc", "params", "_a", "error", "registerFunc", "logoutFunc", "checkAuthFunc", "AuthBindingsContext", "AuthBindingsContextProvider", "authBindings", "handleLogin", "handleRegister", "handleLogout", "handleCheck", "result", "handleForgotPassword", "handleUpdatePassword", "useLegacyAuthContext", "useAuthBindingsContext", "userFriendlySecond", "miliseconds", "importCSVMapper", "data", "mapData", "item", "headers", "body", "entry", "fromPairs", "zip", "index", "array", "userFriendlyResourceName", "resource", "type", "humanizeResource", "humanizeString", "pluralize", "handleUseParams", "arrayFindIndex", "slice", "sliceItem", "sliceIndex", "convertToLegacy", "segments", "newSegments", "newParams", "BaseKeyBuilder", "legacy", "ParamsKeyBuilder", "paramsValue", "DataIdRequiringKeyBuilder", "idValue", "DataIdsRequiringKeyBuilder", "idsValue", "el", "DataResourceKeyBuilder", "actionType", "DataKeyBuilder", "resourceName", "mutationName", "AuthKeyBuilder", "AccessResourceKeyBuilder", "AccessKeyBuilder", "AuditActionKeyBuilder", "AuditKeyBuilder", "KeyBuilder", "name", "keys", "pickNotDeprecated", "args", "arg", "queryKeys", "dataProviderName", "meta", "metaData", "providerName", "config", "ids", "id", "queryKeysReplacement", "preferLegacyKeys", "hasPermission", "permissions", "action", "i", "isParameter", "segment", "splitToSegments", "path", "isSegmentCountsSame", "route", "resourceRoute", "routeSegments", "resourceRouteSegments", "removeLeadingTrailingSlashes", "checkBySegments", "stdRoute", "stdResourceRoute", "getDefaultActionPath", "parentPrefix", "cleanParentPrefix", "getParentResource", "resources", "_b", "parentName", "getParentPrefixForResource", "parents", "parent", "v", "getActionRoutesFromResource", "actions", "actionList", "pickMatchedRoute", "routes", "sanitizedRoutes", "segmentsCount", "eligibleRoutes", "nonParametrizedRoutes", "matchResourceFromRoute", "allFound", "actionRoute", "mostEligible", "routeGenerator", "resourcesFromProps", "createTreeView", "tree", "resourcesRouteObject", "resourcesNameObject", "child", "text", "DefaultLayout", "defaultRefineOptions", "RefineContext", "RefineContextProvider", "hasDashboard", "mutationMode", "warnWhenUnsavedChanges", "syncWithLocation", "undoableTimeout", "DashboardPage", "Title", "Layout", "Header", "Sider", "Footer", "OffLayoutArea", "LoginPage", "catchAll", "liveMode", "onLiveEvent", "options", "handleRefineOptions", "disableTelemetry", "reactQueryClientConfig", "reactQueryDevtoolConfig", "_c", "_d", "_e", "_f", "_g", "_h", "optionsWithDefaults", "disableTelemetryWithDefault", "reactQueryWithDefaults", "redirectPage", "redirectFromProps", "redirectOptions", "sequentialPromises", "promises", "onEachResolve", "onEachReject", "results", "promise", "pickResource", "identifier", "resourceByRoute", "r", "pickDataProvider", "handleMultiple", "res", "getNextPageParam", "lastPage", "pagination", "cursor", "current", "pageSize", "totalPages", "getPreviousPageParam", "legacyResourceTransform", "_resources", "pickRouteParams", "s", "prepareRouteParams", "routeParams", "acc", "key", "value", "composeRoute", "designatedRoute", "resourceMeta", "parsed", "preparedRouteParams", "match", "fromParams", "useActiveAuthProvider", "legacyAuthProvider", "authProvider", "handlePaginationParams", "hasPagination", "configPagination", "hasPaginationString", "mode", "useMediaQuery", "query", "matches", "setMatches", "useState", "useEffect", "media", "listener", "safeTranslate", "translate", "defaultMessage", "translated", "fallback", "generateDefaultDocumentTitle", "actionPrefixMatcher", "resourceNameFallback", "resourceNameWithFallback", "defaultTitle", "suffix", "autoGeneratedTitle", "useMutationMode", "preferredMutationMode", "preferredUndoableTimeout", "useContext", "UnsavedWarnContext", "UnsavedWarnContextProvider", "warnWhen", "setWarnWhen", "useWarnAboutChange", "useSyncWithLocation", "useTitle", "useRefineContext", "__initialized", "useUserFriendlyName", "textTransformers", "humanizeName", "isNested", "obj", "isArray", "flattenObjectKeys", "prefix", "currentPrefix", "propertyPathToArray", "propertyPath", "downloadInBrowser", "filename", "content", "blob", "link", "blobUrl", "deferExecution", "fn", "asyncDebounce", "func", "wait", "cancelReason", "callbacks", "cancelPrevious", "cb", "debouncedFunc", "debounce", "resolve", "reject", "runner", "prepareQueryContext", "context", "queryContext", "parseTableParams", "url", "sorter", "sorters", "filters", "qs", "parseTableParamsFromQuery", "stringifyTableParams", "rest", "compareFilters", "left", "right", "compareSorters", "unionFilters", "permanentFilter", "newFilters", "prevFilters", "f", "warnOnce", "unionWith", "crudFilter", "unionSorters", "permanentSorter", "newSorters", "crudSorter", "setInitialFilters", "defaultFilter", "differenceWith", "setInitialSorters", "defaultSorter", "getDefaultSortOrder", "columnName", "sortItem", "getDefaultFilter", "operatorType", "filter", "operator", "field", "file2Base64", "file", "reader", "resultHandler", "useKeys", "useNewQueryKeys", "usePermissions", "v3LegacyAuthProviderCompatible", "legacyGetPermission", "getPermissions", "queryResponse", "useQuery", "getXRay", "legacyQueryResponse", "useGetIdentity", "queryOptions", "legacyGetUserIdentity", "getIdentity", "useInvalidateAuthStore", "queryClient", "useQueryClient", "useLogout", "mutationOptions", "invalidateAuthStore", "routerType", "useRouterType", "go", "useGo", "push", "open", "close", "useNotification", "legacyLogoutFromContext", "logoutFromContext", "mutation", "useMutation", "variables", "success", "redirectTo", "successNotification", "redirectPath", "redirect", "buildSuccessNotification", "buildNotification", "v3LegacyAuthProviderCompatibleMutation", "useLogin", "useParsed", "useLocation", "useRouterContext", "search", "legacyLoginFromContext", "loginFromContext", "to", "redirectPathFromAuth", "useRegister", "legacyRegisterFromContext", "registerFromContext", "useForgotPassword", "v3LegacyAuthProviderCompatibleForgotPasswordFromContext", "forgotPasswordFromContext", "useUpdatePassword", "legacyUpdatePasswordFromContext", "updatePasswordFromContext", "useIsAuthenticated", "checkAuth", "check", "useAuthenticated", "useOnError", "legacyCheckErrorFromContext", "onErrorFromContext", "legacyLogout", "logout", "shouldLogout", "useCheckError", "useIsExistAuthentication", "legacyIsProvided", "useLoadingOvertime", "isLoading", "intervalProp", "onIntervalProp", "elapsedTime", "setElapsedTime", "overtime", "interval", "onInterval", "intervalFn", "prevElapsedTime", "useList", "resourceFromProp", "errorNotification", "liveParams", "overtimeOptions", "useResource", "dataProvider", "useDataProvider", "useTranslate", "checkError", "handleNotification", "useHandleNotification", "getMeta", "useMeta", "pickedDataProvider", "preferredMeta", "prefferedFilters", "prefferedSorters", "prefferedHasPagination", "prefferedPagination", "isServerPagination", "combinedMeta", "notificationValues", "isEnabled", "getList", "useResourceSubscription", "rawData", "notificationConfig", "err", "useOne", "getOne", "useMany", "getMany", "useUpdate", "select", "mutationModeContext", "undoableTimeoutContext", "publish", "usePublish", "log", "useLog", "notificationDispatch", "useCancelNotification", "invalidateStore", "useInvalidate", "values", "onCancel", "mutationModePropOrContext", "undoableTimeoutPropOrContext", "doMutation", "cancelMutation", "optimisticUpdateMap", "_", "__", "queryKey", "resourceKeys", "previousQueries", "previous", "record", "_data", "_error", "invalidates", "dataProviderNameFromProp", "resourceSingular", "previousData", "queryData", "_fields", "_operation", "_variables", "useCreate", "successNotificationFromProp", "errorNotificationFromProp", "useDelete", "useCreateMany", "selectedDataProvider", "val", "response", "resourcePlural", "useUpdateMany", "mutationFn", "useDeleteMany", "useApiUrl", "getApiUrl", "useCustom", "method", "custom", "useCustomMutation", "defaultDataProvider", "DataContext", "DataContextProvider", "providerValue", "useCallback", "useInfiniteList", "useInfiniteQuery", "paginationProperties", "total", "LiveContext", "LiveContextProvider", "liveProvider", "invalidationFilters", "invalidationOptions", "dp", "useMemoized", "ref", "useRef", "isEqual", "useDeepMemo", "dependencies", "memoizedDependencies", "useMemo", "ResourceContext", "ResourceContextProvider", "providedResources", "RouterPickerContext", "RouterPickerProvider", "defaultRouterProvider", "RouterContext", "createContext", "RouterContextProvider", "router", "useParse", "routerContext", "parse", "oldProps", "force", "pickedResource", "resourceWithRoute", "useResourceWithRoute", "useParams", "legacyParams", "resourceKeyToCheck", "legacyResource", "legacyId", "legacyAction", "legacyResourceName", "legacyIdentifier", "pickedFromProps", "picked", "channel", "types", "enabled", "liveModeFromProp", "dataProviderNameFromProps", "liveModeFromContext", "onLiveEventContextCallback", "invalidate", "subscription", "callback", "event", "useLiveMode", "useSubscription", "UndoableQueueContext", "initialState", "undoableQueueReducer", "state", "notificationItem", "UndoableQueueContextProvider", "notifications", "useReducer", "notificationData", "notification", "UndoableQueue", "NotificationContext", "NotificationContextProvider", "fallbackNotification", "I18nContext", "I18nContextProvider", "i18nProvider", "useSetLocale", "lang", "useGetLocale", "useTranslation", "changeLocale", "getLocale", "useExport", "resourceFromProps", "maxItemCount", "exportOptions", "unparseConfig", "onError", "download", "setIsLoading", "preparingData", "hasUnparseConfig", "csv", "papaparse", "fileExtension", "fileType", "downloadFilename", "useForm", "props", "defaultRedirect", "useRefineOptions", "defaultMutationMode", "handleSubmitWithRedirect", "useRedirectionAfterSubmission", "pickedMeta", "setId", "useResourceParams", "autosaved", "setAutosaved", "isEdit", "isClone", "isCreate", "isIdRequired", "isIdDefined", "isQueryDisabled", "idWarningMessage", "redirectAction", "redirectId", "queryResult", "createMutation", "updateMutation", "mutationResult", "formLoading", "onFinish", "isAutosave", "isPessimistic", "onSuccessRedirect", "missingResourceError", "missingIdError", "missingValuesError", "autosaveOnNonEditError", "mutateAsync", "onFinishAutoSave", "autoSaveProps", "show", "edit", "list", "create", "useBack", "useGetToPath", "resourceFromRoute", "selectedResource", "resourceSelect", "getToPath", "goFromRouter", "handleResourceErrors", "newTo", "useHistory", "history", "back", "handleUrl", "createUrl", "resourceItem", "createActionRoute", "editUrl", "encodedId", "editActionRoute", "cloneUrl", "cloneActionRoute", "showUrl", "showActionRoute", "listUrl", "listActionRoute", "useShow", "useOneProps", "showId", "setShowId", "useImport", "paparseOptions", "batchSize", "onProgress", "processedAmount", "setProcessedAmount", "totalAmount", "setTotalAmount", "createMany", "handleCleanup", "handleFinish", "createdValues", "handleChange", "valueFns", "currentAmount", "chunks", "chunk", "chunkedFns", "chunkedValues", "currentBatchLength", "useModal", "defaultVisible", "visible", "setVisible", "useToPath", "useLink", "defaultProvider", "LegacyRouterContext", "LegacyRouterContextProvider", "Prompt", "Link", "routerContextValues", "AccessControlContext", "AccessControlContextProvider", "can", "sanitizeResource", "icon", "clone", "restResource", "_metaIcon", "restMeta", "_optionsIcon", "restOptions", "useCan", "hookQueryOptions", "globalOptions", "globalQueryOptions", "mergedQueryOptions", "_resource", "paramsRest", "sanitizedResource", "useCanWithoutCache", "canFromContext", "useSelect", "setSearch", "setOptions", "selectedOptions", "setSelectedOptions", "sort", "optionLabel", "optionValue", "searchField", "debounceValue", "defaultValueQueryOptionsFromProps", "fetchSize", "defaultValue", "onSearchFromProp", "getOptionLabel", "get", "getOptionValue", "defaultValues", "defaultValueQueryOnSuccess", "defaultValueQueryOptions", "defaultValueQueryResult", "defaultQueryOnSuccess", "onSearch", "combinedOptions", "uniqBy", "defaultPermanentFilter", "defaultPermanentSorter", "useTable", "initialCurrent", "initialPageSize", "initialSorter", "defaultSetFilterBehavior", "initialFilter", "filtersFromProp", "sortersFromProp", "syncWithLocationProp", "syncWithLocationContext", "pathname", "parsedParams", "isServerSideFilteringEnabled", "isServerSideSortingEnabled", "isPaginationEnabled", "prefferedCurrent", "prefferedPageSize", "parsedCurrent", "parsedPageSize", "parsedSorter", "parsedFilters", "preferredInitialFilters", "preferredPermanentFilters", "preferredInitialSorters", "preferredPermanentSorters", "prefferedFilterBehavior", "defaultCurrent", "defaultPageSize", "setSorters", "setFilters", "setCurrent", "setPageSize", "getCurrentQueryParams", "createLinkForSyncWithLocation", "currentQueryParams", "stringifyParams", "queryParams", "setFiltersAsMerge", "setFiltersAsReplace", "setFiltersWithSetter", "setter", "prev", "setFiltersFn", "setterOrFilters", "behavior", "setSortWithUnion", "newSorter", "AuditLogContext", "AuditLogContextProvider", "update", "logMutationOptions", "renameMutationOptions", "auditLogContext", "identityData", "refetch", "logPermissions", "authorData", "rename", "useLogList", "author", "useBreadcrumb", "metaFromProps", "breadcrumbs", "addBreadcrumb", "parentResource", "grandParentName", "listActionOfResource", "hrefRaw", "href", "actionLabel", "createResourceKey", "currentParentResource", "createTree", "root", "currentParent", "currentTree", "flatten", "items", "itemKey", "getCleanPath", "useMenu", "hideOnMissingParameter", "legacyPath", "getFriendlyName", "cleanRoute", "selectedKey", "defaultOpenKeys", "prepareItem", "composed", "treeItems", "treeMenuItems", "prepare", "preparedNodes", "newItem", "metaFromProp", "_filters", "_sorters", "_current", "_pageSize", "additionalParams", "useId", "inferredId", "useAction", "inferredAction", "inferredIdentifier", "resourceToCheck", "isSameResource", "defaultId", "formAction", "useActionableButton", "humanize", "useButtonCanAccess", "accessControlContext", "accessControlEnabled", "hideIfUnauthorized", "canAccess", "title", "hidden", "disabled", "useNavigationButton", "navigation", "LegacyLink", "getUserFriendlyName", "LinkComponent", "label", "useDeleteButton", "mutate", "confirmOkLabel", "confirmTitle", "cancelLabel", "loading", "useRefreshButton", "onClick", "useShowButton", "useEditButton", "useCloneButton", "useCreateButton", "useListButton", "useSaveButton", "useExportButton", "useImportButton", "ErrorComponent", "errorMessage", "setErrorMessage", "username", "setUsername", "password", "setPassword", "login", "e", "providers", "registerLink", "forgotPasswordLink", "rememberMe", "contentProps", "wrapperProps", "renderContent", "formProps", "hideForm", "ActiveLink", "email", "setEmail", "remember", "setRemember", "renderLink", "renderProviders", "provider", "RegisterPage", "loginLink", "register", "ForgotPasswordPage", "forgotPassword", "UpdatePasswordPage", "updatePassword", "newPassword", "setNewPassword", "confirmPassword", "setConfirmPassword", "AuthPage", "ReadyPage", "cards", "ConfigSuccessPage", "isTablet", "isMobile", "getGridTemplateColumns", "getHeaderFontSize", "getSubHeaderFontSize", "card", "Card", "description", "iconUrl", "isHover", "setIsHover", "ConfigErrorPage", "ErrorGradient", "ErrorIcon", "ExampleImplementation", "WelcomePage", "REFINE_VERSION", "useTelemetryData", "auth", "dataContext", "notificationContext", "refineOptions", "auditLog", "live", "i18n", "accessControl", "projectId", "encode", "payload", "stringifiedPayload", "throughImage", "src", "img", "throughFetch", "transport", "Telemetry", "sent", "encoded", "checkRouterPropMisuse", "bindings", "otherProps", "useRouterMisuseWarning", "warned", "Refine", "legacyRouterProvider", "routerProvider", "notificationProvider", "accessControlProvider", "auditLogProvider", "QueryClient", "useQuerySubscription", "notificationProviderContextValues", "RouterComponent", "QueryClientProvider", "RouteChangeHandler", "timeoutId", "setTimeoutId", "cancelNotification", "newTimeoutId", "LayoutWrapper", "LayoutFromProps", "SiderFromProps", "HeaderFromProps", "TitleFromProps", "FooterFromProps", "OffLayoutAreaFromProps", "UnsavedPrompt", "warnWhenListener", "Authenticated", "redirectOnFail", "appendCurrentPathToQuery", "fallbackContent", "loadingContent", "activeAuthProvider", "hasAuthProvider", "isLegacyAuth", "isLegacyRouter", "legacyLocation", "isFetching", "isSuccess", "isAuthenticatedStatus", "authenticatedRedirect", "isAuthenticated", "appliedRedirect", "toQuery", "RedirectLegacy", "Redirect", "location", "CanAccess", "actionFromProp", "paramsFromProp", "onUnauthorized", "componentQueryOptions", "fallbackAction", "CSSRules", "GitHubBanner", "styleTag", "rule", "GlowSmall", "GlowBig", "Text", "style", "AutoSaveIndicator", "status", "Message", "idle"]
}
